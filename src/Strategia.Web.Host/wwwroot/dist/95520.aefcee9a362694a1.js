"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[95520],{1440:(Q,E,l)=>{l.r(E),l.d(E,{UsersModule:()=>vt});var M=l(75603),P=l(60263),b=l(91170),_=l(85079),I=l(64369),x=l(58127),g=l(37857),C=l(28746),e=l(41571),S=l(7623),T=l(83824),z=l(80529),B=l(3469),V=l(49927),h=l(36895),p=l(24006),w=l(59245),A=l(82659),R=l(17806),d=l(7318),c=l(10805),u=l(1997),f=l(73565);function m(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"option",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.displayName)}}let v=(()=>{class n extends x.c{constructor(t,r){super(r),this._roleService=t,this.roles=[],this.selectedRole=new p.UntypedFormControl(""),this.onTouched=()=>{}}ngOnInit(){this._roleService.getRoles(new g.mik({permissions:[]})).subscribe(t=>{this.roles=t.items})}writeValue(t){this.selectedRole&&this.selectedRole.setValue(t)}registerOnChange(t){this.selectedRole.valueChanges.subscribe(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.selectedRole.disable():this.selectedRole.enable()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(g.AR1),e.\u0275\u0275directiveInject(e.Injector))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["role-combo"]],features:[e.\u0275\u0275ProvidersFeature([{provide:p.NG_VALUE_ACCESSOR,useExisting:(0,e.forwardRef)(()=>n),multi:!0}]),e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:5,consts:[[1,"form-select",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"select",0)(1,"option",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,m,2,2,"option",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("formControl",r.selectedRole),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,3,"FilterByRole")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",r.roles))},dependencies:[h.sg,p.NgSelectOption,p.\u0275NgSelectMultipleOption,p.SelectControlValueAccessor,p.NgControlStatus,p.FormControlDirective,f.F],encapsulation:2}),n})();var U=l(59259),j=l(99983),Z=l(55317),$=l(3410),N=l(438),G=l(69291);const W=["dynamicEntityPropertyValueManager"],J=["manageDynamicEntityParameterValuesModal"];function K(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",8)(9,"span",7),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",9)(14,"dynamic-entity-property-value-manager",10,11),e.\u0275\u0275listener("onSaveDone",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"div",12)(17,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.saveAll())}),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(6,8,"EntityFullName"),":"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.entityFullName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(11,10,"EntityId"),":"),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.entityId," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("entityFullName",t.entityFullName)("entityId",t.entityId),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,12,"Cancel")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,14,"Save")," ")}}const Y=function(){return{backdrop:"static"}};let X=(()=>{class n extends x.c{constructor(t){super(t),this.initialized=!1}saveAll(){this.dynamicEntityPropertyValueManager.saveAll()}close(){this.modal.hide()}show(t,r){this.entityFullName=t,this.entityId=r,this.dynamicEntityPropertyValueManager&&(this.dynamicEntityPropertyValueManager.entityFullName=t,this.dynamicEntityPropertyValueManager.entityId=r,this.dynamicEntityPropertyValueManager.initialize()),this.initialized=!0,this.modal.show()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["manage-dynamic-entity-property-values-modal"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(W,5),e.\u0275\u0275viewQuery(J,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.dynamicEntityPropertyValueManager=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.modal=i.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","manageDynamicEntityParameterValuesModal","aria-hidden","true",1,"modal","fade",3,"config"],["manageDynamicEntityParameterValuesModal","bs-modal"],["class","modal-dialog modal-lg",4,"ngIf"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"float-left"],[1,"fw-bold"],[1,"float-end"],[1,"modal-body"],[3,"entityFullName","entityId","onSaveDone"],["dynamicEntityPropertyValueManager",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"click"],["type","button",1,"btn","btn-primary","fw-bold",3,"click"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275template(2,K,23,16,"div",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction0(2,Y)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.initialized))},dependencies:[h.O5,N.Z,G.J,f.F],encapsulation:2}),n})();const ee=["dynamicPropertiesModal"];let te=(()=>{class n{constructor(t,r){this._dynamicEntityProperty=t,this._permissionCheckerService=r}ngOnInit(){!this.hasPermission()||this._dynamicEntityProperty.getAllEntitiesHasDynamicProperty().subscribe(t=>{t&&t.items&&(this.entityNamesHasDynamicProperty=t.items.map(r=>r.entityFullName))})}hasPermission(){return this._permissionCheckerService.isGranted("Pages.Administration.DynamicEntityProperties")&&this._permissionCheckerService.isGranted("Pages.Administration.DynamicEntityPropertyValue.Edit")}hasEntity(t){return this.entityNamesHasDynamicProperty.indexOf(t)>-1}canShow(t){return this.hasPermission()&&this.hasEntity(t)}getModal(){return this.dynamicPropertiesModal}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(g.kvd),e.\u0275\u0275directiveInject($.qT))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["dynamic-entity-property-manager"]],viewQuery:function(t,r){if(1&t&&e.\u0275\u0275viewQuery(ee,7),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.dynamicPropertiesModal=i.first)}},decls:2,vars:0,consts:[["dynamicPropertiesModal",""]],template:function(t,r){1&t&&e.\u0275\u0275element(0,"manage-dynamic-entity-property-values-modal",null,0)},dependencies:[X],encapsulation:2}),n})();var F=l(61228),ne=l(16291),O=l(32320);const re=["editModal"],ie=["permissionTree"];function oe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("- ",t.userName,"")}}const ae=function(n){return{backdrop:"static",keyboard:n}};let le=(()=>{class n extends x.c{constructor(t,r){super(t),this._userService=r,this.saving=!1,this.resettingPermissions=!1}show(t,r){this.userId=t,this.userName=r,this._userService.getUserPermissionsForEdit(t).subscribe(i=>{this.permissionTree.editData=i,this.modal.show()})}save(){let t=new g.Ble;t.id=this.userId,t.grantedPermissionNames=this.permissionTree.getGrantedPermissionNames(),this.saving=!0,this._userService.updateUserPermissions(t).pipe((0,C.x)(()=>{this.saving=!1})).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close()})}resetPermissions(){let t=new g.QJI;t.id=this.userId,this.resettingPermissions=!0,this._userService.resetUserSpecificPermissions(t).subscribe({next:()=>{this.notify.info(this.l("ResetSuccessfully")),this._userService.getUserPermissionsForEdit(this.userId).subscribe(r=>{this.permissionTree.editData=r})},complete:()=>{this.resettingPermissions=!1}})}close(){this.modal.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.wKd))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["editUserPermissionsModal"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(re,7),e.\u0275\u0275viewQuery(ie,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.modal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.permissionTree=i.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:34,vars:31,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit"],["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],["permissionTree",""],[1,"alert","alert-warning",2,"margin-bottom","0","margin-top","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold","pull-left",3,"disabled","buttonBusy","busyText","tooltip","click"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4,5),e.\u0275\u0275listener("ngSubmit",function(){return r.save()}),e.\u0275\u0275elementStart(6,"div",6)(7,"h4",7)(8,"span"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275template(11,oe,2,1,"span",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"button",9),e.\u0275\u0275listener("click",function(){return r.close()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275element(14,"permission-tree",null,11),e.\u0275\u0275elementStart(16,"div",12)(17,"em"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"div",13)(21,"button",14),e.\u0275\u0275listener("click",function(){return r.resetPermissions()}),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementStart(23,"span"),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(26,"button",15),e.\u0275\u0275listener("click",function(){return r.close()}),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"button",16),e.\u0275\u0275element(30,"i",17),e.\u0275\u0275elementStart(31,"span"),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd()()()()()()()),2&t){const i=e.\u0275\u0275reference(5);e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(29,ae,!r.saving)),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,17,"Permissions")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.userName),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",r.saving),e.\u0275\u0275attribute("aria-label",r.l("Close")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,19,"Note_RefreshPageForPermissionChanges")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("tooltip",e.\u0275\u0275pipeBind1(22,21,"ResetPermissionsTooltip")),e.\u0275\u0275property("disabled",r.saving)("buttonBusy",r.resettingPermissions)("busyText",r.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(25,23,"ResetSpecialPermissions")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",r.saving||r.resettingPermissions),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,25,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!i.form.valid||r.resettingPermissions)("buttonBusy",r.saving)("busyText",r.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,27,"Save"))}},dependencies:[h.O5,p.\u0275NgNoValidate,p.NgControlStatusGroup,p.NgForm,F.L,N.Z,ne.I,O.i9,f.F],encapsulation:2}),n})();var se=l(22957),D=l(8736),k=l(59241),de=l(8297),pe=l(98218),ce=l(97433),me=l(75669),ue=l(32042),L=l(34201);const ge=["createOrEditModal"],fe=["organizationUnitTree"];function _e(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(2,2,"EditUser"),": ",t.user.userName,"")}}function he(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"CreateNewUser")))}function ve(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",58),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2),a=e.\u0275\u0275reference(6);return e.\u0275\u0275resetView(a.show(i.user.id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"ChangeProfilePicture")," "))}function xe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span",59),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"CanNotChangeAdminUserName")," "))}function ye(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",20)(1,"div",60)(2,"label",61),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",62,63),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.user.password=i)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,8,"Password")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.user.password)("required",!t.user.id&&!t.setRandomPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)}}function Ce(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ul",64)(1,"li",44),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li",44),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",44),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",44),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li",44),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()),2&n){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(1),r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!t.controls.Password.errors.requireDigit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.Password.errors.requireLowercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.Password.errors.requireUppercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.Password.errors.requireNonAlphanumeric),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.Password.errors.requiredLength),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,18,"PasswordComplexity_RequiredLength_Hint",r.passwordComplexitySetting.requiredLength)," ")}}function be(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",20)(1,"div",60)(2,"label",65),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"input",66,67),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.userPasswordRepeat=i)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,8,"PasswordRepeat")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.userPasswordRepeat)("required",!t.user.id&&!t.setRandomPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)}}function we(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ul",64)(1,"li",44),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li",44),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",44),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",44),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li",44),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"li",44),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()),2&n){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(1),r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!t.controls.PasswordRepeat.errors.requireDigit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.PasswordRepeat.errors.requireLowercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.PasswordRepeat.errors.requireUppercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.PasswordRepeat.errors.requireNonAlphanumeric),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.PasswordRepeat.errors.requiredLength),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,20,"PasswordComplexity_RequiredLength_Hint",r.passwordComplexitySetting.requiredLength)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",t.controls.PasswordRepeat.valid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,23,"PasswordsDontMatch")," ")}}function Ee(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span",59),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"SMTPSettingsNotProvidedWarningText")," "))}function Se(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",40)(1,"input",68),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.user.isTwoFactorEnabled=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span",42),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.user.isTwoFactorEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,2,"IsTwoFactorEnabled")," ")}}function Ue(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"label",40)(1,"input",69),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.user.isLockoutEnabled=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"span",42),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.user.isLockoutEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,2,"IsLockoutEnabled")," ")}}function Me(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"span",70),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.getAssignedRoleCount()," ")}}function Pe(n,o){1&n&&(e.\u0275\u0275elementStart(0,"small"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" (",e.\u0275\u0275pipeBind1(2,1,"RoleIsInheritedFromOrganizationUnit"),") "))}function Ie(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",71)(1,"label",40)(2,"input",72),e.\u0275\u0275listener("ngModelChange",function(i){const y=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(y.isAssigned=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"span",42),e.\u0275\u0275text(4),e.\u0275\u0275template(5,Pe,3,3,"small",11),e.\u0275\u0275elementEnd()()()}if(2&n){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("id","EditUser_",t.roleName,""),e.\u0275\u0275propertyInterpolate("name",t.roleName),e.\u0275\u0275property("ngModel",t.isAssigned)("disabled",t.inheritedFromOrganizationUnit),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.roleDisplayName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.inheritedFromOrganizationUnit)}}function Te(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",7,8),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.save())}),e.\u0275\u0275elementStart(2,"div",9)(3,"h4",10),e.\u0275\u0275template(4,_e,3,4,"span",11),e.\u0275\u0275template(5,he,3,3,"span",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",13)(8,"tabset")(9,"tab",14),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementStart(11,"div",15)(12,"div",16),e.\u0275\u0275element(13,"img",17),e.\u0275\u0275template(14,ve,3,3,"button",18),e.\u0275\u0275pipe(15,"permission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",19)(17,"div",20)(18,"label",21),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"input",22,23),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.name=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(23,"validation-messages",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"div",20)(25,"label",25),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"input",26,27),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.surname=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"validation-messages",24),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(31,"div",20)(32,"label",28),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"input",29,30),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.emailAddress=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(37,"validation-messages",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"div",20)(39,"label",31),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"input",32),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.phoneNumber=i)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"div",20)(44,"label",33),e.\u0275\u0275text(45),e.\u0275\u0275pipe(46,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",34)(48,"input",35,36),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.userName=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"span",37),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275element(52,"i",38),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(53,xe,3,3,"span",39),e.\u0275\u0275element(54,"validation-messages",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"label",40)(56,"input",41),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.setRandomPassword=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(57,"span",42),e.\u0275\u0275text(58),e.\u0275\u0275pipe(59,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(60,ye,7,10,"div",43),e.\u0275\u0275elementStart(61,"div",44),e.\u0275\u0275template(62,Ce,16,21,"ul",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(63,be,7,10,"div",43),e.\u0275\u0275elementStart(64,"div",44),e.\u0275\u0275template(65,we,19,25,"ul",45),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"label",40)(67,"input",46),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.shouldChangePasswordOnNextLogin=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"span",42),e.\u0275\u0275text(69),e.\u0275\u0275pipe(70,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(71,Ee,3,3,"span",39),e.\u0275\u0275elementStart(72,"label",40)(73,"input",47),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.sendActivationEmail=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(74,"span",42),e.\u0275\u0275text(75),e.\u0275\u0275pipe(76,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(77,"label",40)(78,"input",48),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.user.isActive=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"span",42),e.\u0275\u0275text(80),e.\u0275\u0275pipe(81,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(82,Se,5,4,"label",49),e.\u0275\u0275template(83,Ue,5,4,"label",49),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(84,"tab",14),e.\u0275\u0275pipe(85,"localize"),e.\u0275\u0275template(86,Me,2,1,"ng-template",50),e.\u0275\u0275elementStart(87,"div",15),e.\u0275\u0275template(88,Ie,6,6,"div",51),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(89,"tab",14),e.\u0275\u0275pipe(90,"localize"),e.\u0275\u0275element(91,"organization-unit-tree",52,53),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(93,"div",54)(94,"button",55),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275text(95),e.\u0275\u0275pipe(96,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(97,"button",56),e.\u0275\u0275element(98,"i",57),e.\u0275\u0275elementStart(99,"span"),e.\u0275\u0275text(100),e.\u0275\u0275pipe(101,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275reference(1),r=e.\u0275\u0275reference(22),i=e.\u0275\u0275reference(29),a=e.\u0275\u0275reference(36),y=e.\u0275\u0275reference(49),s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",s.user.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.user.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",s.saving),e.\u0275\u0275attribute("aria-label",s.l("Close")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(10,54,"UserInformations")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("src",s.profilePicture,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(15,56,"Pages.Administration.Users.ChangeProfilePicture")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(20,58,"FirstName")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.user.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",r),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(27,60,"Surname")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.user.surname),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",i),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(34,62,"EmailAddress")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.user.emailAddress),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",a),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(41,64,"PhoneNumber")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.user.phoneNumber),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(46,66,"UserName")," *"),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",!s.canChangeUserName)("ngModel",s.user.userName),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("tooltip",e.\u0275\u0275pipeBind2(51,68,"AllowedUserNameCharactersInfoText",s.allowedUserNameCharacters)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!s.canChangeUserName),e.\u0275\u0275advance(1),e.\u0275\u0275property("formCtrl",y),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.setRandomPassword),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(59,71,"SetRandomPassword")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s.setRandomPassword),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",s.setRandomPassword||t.form.valid||t.form.pristine),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.controls.Password&&t.controls.Password.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.setRandomPassword),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",s.setRandomPassword||t.form.valid||t.form.pristine),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.controls.PasswordRepeat&&t.controls.PasswordRepeat.errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.user.shouldChangePasswordOnNextLogin),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(70,73,"ShouldChangePasswordOnNextLogin")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s.isSMTPSettingsProvided),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("checkbox-disabled",!s.isSMTPSettingsProvided),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",s.sendActivationEmail)("disabled",!s.isSMTPSettingsProvided),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(76,75,"SendActivationEmail")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",s.user.isActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(81,77,"Active")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",s.isTwoFactorEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",s.isLockoutEnabled),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(85,79,"Roles")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",s.roles),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(90,81,"OrganizationUnits")),e.\u0275\u0275advance(2),e.\u0275\u0275property("cascadeSelectEnabled",!1),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",s.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(96,83,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.form.valid)("buttonBusy",s.saving)("busyText",s.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(101,85,"Save"))}}const ze=function(n){return{backdrop:"static",keyboard:n}};let Be=(()=>{class n extends x.c{constructor(t,r,i){super(t),this._userService=r,this._profileService=i,this.modalSave=new e.EventEmitter,this.active=!1,this.saving=!1,this.canChangeUserName=!0,this.isTwoFactorEnabled=this.setting.getBoolean("Abp.Zero.UserManagement.TwoFactorLogin.IsEnabled"),this.isLockoutEnabled=this.setting.getBoolean("Abp.Zero.UserManagement.UserLockOut.IsEnabled"),this.passwordComplexitySetting=new g.qSp,this.user=new g.rO3,this.sendActivationEmail=!0,this.setRandomPassword=!0,this.passwordComplexityInfo="",this.allowedUserNameCharacters="",this.isSMTPSettingsProvided=!1,this.userPasswordRepeat=""}show(t){t||(this.active=!0,this.setRandomPassword=!0,this.sendActivationEmail=!0),this._userService.getUserForEdit(t).subscribe(r=>{this.user=r.user,this.roles=r.roles,this.canChangeUserName=this.user.userName!==_.g.userManagement.defaultAdminUserName,this.allowedUserNameCharacters=r.allowedUserNameCharacters,this.isSMTPSettingsProvided=r.isSMTPSettingsProvided,this.sendActivationEmail=r.isSMTPSettingsProvided,this.allOrganizationUnits=r.allOrganizationUnits,this.memberedOrganizationUnits=r.memberedOrganizationUnits,this.getProfilePicture(t),t&&(this.active=!0,setTimeout(()=>{this.setRandomPassword=!1},0),this.sendActivationEmail=!1),this._profileService.getPasswordComplexitySetting().subscribe(i=>{this.passwordComplexitySetting=i.setting,this.setPasswordComplexityInfo(),this.modal.show()})})}setPasswordComplexityInfo(){this.passwordComplexityInfo="<ul>",this.passwordComplexitySetting.requireDigit&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireDigit_Hint")+"</li>"),this.passwordComplexitySetting.requireLowercase&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireLowercase_Hint")+"</li>"),this.passwordComplexitySetting.requireUppercase&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireUppercase_Hint")+"</li>"),this.passwordComplexitySetting.requireNonAlphanumeric&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireNonAlphanumeric_Hint")+"</li>"),this.passwordComplexitySetting.requiredLength&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequiredLength_Hint",this.passwordComplexitySetting.requiredLength)+"</li>"),this.passwordComplexityInfo+="</ul>"}getProfilePicture(t){t?this._profileService.getProfilePictureByUser(t).subscribe(r=>{this.profilePicture=r&&r.profilePicture?"data:image/jpeg;base64,"+r.profilePicture:this.appRootUrl()+"assets/common/images/default-profile-picture.png"}):this.profilePicture=this.appRootUrl()+"assets/common/images/default-profile-picture.png"}onShown(){this.organizationUnitTree.data={allOrganizationUnits:this.allOrganizationUnits,selectedOrganizationUnits:this.memberedOrganizationUnits},document.getElementById("Name").focus()}save(){let t=new g.thj;t.user=this.user,t.setRandomPassword=this.setRandomPassword,t.sendActivationEmail=this.sendActivationEmail,t.assignedRoleNames=(0,se.Z)((0,D.Z)(this.roles,{isAssigned:!0,inheritedFromOrganizationUnit:!1}),r=>r.roleName),t.organizationUnits=this.organizationUnitTree.getSelectedOrganizationIds(),this.saving=!0,this._userService.createOrUpdateUser(t).pipe((0,C.x)(()=>{this.saving=!1})).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.userPasswordRepeat="",this.modal.hide()}getAssignedRoleCount(){return(0,D.Z)(this.roles,{isAssigned:!0}).length}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.wKd),e.\u0275\u0275directiveInject(g.qAB))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["createOrEditUserModal"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(ge,7),e.\u0275\u0275viewQuery(fe,5)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.modal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.organizationUnitTree=i.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:7,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade","create-or-edit-user-modal",3,"config","onShown"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],[3,"modalSave"],["changeProfilePictureModal",""],["novalidate","",3,"ngSubmit"],["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"pt-5",3,"heading"],[1,"row"],[1,"col-sm-3","text-center","mb-5","mt-5"],["width","128","height","128",1,"img-thumbnail","img-rounded",3,"src"],["type","button","class","btn btn-light btn-sm mb-5 mt-5",3,"click",4,"ngIf"],[1,"col-sm-9"],[1,"mb-5"],["for","Name",1,"form-label"],["id","Name","type","text","name","Name","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["for","Surname",1,"form-label"],["id","Surname","type","text","name","Surname","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["surnameInput","ngModel"],["for","EmailAddress",1,"form-label"],["id","EmailAddress","type","email","name","EmailAddress","required","","maxlength","256","email","",1,"form-control",3,"ngModel","ngModelChange"],["emailAddressInput","ngModel"],["for","PhoneNumber",1,"form-label"],["id","PhoneNumber","type","text","name","PhoneNumber","maxlength","32",1,"form-control",3,"ngModel","ngModelChange"],["for","UserName",1,"form-label"],[1,"input-group"],["id","UserName","type","text","name","UserName","required","","maxlength","256",1,"form-control",3,"disabled","ngModel","ngModelChange"],["userNameInput","ngModel"],[1,"input-group-text",3,"tooltip"],[1,"fas","fa-info-circle"],["class","form-text text-muted",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","EditUser_SetRandomPassword","type","checkbox","name","SetRandomPassword",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","mb-5",4,"ngIf"],[3,"hidden"],["class","help-block text-danger",4,"ngIf"],["id","EditUser_ShouldChangePasswordOnNextLogin","type","checkbox","name","ShouldChangePasswordOnNextLogin",1,"form-check-input",3,"ngModel","ngModelChange"],["id","EditUser_SendActivationEmail","type","checkbox","name","SendActivationEmail",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","EditUser_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],["class","form-check form-check-custom form-check-solid py-1",4,"ngIf"],["tabHeading",""],["class","col-4",4,"ngFor","ngForOf"],[3,"cascadeSelectEnabled"],["organizationUnitTree",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"],["type","button",1,"btn","btn-light","btn-sm","mb-5","mt-5",3,"click"],[1,"form-text","text-muted"],[1,"right"],["for","Password",1,"form-label"],["id","Password","type","password","name","Password","id","Password","maxlength","32","validateEqual","PasswordRepeat","reverse","true","autocomplete","new-password",1,"form-control",3,"ngModel","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["Password","ngModel"],[1,"help-block","text-danger"],["for","PasswordRepeat",1,"form-label"],["id","PasswordRepeat","type","password","name","PasswordRepeat","maxlength","32","validateEqual","Password","reverse","false","autocomplete","new-password",1,"form-control",3,"ngModel","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["PasswordRepeat","ngModel"],["id","EditUser_IsTwoFactorEnabled","type","checkbox","name","IsTwoFactorEnabled",1,"form-check-input",3,"ngModel","ngModelChange"],["id","EditUser_IsLockoutEnabled","type","checkbox","name","IsLockoutEnabled",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"badge","badge-success","assigned-role-count","ms-2"],[1,"col-4"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","disabled","ngModelChange"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return r.onShown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,Te,102,87,"form",4),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"changeProfilePictureModal",5,6),e.\u0275\u0275listener("modalSave",function(a){return r.getProfilePicture(a)}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,ze,!r.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.active))},dependencies:[h.sg,h.O5,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.CheckboxControlValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.RequiredValidator,p.MaxLengthValidator,p.EmailValidator,p.NgModel,p.NgForm,k.wW,k.AH,k.y3,de.z,pe.J,F.L,ce.s,N.Z,me.x,O.i9,ue.h,f.F,L.a],styles:[".user-edit-dialog-profile-image{margin-bottom:20px}.create-or-edit-user-modal ul.nav-tabs li.nav-item a{min-height:38px!important}\n"],encapsulation:2}),n})();var Ve=l(80659),Ae=l(86085);const Re=["createOrEditUserModal"],Ne=["editUserPermissionsModal"],ke=["dataTable"],Fe=["paginator"],Oe=["ExcelFileUpload"],De=["permissionFilterTreeModal"],Le=["dynamicEntityPropertyManager"];function He(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",52)(2,"span",53)(3,"p-fileUpload",54,55),e.\u0275\u0275listener("uploadHandler",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(a.uploadExcel(i))})("onError",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(i.onUploadExcelError())}),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()()()}2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("chooseLabel",e.\u0275\u0275pipeBind1(5,1,"ImportFromExcel")))}function qe(n,o){1&n&&e.\u0275\u0275element(0,"li",56)}function Qe(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"li",47)(1,"span",57),e.\u0275\u0275element(2,"small",58),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("innerHTML",t.l("ImportToExcelSampleFileDownloadInfo","<a href=/assets/sampleFiles/ImportUsersSampleFile.xlsx>"+t.l("ClickHere")+"</a>"),e.\u0275\u0275sanitizeHtml)}}function je(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ul",46)(1,"li",47)(2,"a",48),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.exportToExcel())}),e.\u0275\u0275element(3,"i",49),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(6,He,6,3,"li",50),e.\u0275\u0275pipe(7,"permission"),e.\u0275\u0275template(8,qe,1,0,"li",51),e.\u0275\u0275pipe(9,"permission"),e.\u0275\u0275template(10,Qe,3,1,"li",50),e.\u0275\u0275pipe(11,"permission"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,4,"ExportToExcel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(7,6,"Pages.Administration.Users.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(9,8,"Pages.Administration.Users.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(11,10,"Pages.Administration.Users.Create")))}function Ze(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",59),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.createUser())}),e.\u0275\u0275element(1,"i",60),e.\u0275\u0275elementStart(2,"span",5),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"CreateNewUser")," "))}function $e(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",24)(1,"div",20)(2,"role-combo",61),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.role=i)}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.role)}}function Ge(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",29)(1,"div",62)(2,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.getUsers())}),e.\u0275\u0275element(3,"i",64),e.\u0275\u0275elementStart(4,"span",5),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()()()}2&n&&(e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,1,"Refresh")," "))}function We(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",65),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.advancedFiltersAreShown=!i.advancedFiltersAreShown)}),e.\u0275\u0275element(1,"i",66),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"ShowAdvancedFilters")," "))}function Je(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",65),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.advancedFiltersAreShown=!i.advancedFiltersAreShown)}),e.\u0275\u0275element(1,"i",67),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"HideAdvancedFilters")," "))}const H=function(){return["Pages.Administration.Users.Impersonation","Pages.Administration.Users.Edit","Pages.Administration.Users.ChangePermissions","Pages.Administration.Users.Delete"]};function Ke(n,o){1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",68),e.\u0275\u0275pipe(2,"permissionAny"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",69),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275element(8,"p-sortIcon",70),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th",71),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275element(12,"p-sortIcon",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th",73),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275element(16,"p-sortIcon",74),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",75),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th",76),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275element(23,"p-sortIcon",77),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th",78),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275element(27,"p-sortIcon",79),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"th",80),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"localize"),e.\u0275\u0275element(31,"p-sortIcon",81),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"th",82),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275element(35,"p-sortIcon",83),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,10,e.\u0275\u0275pureFunction0(30,H))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,12,"Actions")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,14,"UserName")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,16,"Name")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,18,"Surname")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,20,"Roles")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,22,"EmailAddress")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(26,24,"EmailConfirm")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(30,26,"Active")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,28,"CreationTime")," "))}function Ye(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",100),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a._impersonationService.impersonateUser(i.id,a.appSession.tenantId))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"LoginAsThisUser")," "))}function Xe(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",100),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const a=e.\u0275\u0275reference(58);return e.\u0275\u0275resetView(a.show(i.id))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Edit")," "))}function et(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",100),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const a=e.\u0275\u0275reference(60);return e.\u0275\u0275resetView(a.show(i.id,i.userName))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Permissions")," "))}function tt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",100),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.unlockUser(i))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Unlock")," "))}function nt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",100),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.showDynamicProperties(i))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"DynamicProperties")," "))}function rt(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",47)(1,"a",100),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext(2).$implicit,a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.deleteUser(i))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Delete")," "))}function it(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"ul",99),e.\u0275\u0275template(1,Ye,4,3,"li",50),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275template(3,Xe,4,3,"li",50),e.\u0275\u0275pipe(4,"permission"),e.\u0275\u0275template(5,et,4,3,"li",50),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275template(7,tt,4,3,"li",50),e.\u0275\u0275pipe(8,"permission"),e.\u0275\u0275template(9,nt,4,3,"li",50),e.\u0275\u0275template(10,rt,4,3,"li",50),e.\u0275\u0275pipe(11,"permission"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit,r=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(62);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,6,"Pages.Administration.Users.Impersonation")&&t.id!==r.appSession.userId),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,8,"Pages.Administration.Users.Edit")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,10,"Pages.Administration.Users.ChangePermissions")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,12,t.lockoutEndDateUtc&&"Pages.Administration.Users.Unlock")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.canShow("Strategia.Authorization.Users.User")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(11,14,"Pages.Administration.Users.Delete"))}}function ot(n,o){1&n&&e.\u0275\u0275element(0,"i",101)}function at(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span",102),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Yes")," "))}function lt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span",103),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"No")," "))}function st(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span",102),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Yes")," "))}function dt(n,o){1&n&&(e.\u0275\u0275elementStart(0,"span",103),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"No")," "))}function pt(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td",68),e.\u0275\u0275pipe(2,"permissionAny"),e.\u0275\u0275elementStart(3,"div",84)(4,"button",85),e.\u0275\u0275element(5,"i",86)(6,"span",87),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,it,12,16,"ul",88),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"td",75)(11,"span",89),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"span",90)(15,"a",91),e.\u0275\u0275element(16,"img",92),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"span"),e.\u0275\u0275text(18),e.\u0275\u0275template(19,ot,1,0,"i",93),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(20,"td",75)(21,"span",89),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td",75)(26,"span",89),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(29),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"td",75)(31,"span",89),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(34),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"td",94)(36,"span",89),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(39),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"td",95)(41,"span",89),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(44,at,3,3,"span",96),e.\u0275\u0275template(45,lt,3,3,"span",97),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"td",98)(47,"span",89),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(50,st,3,3,"span",96),e.\u0275\u0275template(51,dt,3,3,"span",97),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"td",95)(53,"span",89),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(56),e.\u0275\u0275pipe(57,"luxonFormat"),e.\u0275\u0275elementEnd()()),2&n){const t=o.$implicit,r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,23,e.\u0275\u0275pureFunction0(46,H))),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(8,25,"Actions")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,27,"UserName")),e.\u0275\u0275advance(3),e.\u0275\u0275property("href",t.profilePictureUrl,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275property("src",t.profilePictureUrl,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.userName," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.isUserLocked(t)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,29,"FirstName")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(28,31,"Surname")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.surname," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,33,"Roles")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",r.getRolesAsString(t.roles)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(38,35,"EmailAddress")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.emailAddress," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,37,"EmailConfirm")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isEmailConfirmed),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isEmailConfirmed),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(49,39,"Active")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isActive),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(55,41,"CreationTime")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(57,43,t.creationTime,"F")," ")}}function ct(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",104),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const mt=function(n,o){return{"col-md-6":n,"col-md-12":o}},ut=function(){return{"min-width":"50rem"}},gt=[{path:"",component:(()=>{class n extends x.c{constructor(t,r,i,a,y,s,xt,yt){super(t),this._impersonationService=r,this._userServiceProxy=i,this._fileDownloadService=a,this._activatedRoute=y,this._httpClient=s,this._localStorageService=xt,this._dateTimeService=yt,this.advancedFiltersAreShown=!1,this.filterText="",this.role="",this.onlyLockedUsers=!1,this.filterText=this._activatedRoute.snapshot.queryParams.filterText||"",this.uploadUrl=_.g.remoteServiceBaseUrl+"/Users/ImportFromExcel"}ngAfterViewInit(){this.primengTableHelper.adjustScroll(this.dataTable)}getUsers(t){this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._userServiceProxy.getUsers(new g.Yod({filter:this.filterText,permissions:this.permissionFilterTreeModal.getSelectedPermissions(),role:""!==this.role?parseInt(this.role):void 0,onlyLockedUsers:this.onlyLockedUsers,sorting:this.primengTableHelper.getSorting(this.dataTable),maxResultCount:this.primengTableHelper.getMaxResultCount(this.paginator,t),skipCount:this.primengTableHelper.getSkipCount(this.paginator,t)})).pipe((0,C.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(r=>{this.primengTableHelper.totalRecordsCount=r.totalCount,this.primengTableHelper.records=r.items,this.setUsersProfilePictureUrl(this.primengTableHelper.records),this.primengTableHelper.hideLoadingIndicator()}))}unlockUser(t){this._userServiceProxy.unlockUser(new g.QJI({id:t.id})).subscribe(()=>{this.notify.success(this.l("UnlockedTheUser",t.userName)),this.reloadPage()})}getRolesAsString(t){let r="";for(let i=0;i<t.length;i++)r.length&&(r+=", "),r+=t[i].roleName;return r}reloadPage(){this.paginator.changePage(this.paginator.getPage())}exportToExcel(){this._userServiceProxy.getUsersToExcel(this.filterText,this.permissionFilterTreeModal.getSelectedPermissions(),""!==this.role?parseInt(this.role):void 0,this.onlyLockedUsers,this.primengTableHelper.getSorting(this.dataTable)).subscribe(t=>{this._fileDownloadService.downloadTempFile(t)})}createUser(){this.createOrEditUserModal.show()}uploadExcel(t){const r=new FormData,i=t.files[0];r.append("file",i,i.name),this._httpClient.post(this.uploadUrl,r).pipe((0,C.x)(()=>this.excelFileUpload.clear())).subscribe(a=>{a.success?this.notify.success(this.l("ImportUsersProcessStart")):null!=a.error&&this.notify.error(this.l("ImportUsersUploadFailed"))})}onUploadExcelError(){this.notify.error(this.l("ImportUsersUploadFailed"))}deleteUser(t){t.userName!==_.g.userManagement.defaultAdminUserName?this.message.confirm(this.l("UserDeleteWarningMessage",t.userName),this.l("AreYouSure"),r=>{r&&this._userServiceProxy.deleteUser(t.id).subscribe(()=>{this.reloadPage(),this.notify.success(this.l("SuccessfullyDeleted"))})}):this.message.warn(this.l("{0}UserCannotBeDeleted",_.g.userManagement.defaultAdminUserName))}showDynamicProperties(t){this.dynamicEntityPropertyManager.getModal().show("Strategia.Authorization.Users.User",t.id.toString())}setUsersProfilePictureUrl(t){for(let r=0;r<t.length;r++){let i=t[r];this._localStorageService.getItem(_.g.authorization.encrptedAuthTokenName,function(a,y){let s=_.g.remoteServiceBaseUrl+"/Profile/GetProfilePictureByUser?userId="+i.id+"&"+_.g.authorization.encrptedAuthTokenName+"="+encodeURIComponent(y.token);i.profilePictureUrl=s})}}isUserLocked(t){return!!t.lockoutEndDateUtc&&this._dateTimeService.changeDateTimeZone(t.lockoutEndDateUtc,"UTC")>this._dateTimeService.getUTCDate()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(S.h),e.\u0275\u0275directiveInject(g.wKd),e.\u0275\u0275directiveInject(T._),e.\u0275\u0275directiveInject(b.gz),e.\u0275\u0275directiveInject(z.eN),e.\u0275\u0275directiveInject(B.n),e.\u0275\u0275directiveInject(V.C))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],viewQuery:function(t,r){if(1&t&&(e.\u0275\u0275viewQuery(Re,7),e.\u0275\u0275viewQuery(Ne,7),e.\u0275\u0275viewQuery(ke,7),e.\u0275\u0275viewQuery(Fe,7),e.\u0275\u0275viewQuery(Oe,5),e.\u0275\u0275viewQuery(De,7),e.\u0275\u0275viewQuery(Le,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.createOrEditUserModal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.editUserPermissionsModal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.dataTable=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.paginator=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.excelFileUpload=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.permissionFilterTreeModal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.dynamicEntityPropertyManager=i.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:63,vars:56,consts:[[3,"title","description"],["role","actions"],["dropdown","","placement","button right",1,"btn-group"],["id","dropdownButtonExcelOperations","dropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","aria-controls","dropdownMenuExcelOperations",1,"btn","btn-outline","btn-outline-success","btn-active-light-success","dropdown-toggle","me-1"],[1,"far","fa-file-excel","btn-md-icon"],[1,"d-none","d-md-inline-block"],["id","dropdownMenuExcelOperations","class","dropdown-menu dropdown-menu-right dropdown-excel-operations","role","menu","aria-labelledby","dropdownButtonExcelOperations",4,"dropdownMenu"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],["autocomplete","new-password",1,"form"],[1,"row","align-items-center","mb-4"],[1,"col-xl-12"],[1,"mb-5","m-form__group","align-items-center"],[1,"input-group"],["name","filterText","autoFocus","","type","text",1,"form-control","m-input",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"bi","bi-search","fs-3"],[1,"row","mb-4",3,"hidden"],[3,"ngClass"],[1,"mb-5"],[3,"disableCascade","onModalclose"],["permissionFilterTreeModal",""],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"form-check","form-check-custom","form-check-solid","form-switch","py-1"],["id","UsersTable_OnlyLockedUsers","type","checkbox","name","OnlyLockedUsers",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","row mb-4",4,"ngIf"],[1,"row","mb-4"],[1,"col-sm-12"],["class","clickable-item text-muted",3,"click",4,"ngIf"],[1,"row","align-items-center"],[1,"primeng-datatable-container",3,"busyIf"],["sortMode","multiple","ScrollWidth","100%","scrollDirection","horizontal",3,"value","rows","paginator","lazy","scrollable","tableStyle","resizableColumns","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[3,"modalSave"],["createOrEditUserModal",""],["editUserPermissionsModal",""],["dynamicEntityPropertyManager",""],["id","dropdownMenuExcelOperations","role","menu","aria-labelledby","dropdownButtonExcelOperations",1,"dropdown-menu","dropdown-menu-right","dropdown-excel-operations"],["role","menuitem"],["id","ExportUsersToExcelButton","href","javascript:;",1,"dropdown-item","text-dark",3,"click"],[1,"fa","fa-download","me-2","mt-1","text-dark",2,"font-size","1rem"],["role","menuitem",4,"ngIf"],["class","divider dropdown-divider",4,"ngIf"],["href","javascript:;",1,"no-padding"],[1,"fileinput-button"],["customUpload","true","name","ExcelFileUpload","maxFileSize","10000000","auto","auto","accept",".csv,.xls,.xlsx",3,"chooseLabel","uploadHandler","onError"],["ExcelFileUpload",""],[1,"divider","dropdown-divider"],["href","#",1,"dropdown-item-text","text-muted","pl-3"],[3,"innerHTML"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg","fs-3","btn-md-icon"],["name","roleFilter",3,"ngModel","ngModelChange"],[1,"col-sm-12","text-end"],[1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-sync","btn-md-icon"],[1,"clickable-item","text-muted",3,"click"],[1,"fa","fa-angle-down"],[1,"fa","fa-angle-up"],[2,"min-width","130px",3,"hidden"],["pSortableColumn","username",2,"min-width","150px"],["field","username"],["pSortableColumn","name",2,"min-width","150px"],["field","name"],["pSortableColumn","surname",2,"min-width","150px"],["field","surname"],[2,"min-width","150px"],["pSortableColumn","emailAddress",2,"min-width","250px"],["field","emailAddress"],["pSortableColumn","isEmailConfirmed",2,"min-width","200px"],["field","isEmailConfirmed"],["pSortableColumn","isActive",2,"min-width","100px"],["field","isActive"],["pSortableColumn","creationTime",2,"min-width","200px"],["field","creationTime"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"bi","bi-gear-fill"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"p-column-title"],[1,"w-100"],["target","_blank",1,"float-left",3,"href"],[1,"img-circle",3,"src"],["class","fas fa-lock ms-2",4,"ngIf"],[2,"min-width","250px"],[2,"min-width","200px"],["class","badge badge-success",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],[2,"min-width","100px"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-lock","ms-2"],[1,"badge","badge-success"],[1,"badge","badge-dark"],[1,"primeng-no-data"]],template:function(t,r){1&t&&(e.\u0275\u0275elementStart(0,"div")(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"div",1)(5,"div",2)(6,"button",3),e.\u0275\u0275element(7,"i",4),e.\u0275\u0275elementStart(8,"span",5),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(11,je,12,12,"ul",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(12,Ze,5,3,"button",7),e.\u0275\u0275pipe(13,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div")(15,"div",8)(16,"div",9)(17,"form",10)(18,"div")(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14)(23,"input",15),e.\u0275\u0275listener("ngModelChange",function(a){return r.filterText=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"button",16),e.\u0275\u0275listener("click",function(){return r.getUsers()}),e.\u0275\u0275element(25,"i",17),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(26,"div",18)(27,"div",19),e.\u0275\u0275pipe(28,"permission"),e.\u0275\u0275pipe(29,"permission"),e.\u0275\u0275elementStart(30,"div",20)(31,"permission-tree-modal",21,22),e.\u0275\u0275listener("onModalclose",function(){return r.getUsers()}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(33,$e,3,1,"div",23),e.\u0275\u0275pipe(34,"permission"),e.\u0275\u0275elementStart(35,"div",24)(36,"label",25)(37,"input",26),e.\u0275\u0275listener("ngModelChange",function(a){return r.onlyLockedUsers=a}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"span",27),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(41,Ge,7,3,"div",28),e.\u0275\u0275elementStart(42,"div",29)(43,"div",30),e.\u0275\u0275template(44,We,4,3,"span",31),e.\u0275\u0275template(45,Je,4,3,"span",31),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(46,"div",32)(47,"div",33)(48,"p-table",34,35),e.\u0275\u0275listener("onLazyLoad",function(a){return r.getUsers(a)}),e.\u0275\u0275template(50,Ke,36,31,"ng-template",36),e.\u0275\u0275template(51,pt,58,47,"ng-template",37),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(52,ct,3,3,"div",38),e.\u0275\u0275elementStart(53,"div",39)(54,"p-paginator",40,41),e.\u0275\u0275listener("onPageChange",function(a){return r.getUsers(a)}),e.\u0275\u0275pipe(56,"localize"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(57,"createOrEditUserModal",42,43),e.\u0275\u0275listener("modalSave",function(){return r.getUsers()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(59,"editUserPermissionsModal",null,44)(61,"dynamic-entity-property-manager",null,45),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,33,"Users"))("description",e.\u0275\u0275pipeBind1(3,35,"UsersHeaderInfo")),e.\u0275\u0275advance(8),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,37,"ExcelOperations")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,39,"Pages.Administration.Users.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(r.containerClass),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngModel",r.filterText)("placeholder",r.l("SearchWithThreeDot")),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",r.l("Search")),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!r.advancedFiltersAreShown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction2(52,mt,e.\u0275\u0275pipeBind1(28,41,"Pages.Administration.Roles"),!e.\u0275\u0275pipeBind1(29,43,"Pages.Administration.Roles"))),e.\u0275\u0275advance(4),e.\u0275\u0275property("disableCascade",!0),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(34,45,"Pages.Administration.Roles")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",r.onlyLockedUsers),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(40,47,"OnlyLockedUsers")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.advancedFiltersAreShown),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!r.advancedFiltersAreShown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",r.advancedFiltersAreShown),e.\u0275\u0275advance(2),e.\u0275\u0275property("busyIf",r.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",r.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",r.primengTableHelper.records)("paginator",!1)("lazy",!0)("scrollable",!0)("tableStyle",e.\u0275\u0275pureFunction0(55,ut))("resizableColumns",r.primengTableHelper.resizableColumns),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==r.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",r.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",r.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",r.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(56,49,"TotalRecordsCount",r.primengTableHelper.totalRecordsCount)))},dependencies:[h.mk,h.O5,p.\u0275NgNoValidate,p.DefaultValueAccessor,p.CheckboxControlValueAccessor,p.NgControlStatus,p.NgControlStatusGroup,p.NgModel,p.NgForm,w.Hz,w.Mq,w.TO,A.h,R.U,d.iA,c.jx,d.lQ,d.fz,u.D,v,U.Z,j.p,Z.$,te,le,Be,Ve.n,f.F,L.a,Ae.G],styles:[".dropdown-excel-operations .p-button{display:block;text-align:left;border-radius:0;transition:none!important;background-color:#fff;color:#181c32!important;font-size:13px!important;font-weight:400!important;margin:0;margin-right:0!important}.dropdown-excel-operations .p-fileupload-choose.p-button.p-state-hover,.p-fileupload-choose.p-button.p-state-focus,.p-fileupload-choose.p-button.p-state-active{background-color:#eee}.dropdown-excel-operations a:hover span.p-button,.dropdown-excel-operations a:hover div.p-fileupload-buttonbar.p-widget-header.p-corner-top{background-color:#f4f5f8!important}.dropdown-excel-operations a.no-padding{padding:0!important}.dropdown-excel-operations a .p-button-text{margin-left:5px!important}.dropdown-excel-operations .p-button-label{font-weight:inherit!important}.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled){border:none}.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):hover,.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):focus,.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):active{background-color:#f4f5f8!important;color:#b2b1c5;box-shadow:none!important;border:none}.dropdown-excel-operations div.p-fileupload-buttonbar.p-widget-header.p-corner-top{border:none;background:#fff;padding-bottom:3px!important;padding-top:3px!important}.dropdown-excel-operations div.p-fileupload-content,.dropdown-excel-operations div.p-fileupload-content.p-widget-content.p-corner-bottom{display:none}.dropdown-excel-operations div.p-fileupload-buttonbar{border:none;padding:0}.dropdown-excel-operations div.p-fileupload-buttonbar.p-widget-header.p-corner-top:hover{background-color:#f4f5f8!important}.p-datatable img.img-circle{height:24px;margin-right:5px}#ExportUsersToExcelButton{padding-left:12px!important}\n"],encapsulation:2,data:{animation:[(0,I.MH)()]}}),n})(),pathMatch:"full"}];let ft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[b.Bz.forChild(gt),b.Bz]}),n})();var q=l(62054);let _t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[q.DynamicEntityPropertyValueModule,q.DynamicEntityPropertyValueModule]}),n})();var ht=l(85073);let vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[S.h],imports:[P.o,M.g,ft,_t,ht.o]}),n})()},55397:(Q,E,l)=>{l.d(E,{Z:()=>R});var M=l(25736),P=l(25575);var I=l(97298);const e=function C(d,c){return c.length<2?d:(0,I.Z)(d,function x(d,c,u){var f=-1,m=d.length;c<0&&(c=-c>m?0:m+c),(u=u>m?m:u)<0&&(u+=m),m=c>u?0:u-c>>>0,c>>>=0;for(var v=Array(m);++f<m;)v[f]=d[f+c];return v}(c,0,-1))};var S=l(62168);const z=function T(d,c){return c=(0,P.Z)(c,d),null==(d=e(d,c))||delete d[(0,S.Z)(function b(d){var c=null==d?0:d.length;return c?d[c-1]:void 0}(c))]};var B=l(56667),h=Array.prototype.splice;const R=function A(d,c){var u=[];if(!d||!d.length)return u;var f=-1,m=[],v=d.length;for(c=(0,M.Z)(c,3);++f<v;){var U=d[f];c(U,f,d)&&(u.push(U),m.push(f))}return function p(d,c){for(var u=d?c.length:0,f=u-1;u--;){var m=c[u];if(u==f||m!==v){var v=m;(0,B.Z)(m)?h.call(d,m,1):z(d,m)}}}(d,m),u}}}]);