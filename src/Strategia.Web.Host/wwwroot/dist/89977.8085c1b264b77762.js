"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[89977],{89977:(I,a,i)=>{i.r(a),i.d(a,{StripePaymentResultModule:()=>f});var l=i(60263),s=i(91170),p=i(58127),e=i(41571),m=i(37857),u=i(3410),c=i(17806),d=i(73565);const h=[{path:"",component:(()=>{class t extends p.c{constructor(n,r,g,P,R){super(n),this._stripePaymentService=r,this._activatedRoute=g,this._router=P,this._sessionService=R,this.controlTimeout=5e3,this.maxControlCount=5}ngOnInit(){this.sessionId=this._activatedRoute.snapshot.queryParams.sessionId,this._stripePaymentService.getPayment(this.sessionId).subscribe(n=>{this._sessionService.tenantId!==n.tenantId&&this._router.navigate([""]),this.paymentId=n.id,this.getPaymentResult()})}getPaymentResult(){this._stripePaymentService.getPaymentResult(this.paymentId).subscribe(n=>{n.paymentDone?this._router.navigate(["account/payment-completed"]):this.controlAgain()},n=>{this.controlAgain()})}controlAgain(){0!==this.maxControlCount&&(setTimeout(()=>{this.getPaymentResult()},this.controlTimeout),this.controlTimeout*=2,this.maxControlCount--)}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.YgH),e.\u0275\u0275directiveInject(s.gz),e.\u0275\u0275directiveInject(s.F0),e.\u0275\u0275directiveInject(u.Cr))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["stripe-payment-result"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:10,consts:[[1,"d-flex","h-100","align-items-center",2,"padding-bottom","150px !important"],[1,"login-form","align-items-center","w-100","m-0"],[1,"pb-13","pt-lg-0","pt-5"],[1,"fw-bolder","text-dark","text-center","fs-h4","fs-h1-lg"],[1,"text-center"],[2,"position","relative","margin-top","60px !important"],[3,"busyIf"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",4),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",5),e.\u0275\u0275element(11,"div",6),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,4,"PleaseWait")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(8,6,"ReceivingPaymentResult")," ",e.\u0275\u0275pipeBind1(9,8,"PleaseWait"),""),e.\u0275\u0275advance(4),e.\u0275\u0275property("busyIf",!0))},dependencies:[c.U,d.F],encapsulation:2}),t})(),pathMatch:"full"}];let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.Bz.forChild(h),s.Bz]}),t})();var v=i(12749);let f=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[l.o,v.y,y]}),t})()}}]);