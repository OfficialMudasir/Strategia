(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[14153],{79700:(ne,T,a)=>{"use strict";a.r(T),a.d(T,{EditionsModule:()=>Ae});var b=a(75603),M=a(60263),C=a(91170),L=a(64369),B=a(58127),_=a(28746),e=a(41571),E=a(37857),S=a(36895),z=a(59245),R=a(17806),O=a(7318),w=a(10805),j=a(55317);let f=(()=>{class i{}return i.DeactiveTenant="DeactiveTenant",i.AssignToAnotherEdition="AssignToAnotherEdition",i})();var v=a(38734),N=a.n(v),d=a(24006),A=a(59241),s=a(61228),p=a(97433),m=a(438),x=a(85566);const c=["editModal"],I=["featureTree"];function P(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h5",8)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",10)(8,"tabset")(9,"tab",11)(10,"div",12)(11,"label",13),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"input",14,15),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.edition.edition.displayName=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"validation-messages",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"tab",11),e.\u0275\u0275element(17,"feature-tree",null,17),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",18)(20,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275text(21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",20),e.\u0275\u0275element(23,"i",21),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275reference(1),o=e.\u0275\u0275reference(14),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",n.l("EditEdition"),": ",n.edition.edition.displayName,""),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275attribute("aria-label",n.l("Close")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("heading",n.l("EditionProperties")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",n.l("EditionName")," *"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",n.edition.edition.displayName)("ngModel",n.edition.edition.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",o),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("heading",n.l("Features")),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.l("Cancel")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.form.valid)("buttonBusy",n.saving)("busyText",n.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.l("Save"))}}const G=function(i){return{backdrop:"static",keyboard:i}};let k=(()=>{class i extends B.c{constructor(t,o,n){super(t),this._editionService=o,this._commonLookupService=n,this.modalSave=new e.EventEmitter,this.active=!1,this.saving=!1,this.currencyMask=N()({prefix:"",allowDecimal:!0}),this.edition=new E.idn,this.expiringEditions=[],this.expireAction=f.DeactiveTenant,this.expireActionEnum=f,this.isFree=!1,this.isTrialActive=!1,this.isWaitingDayActive=!1}show(t){this.active=!0,this._commonLookupService.getEditionsForCombobox(!0).subscribe(o=>{this._editionService.getEditionForEdit(t).subscribe(n=>{this.featureTree.editData=n,this.edition.edition=n.edition,this.modal.show()})})}onShown(){document.getElementById("EditionDisplayName").focus()}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const t=new E.idn;t.edition=this.edition.edition,t.featureValues=this.featureTree.getGrantedFeatures(),this.saving=!0,this._editionService.updateEdition(t).pipe((0,_.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.modal.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(E.GnT),e.\u0275\u0275directiveInject(E.P0Z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["editEditionModal"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(c,7),e.\u0275\u0275viewQuery(I,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.modal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.featureTree=n.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",3,"ngSubmit"],["editionForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"p-5",3,"heading"],[1,"mb-5"],["for","EditionDisplayName",1,"form-label"],["id","EditionDisplayName","type","text","name","EditionDisplayName","required","","maxlength","64",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["editionNameInput","ngModel"],[3,"formCtrl"],["featureTree",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return o.onShown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,P,26,16,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,G,!o.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",o.active))},dependencies:[S.mk,S.O5,d.\u0275NgNoValidate,d.DefaultValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.MaxLengthValidator,d.NgModel,d.NgForm,A.wW,A.AH,s.L,p.s,m.Z,x.y],encapsulation:2}),i})();var U=a(67795),W=a(73565);const Y=["createModal"],$=["featureTree"],V=function(i){return{edited:i}},H=function(i){return{mask:i}};function K(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",41)(1,"div",42)(2,"div",12)(3,"label",43),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",44)(7,"span",45),e.\u0275\u0275text(8),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"input",46,47),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.dailyPrice=n)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(11,"validation-messages",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",42)(13,"div",12)(14,"label",48),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",44)(18,"span",45),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"input",49,50),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.weeklyPrice=n)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(22,"validation-messages",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(23,"div",42)(24,"div",12)(25,"label",51),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",44)(29,"span",45),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"input",52,53),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.monthlyPrice=n)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(33,"validation-messages",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",42)(35,"div",12)(36,"label",54),e.\u0275\u0275text(37),e.\u0275\u0275pipe(38,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",44)(40,"span",45),e.\u0275\u0275text(41),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"input",55,56),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.annualPrice=n)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(44,"validation-messages",16),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275reference(10),o=e.\u0275\u0275reference(21),n=e.\u0275\u0275reference(32),l=e.\u0275\u0275reference(43),g=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,28,"DailyPrice")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",g.appSession.application.currencySign," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(36,V,g.edition.edition.dailyPrice))("required",!g.isFree)("ngModel",g.edition.edition.dailyPrice)("textMask",e.\u0275\u0275pureFunction1(38,H,g.currencyMask)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",t),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,30,"WeeklyPrice")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",g.appSession.application.currencySign," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(40,V,g.edition.edition.weeklyPrice))("required",!g.isFree)("ngModel",g.edition.edition.weeklyPrice)("textMask",e.\u0275\u0275pureFunction1(42,H,g.currencyMask)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",o),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,32,"MonthlyPrice")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",g.appSession.application.currencySign," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(44,V,g.edition.edition.monthlyPrice))("required",!g.isFree)("ngModel",g.edition.edition.monthlyPrice)("textMask",e.\u0275\u0275pureFunction1(46,H,g.currencyMask)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",n),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(38,34,"AnnualPrice")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",g.appSession.application.currencySign," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(48,V,g.edition.edition.annualPrice))("required",!g.isFree)("ngModel",g.edition.edition.annualPrice)("textMask",e.\u0275\u0275pureFunction1(50,H,g.currencyMask)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",l)}}function ie(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",57)(1,"label",58),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",59,60),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.trialDayCount=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"validation-messages",16),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"TrialDayCount")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("required",o.isTrialActive)("ngModel",o.edition.edition.trialDayCount)("ngClass",e.\u0275\u0275pureFunction1(7,V,o.edition.edition.trialDayCount)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",t)}}function q(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",61)(1,"label",62),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",63,64),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.waitingDayAfterExpire=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"validation-messages",16),e.\u0275\u0275elementEnd()}if(2&i){const t=e.\u0275\u0275reference(5),o=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"WaitingDayAfterExpire")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("required",o.isWaitingDayActive)("ngModel",o.edition.edition.waitingDayAfterExpire)("ngClass",e.\u0275\u0275pureFunction1(7,V,o.edition.edition.waitingDayAfterExpire)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",t)}}function Z(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"option",68),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayText," ")}}function F(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",65)(1,"select",66),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(l.edition.edition.expiringEditionId=n)}),e.\u0275\u0275template(2,Z,2,2,"option",67),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",t.edition.edition.expiringEditionId),e.\u0275\u0275attribute("min",t.expireAction==t.expireActionEnum.AssignToAnotherEdition?1:0),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.expiringEditions)}}function J(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h5",8)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",10)(9,"tabset")(10,"tab",11),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementStart(12,"div",12)(13,"label",13),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"input",14,15),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.edition.edition.displayName=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(18,"validation-messages",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"label",17),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"div",18)(23,"label",19)(24,"input",20),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.isFree=n)})("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.resetPrices(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"span",21),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(28,"label",22)(29,"input",23),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.isFree=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"span",21),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(33,K,45,52,"div",24),e.\u0275\u0275elementStart(34,"div",25)(35,"label",26)(36,"input",27),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.isTrialActive=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",21),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(40,ie,7,9,"div",28),e.\u0275\u0275elementStart(41,"label",26)(42,"input",29),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.isWaitingDayActive=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"span",21),e.\u0275\u0275text(44),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(46,q,7,9,"div",30),e.\u0275\u0275elementStart(47,"label",17),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",18)(51,"label",31)(52,"input",32),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.expireAction=n)})("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.removeExpiringEdition(n))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"span",21),e.\u0275\u0275text(54),e.\u0275\u0275pipe(55,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(56,"label",33)(57,"input",34),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.expireAction=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"span",21),e.\u0275\u0275text(59),e.\u0275\u0275pipe(60,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(61,F,3,3,"div",35),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"tab",11),e.\u0275\u0275pipe(63,"localize"),e.\u0275\u0275element(64,"feature-tree",null,36),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(66,"div",37)(67,"button",38),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275text(68),e.\u0275\u0275pipe(69,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(70,"button",39),e.\u0275\u0275element(71,"i",40),e.\u0275\u0275elementStart(72,"span"),e.\u0275\u0275text(73),e.\u0275\u0275pipe(74,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275reference(1),o=e.\u0275\u0275reference(17),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,37,"CreateNewEdition")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275attribute("aria-label",n.l("Close")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(11,39,"EditionProperties")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,41,"EditionName")," * "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.edition.edition.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",o),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,43,"SubscriptionPrice")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.isFree)("value",!0),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(27,45,"Free")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.isFree)("value",!1),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(32,47,"Paid")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.isFree),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",n.isFree),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.isTrialActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,49,"IsTrialActive")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isTrialActive),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.isWaitingDayActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(45,51,"WaitAfterSubscriptionExpireDate")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.isWaitingDayActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(49,53,"WhatWillDoneAfterSubscriptionExpiry")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",n.expireAction)("value",n.expireActionEnum.DeactiveTenant),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(55,55,"DeactiveTenant")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.expireAction)("value",n.expireActionEnum.AssignToAnotherEdition),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(60,57,"AssignToAnotherEdition")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.expireAction==n.expireActionEnum.AssignToAnotherEdition),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(63,59,"Features")),e.\u0275\u0275advance(5),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(69,61,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.form.valid)("buttonBusy",n.saving)("busyText",n.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(74,63,"Save"))}}const oe=function(i){return{backdrop:"static",keyboard:i}};let u=(()=>{class i extends B.c{constructor(t,o,n){super(t),this._editionService=o,this._commonLookupService=n,this.modalSave=new e.EventEmitter,this.active=!1,this.saving=!1,this.currencyMask=N()({prefix:"",allowDecimal:!0}),this.edition=new E.de3,this.expiringEditions=[],this.expireAction=f.DeactiveTenant,this.expireActionEnum=f,this.isFree=!0,this.isTrialActive=!1,this.isWaitingDayActive=!1}show(t){this.active=!0,this._commonLookupService.getEditionsForCombobox(!0).subscribe(o=>{this.expiringEditions=o.items,this.expiringEditions.unshift(new E.p3d({value:null,displayText:this.l("NotAssigned"),isSelected:!0})),this._editionService.getEditionForEdit(t).subscribe(n=>{this.featureTree.editData=n,this.modal.show()})})}onShown(){document.getElementById("EditionDisplayName").focus()}resetPrices(t){this.edition.edition.annualPrice=void 0,this.edition.edition.monthlyPrice=void 0}removeExpiringEdition(t){this.edition.edition.expiringEditionId=null}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const t=new E.de3;t.edition=this.edition.edition,t.featureValues=this.featureTree.getGrantedFeatures(),this.isTrialActive||(this.edition.edition.trialDayCount=null),this.saving=!0,this._editionService.createEdition(t).pipe((0,_.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.modal.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(E.GnT),e.\u0275\u0275directiveInject(E.P0Z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["createEditionModal"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(Y,7),e.\u0275\u0275viewQuery($,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.modal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.featureTree=n.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["createModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",3,"ngSubmit"],["editionForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"p-5",3,"heading"],[1,"mb-5"],["for","EditionDisplayName",1,"form-label"],["id","EditionDisplayName","type","text","name","EditionDisplayName","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["editionNameInput","ngModel"],[3,"formCtrl"],[1,"form-label"],[1,"d-flex","mb-5"],["for","EditEdition_IsFree",1,"form-check","form-check-custom","form-check-solid","me-5"],["id","EditEdition_IsFree","name","SubscriptionPrice","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],[1,"form-check-label"],["for","EditEdition_IsPaid",1,"form-check","form-check-custom","form-check-solid"],["id","EditEdition_IsPaid","name","SubscriptionPrice","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","row",4,"ngIf"],[1,"paid-features",3,"hidden"],[1,"form-check","form-check-custom","form-check-solid","py-1","mb-5"],["id","EditEdition_IsTrialActive","type","checkbox","name","isTrialActive",1,"form-check-input",3,"ngModel","ngModelChange"],["class","mb-5 trial-day-count",4,"ngIf"],["id","EditEdition_IsWaitingDayActive","type","checkbox","name","IsWaitingDayActive",1,"form-check-input",3,"ngModel","ngModelChange"],["class","mb-5 waiting-day-after-expire",4,"ngIf"],["for","EditEdition_ExpireAction_DeactiveUser",1,"form-check","form-check-custom","form-check-solid","me-5"],["id","EditEdition_ExpireAction_DeactiveUser","name","ExpireAction","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["for","EditEdition_ExpireAction_AssignEdition",1,"form-check","form-check-custom","form-check-solid","me-5"],["id","EditEdition_ExpireAction_AssignEdition","name","ExpireAction","type","radio",1,"form-check-input",3,"ngModel","value","ngModelChange"],["class","mb-5 edition-list",4,"ngIf"],["featureTree",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"],[1,"row"],[1,"col-md-6"],["for","DailyPrice",1,"form-label"],[1,"input-group"],[1,"input-group-text"],["type","text","name","DailyPrice","id","DailyPrice","autocomplete","new-password",1,"form-control",3,"ngClass","required","ngModel","textMask","ngModelChange"],["dailyPriceInput","ngModel"],["for","WeeklyPrice",1,"form-label"],["type","text","name","WeeklyPrice","id","WeeklyPrice","autocomplete","new-password",1,"form-control",3,"ngClass","required","ngModel","textMask","ngModelChange"],["weeklyPriceInput","ngModel"],["for","MonthlyPrice",1,"form-label"],["type","text","name","MonthlyPrice","id","MonthlyPrice","autocomplete","new-password",1,"form-control",3,"ngClass","required","ngModel","textMask","ngModelChange"],["monthlyPriceInput","ngModel"],["for","AnnualPrice",1,"form-label"],["type","text","name","AnnualPrice","id","AnnualPrice","autocomplete","new-password",1,"form-control",3,"ngClass","required","ngModel","textMask","ngModelChange"],["annualPriceInput","ngModel"],[1,"mb-5","trial-day-count"],["for","TrialDayCount",1,"form-label"],["type","number","name","TrialDayCount","id","TrialDayCount",1,"form-control",3,"required","ngModel","ngClass","ngModelChange"],["trialDayCountInput","ngModel"],[1,"mb-5","waiting-day-after-expire"],["for","WaitingDayAfterExpire",1,"form-label"],["type","number","name","WaitingDayAfterExpire","id","WaitingDayAfterExpire",1,"form-control",3,"required","ngModel","ngClass","ngModelChange"],["waitingDayAfterExpireInput","ngModel"],[1,"mb-5","edition-list"],["name","expiringEdition",1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return o.onShown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,J,75,65,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,oe,!o.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",o.active))},dependencies:[S.mk,S.sg,S.O5,d.\u0275NgNoValidate,d.NgSelectOption,d.\u0275NgSelectMultipleOption,d.DefaultValueAccessor,d.NumberValueAccessor,d.CheckboxControlValueAccessor,d.SelectControlValueAccessor,d.RadioControlValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.MaxLengthValidator,d.NgModel,d.NgForm,A.wW,A.AH,s.L,p.s,U.hd,m.Z,x.y,W.F],encapsulation:2}),i})();var X=a(85079);const ee=["editModal"];function Q(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"option",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=r.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayText," ")}}const te=function(){return["/app/admin/tenants"]},y=function(i){return{editionId:i}};function D(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h5",8)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",10)(9,"div",11)(10,"a",12),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",11)(14,"label"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"select",13),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.moveTenantsInput.targetEditionId=n)}),e.\u0275\u0275elementStart(18,"option",14),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(21,Q,2,2,"option",15),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"div",16)(23,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"button",18),e.\u0275\u0275element(26,"i",19),e.\u0275\u0275elementStart(27,"span"),e.\u0275\u0275text(28),e.\u0275\u0275elementEnd()()()()}if(2&i){const t=e.\u0275\u0275reference(1),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,16,"MoveTenantsOfEdition")),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",o.l("Close")),e.\u0275\u0275advance(3),e.\u0275\u0275property("href",o.appBaseUrl+"/app/admin/tenants?editionId="+o.moveTenantsInput.sourceEditionId,e.\u0275\u0275sanitizeUrl)("routerLink",e.\u0275\u0275pureFunction0(25,te))("queryParams",e.\u0275\u0275pureFunction1(26,y,o.moveTenantsInput.sourceEditionId)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(12,18,"MoveTenantsOfEditionDescription",o.tenantCount)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,21,"Edition")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",o.moveTenantsInput.targetEditionId),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,23,"Select")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",o.targetEditions),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",o.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",o.l("Cancel")," "),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",!t.form.valid)("buttonBusy",o.saving)("busyText",o.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(o.l("Save"))}}const h=function(){return{backdrop:"static"}};let ae=(()=>{class i extends B.c{constructor(t,o,n){super(t),this._editionService=o,this._commonLookupService=n,this.active=!1,this.saving=!1,this.appBaseUrl="",this.tenantCount=0,this.moveTenantsInput=new E.U92,this.targetEditions=[]}show(t){this.active=!0,this.moveTenantsInput.sourceEditionId=t,this._commonLookupService.getEditionsForCombobox(void 0).subscribe(o=>{this.targetEditions=o.items,this.modal.show()}),this._editionService.getTenantCount(t).subscribe(o=>{this.tenantCount=o,this.appBaseUrl=X.g.appBaseUrl})}save(){this.saving=!0,this._editionService.moveTenantsToAnotherEdition(this.moveTenantsInput).pipe((0,_.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("MoveTenantsToAnotherEditionStartedNotification")),this.close()})}close(){this.active=!1,this.modal.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(E.GnT),e.\u0275\u0275directiveInject(E.P0Z))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["moveTenantsToAnotherEditionModal"]],viewQuery:function(t,o){if(1&t&&e.\u0275\u0275viewQuery(ee,7),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.modal=n.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",3,"ngSubmit"],["MoveTenantsForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-5"],["target","_blank",3,"href","routerLink","queryParams"],["name","expiringEdition","required","",1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"],[3,"value"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,D,29,28,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction0(2,h)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",o.active))},dependencies:[S.sg,S.O5,d.\u0275NgNoValidate,d.NgSelectOption,d.\u0275NgSelectMultipleOption,d.SelectControlValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.NgModel,d.NgForm,C.rH,s.L,m.Z,W.F],encapsulation:2}),i})();var re=a(34201),le=a(86085);const de=["createEditionModal"],se=["editEditionModal"],pe=["moveTenantsToAnotherEditionModal"],ce=["dataTable"],me=["paginator"];function ue(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.createEdition())}),e.\u0275\u0275element(1,"i",18),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"CreateNewEdition")," "))}const fe=function(){return["Pages.Editions.Edit","Pages.Editions.Delete"]};function ve(i,r){1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",19),e.\u0275\u0275pipe(2,"permissionAny"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"th"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th"),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,7,e.\u0275\u0275pureFunction0(21,fe))),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,9,"Actions")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,11,"EditionName")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,13,"Price")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,15,"IsTrialActive")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(16,17,"WaitingDayAfterExpire")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,19,"ExpiringEdition")," "))}function ge(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",30)(1,"a",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const l=e.\u0275\u0275reference(21);return e.\u0275\u0275resetView(l.show(n.id))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Edit")," "))}function _e(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",30)(1,"a",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.deleteEdition(n))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Delete")," "))}function Ee(i,r){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",30)(1,"a",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const l=e.\u0275\u0275reference(23);return e.\u0275\u0275resetView(l.show(n.id))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"MoveTenantsToAnotherEdition")," "))}function he(i,r){1&i&&(e.\u0275\u0275elementStart(0,"ul",28),e.\u0275\u0275template(1,ge,4,3,"li",29),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275template(3,_e,4,3,"li",29),e.\u0275\u0275pipe(4,"permission"),e.\u0275\u0275template(5,Ee,4,3,"li",29),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,3,"Pages.Editions.Edit")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,5,"Pages.Editions.Delete")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,7,"Pages.Editions.MoveTenantsToAnotherEdition")))}function xe(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolateV([" ",o.appSession.application.currencySign,"",t.dailyPrice," ",e.\u0275\u0275pipeBind1(2,12,"Daily")," / ",o.appSession.application.currencySign,"",t.weeklyPrice," ",e.\u0275\u0275pipeBind1(3,14,"Weekly")," / ",o.appSession.application.currencySign,"",t.monthlyPrice," ",e.\u0275\u0275pipeBind1(4,16,"Monthly")," / ",o.appSession.application.currencySign,"",t.annualPrice," ",e.\u0275\u0275pipeBind1(5,18,"Annual")," "])}}function ye(i,r){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Free")," "))}function Ce(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate3(" ",e.\u0275\u0275pipeBind1(2,3,"Yes"),", ",t.trialDayCount," ",e.\u0275\u0275pipeBind1(3,5,"Days")," ")}}function be(i,r){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"No")," "))}function Me(i,r){if(1&i&&(e.\u0275\u0275elementStart(0,"tr")(1,"td",20)(2,"div",21)(3,"button",22),e.\u0275\u0275element(4,"i",23)(5,"span",24),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,he,7,9,"ul",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"td")(10,"span",26),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td")(15,"span",26),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,xe,6,20,"span",27),e.\u0275\u0275template(19,ye,3,3,"span",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td")(21,"span",26),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,Ce,4,7,"span",27),e.\u0275\u0275template(25,be,3,3,"span",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"td")(27,"span",26),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"td")(32,"span",26),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(35),e.\u0275\u0275elementEnd()()),2&i){const t=r.$implicit;e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,13,"Actions")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,15,"EditionName")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.displayName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,17,"Price")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.dailyPrice||t.weeklyPrice||t.monthlyPrice||t.annualPrice),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!(t.dailyPrice||t.weeklyPrice||t.monthlyPrice||t.annualPrice)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,19,"IsTrialActive")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.trialDayCount),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.trialDayCount),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(29,21,"WaitingDayAfterExpire")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.waitingDayAfterExpire," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(34,23,"ExpiringEdition")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.expiringEditionDisplayName," ")}}function Se(i,r){1&i&&(e.\u0275\u0275elementStart(0,"div",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const Te=function(){return{"min-width":"50rem"}},Ie=[{path:"",component:(()=>{class i extends B.c{constructor(t,o){super(t),this._editionService=o}getEditions(){this.primengTableHelper.showLoadingIndicator(),this._editionService.getEditions().pipe((0,_.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(t=>{this.primengTableHelper.totalRecordsCount=t.items.length,this.primengTableHelper.records=t.items,this.primengTableHelper.hideLoadingIndicator()})}createEdition(){this.createEditionModal.show()}deleteEdition(t){this.message.confirm(this.l("EditionDeleteWarningMessage",t.displayName),this.l("AreYouSure"),o=>{o&&this._editionService.deleteEdition(t.id).subscribe(()=>{this.getEditions(),this.notify.success(this.l("SuccessfullyDeleted"))})})}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(E.GnT))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&(e.\u0275\u0275viewQuery(de,7),e.\u0275\u0275viewQuery(se,7),e.\u0275\u0275viewQuery(pe,7),e.\u0275\u0275viewQuery(ce,7),e.\u0275\u0275viewQuery(me,7)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.createEditionModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.editEditionModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.moveTenantsToAnotherEditionModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.dataTable=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(o.paginator=n.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:24,vars:20,consts:[[3,"title","description"],["role","actions"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"ui-table-footer"],[3,"modalSave"],["createEditionModal",""],["editEditionModal",""],["moveTenantsToAnotherEditionModal",""],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg","fs-3"],[2,"width","130px",3,"hidden"],[2,"width","130px","text-align","center"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"bi","bi-gear-fill"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"p-column-title"],[4,"ngIf"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["role","menuitem",4,"ngIf"],["role","menuitem"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"primeng-no-data"]],template:function(t,o){1&t&&(e.\u0275\u0275elementStart(0,"div")(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"div",1),e.\u0275\u0275template(5,ue,4,3,"button",2),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"div",3)(9,"div",4)(10,"div",5)(11,"div",6)(12,"p-table",7,8),e.\u0275\u0275listener("onLazyLoad",function(){return o.getEditions()}),e.\u0275\u0275template(14,ve,20,22,"ng-template",9),e.\u0275\u0275template(15,Me,36,25,"ng-template",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,Se,3,3,"div",11),e.\u0275\u0275element(17,"div",12),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(18,"createEditionModal",13,14),e.\u0275\u0275listener("modalSave",function(){return o.getEditions()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"editEditionModal",13,15),e.\u0275\u0275listener("modalSave",function(){return o.getEditions()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(22,"moveTenantsToAnotherEditionModal",null,16),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,13,"Editions"))("description",e.\u0275\u0275pipeBind1(3,15,"EditionsHeaderInfo")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,17,"Pages.Editions.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(o.containerClass),e.\u0275\u0275advance(4),e.\u0275\u0275property("busyIf",o.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",o.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",o.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(19,Te)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==o.primengTableHelper.totalRecordsCount))},dependencies:[S.O5,z.Hz,z.Mq,z.TO,R.U,O.iA,w.jx,j.$,k,u,ae,W.F,re.a,le.G],encapsulation:2,data:{animation:[(0,L.MH)()]}}),i})(),pathMatch:"full"}];let we=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.Bz.forChild(Ie),C.Bz]}),i})(),Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[M.o,b.g,we]}),i})()},38734:function(ne){ne.exports=function(T){function a(M){if(b[M])return b[M].exports;var C=b[M]={exports:{},id:M,loaded:!1};return T[M].call(C.exports,C,C.exports,a),C.loaded=!0,C.exports}var b={};return a.m=T,a.c=b,a.p="",a(0)}([function(T,a,b){T.exports=b(2)},,function(T,a){"use strict";function M(f){return f.split(_).map(function(v){return w.test(v)?w:v})}function C(f,v){return f.replace(/\B(?=(\d{3})+(?!\d))/g,v)}Object.defineProperty(a,"__esModule",{value:!0});var L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};a.default=function b(){function f(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,X=u.length;if(u===_||u[0]===d[0]&&1===X)return d.split(_).concat([w]).concat(s.split(_));if(u===k&&P)return d.split(_).concat(["0",k,w]).concat(s.split(_));var ee=u[0]===S&&H;ee&&(u=u.toString().substr(1));var Q=u.lastIndexOf(k),te=-1!==Q,y=void 0,D=void 0,h=void 0;if(u.slice(-1*J)===s&&(u=u.slice(0,-1*J)),te&&(P||$)?(y=u.slice(u.slice(0,F)===d?F:0,Q),D=M((D=u.slice(Q+1,X)).replace(R,_))):y=u.slice(0,F)===d?u.slice(F):u,Z&&(typeof Z>"u"?"undefined":L(Z))===O){var re=(y.match(new RegExp("."===c?"[.]":""+c,"g"))||[]).length;y=y.slice(0,Z+re*oe)}return y=y.replace(R,_),ie||(y=y.replace(/^0+(0$|[^0])/,"$1")),h=M(y=m?C(y,c):y),(te&&P||!0===$)&&(u[Q-1]!==k&&h.push(j),h.push(k,j),D&&((typeof W>"u"?"undefined":L(W))===O&&(D=D.slice(0,W)),h=h.concat(D)),!0===$&&u[Q-1]===k&&h.push(w)),F>0&&(h=d.split(_).concat(h)),ee&&(h.length===F&&h.push(w),h=[z].concat(h)),s.length>0&&(h=h.concat(s.split(_))),h}var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=v.prefix,d=void 0===N?B:N,A=v.suffix,s=void 0===A?_:A,p=v.includeThousandsSeparator,m=void 0===p||p,x=v.thousandsSeparatorSymbol,c=void 0===x?e:x,I=v.allowDecimal,P=void 0!==I&&I,G=v.decimalSymbol,k=void 0===G?E:G,U=v.decimalLimit,W=void 0===U?2:U,Y=v.requireDecimal,$=void 0!==Y&&Y,V=v.allowNegative,H=void 0!==V&&V,K=v.allowLeadingZeroes,ie=void 0!==K&&K,q=v.integerLimit,Z=void 0===q?null:q,F=d&&d.length||0,J=s&&s.length||0,oe=c&&c.length||0;return f.instanceOf="createNumberMask",f};var B="$",_="",e=",",E=".",S="-",z=/-/,R=/\D+/g,O="number",w=/\d/,j="[]"}])},55397:(ne,T,a)=>{"use strict";a.d(T,{Z:()=>A});var b=a(25736),M=a(25575);var B=a(97298);const S=function E(s,p){return p.length<2?s:(0,B.Z)(s,function _(s,p,m){var x=-1,c=s.length;p<0&&(p=-p>c?0:c+p),(m=m>c?c:m)<0&&(m+=c),c=p>m?0:m-p>>>0,p>>>=0;for(var I=Array(c);++x<c;)I[x]=s[x+p];return I}(p,0,-1))};var z=a(62168);const O=function R(s,p){return p=(0,M.Z)(p,s),null==(s=S(s,p))||delete s[(0,z.Z)(function C(s){var p=null==s?0:s.length;return p?s[p-1]:void 0}(p))]};var w=a(56667),f=Array.prototype.splice;const A=function d(s,p){var m=[];if(!s||!s.length)return m;var x=-1,c=[],I=s.length;for(p=(0,b.Z)(p,3);++x<I;){var P=s[x];p(P,x,s)&&(m.push(P),c.push(x))}return function v(s,p){for(var m=s?p.length:0,x=m-1;m--;){var c=p[m];if(m==x||c!==I){var I=c;(0,w.Z)(c)?f.call(s,c,1):O(s,c)}}}(s,c),m}}}]);