"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[88009],{88009:(M,x,r)=>{r.r(x),r.d(x,{AuditLogsModule:()=>se});var C=r(75603),a=r(60263),f=r(91170),E=r(64369),v=r(58127),_=r(89749),e=r(41571),b=r(37857),S=r(83824),y=r(49927),h=r(36895),m=r(24006),c=r(59241),u=r(78288),l=r(95216),s=r(17806),g=r(99609),L=r(7318),D=r(10805),w=r(1997),B=r(55317),z=r(438),T=r(73565);const N=["auditLogDetailModal"];function R(i,p){1&i&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"AuditLogDetail")))}function F(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",12),e.\u0275\u0275element(1,"label",13),e.\u0275\u0275elementStart(2,"div",23)(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()()),2&i&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,1,"AuditLogImpersonatedOperationInfo")))}function P(i,p){if(1&i&&(e.\u0275\u0275elementStart(0,"div",16)(1,"pre"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.auditLog.customData)}}function H(i,p){1&i&&(e.\u0275\u0275elementStart(0,"label",24),e.\u0275\u0275element(1,"i",25),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Success")," "))}function O(i,p){if(1&i&&(e.\u0275\u0275elementStart(0,"div",26)(1,"pre"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&i){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.auditLog.exception)}}function V(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",null,5)(2,"div",6)(3,"h4",7),e.\u0275\u0275template(4,R,3,3,"span",4),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",9)(7,"h3"),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",10)(11,"div",11)(12,"div",12)(13,"label",13),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",14)(17,"span"),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(19,"div",12)(20,"label",13),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"div",14)(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"div",12)(27,"label",13),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",14)(31,"span"),e.\u0275\u0275text(32),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(33,"div",12)(34,"label",13),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"div",14)(38,"span"),e.\u0275\u0275text(39),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(40,F,6,3,"div",15),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(41,"h3"),e.\u0275\u0275text(42),e.\u0275\u0275pipe(43,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"div",10)(45,"div",11)(46,"div",12)(47,"label",13),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"div",14)(51,"span"),e.\u0275\u0275text(52),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(53,"div",11)(54,"div",12)(55,"label",13),e.\u0275\u0275text(56),e.\u0275\u0275pipe(57,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"div",14)(59,"span"),e.\u0275\u0275text(60),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(61,"div",11)(62,"div",12)(63,"label",13),e.\u0275\u0275text(64),e.\u0275\u0275pipe(65,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"div",14)(67,"span"),e.\u0275\u0275text(68),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(69,"div",11)(70,"div",12)(71,"label",13),e.\u0275\u0275text(72),e.\u0275\u0275pipe(73,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(74,"div",14)(75,"span"),e.\u0275\u0275text(76),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(77,"div",12)(78,"label",13),e.\u0275\u0275text(79),e.\u0275\u0275pipe(80,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(81,"div",16)(82,"pre",17),e.\u0275\u0275text(83),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(84,"h3"),e.\u0275\u0275text(85),e.\u0275\u0275pipe(86,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(87,"div",10)(88,"div",11)(89,"div",12)(90,"label",13),e.\u0275\u0275text(91),e.\u0275\u0275pipe(92,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(93,P,3,1,"div",18),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(94,"h3"),e.\u0275\u0275text(95),e.\u0275\u0275pipe(96,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(97,"div",10)(98,"div",11)(99,"div",12),e.\u0275\u0275template(100,H,4,3,"label",19),e.\u0275\u0275template(101,O,3,1,"div",20),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(102,"div",21)(103,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(104),e.\u0275\u0275pipe(105,"localize"),e.\u0275\u0275elementEnd()()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.auditLog.userId),e.\u0275\u0275advance(1),e.\u0275\u0275attribute("aria-label",t.l("Close")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,30,"UserInformations")," "),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(15,32,"UserName"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.auditLog.userName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,34,"IpAddress"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.auditLog.clientIpAddress),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(29,36,"Client"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.auditLog.clientName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(36,38,"Browser"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.auditLog.browserInfo),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.auditLog.impersonatorUserId),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(43,40,"ActionInformations")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(49,42,"Service"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.auditLog.serviceName),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(57,44,"Action"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.auditLog.methodName),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(65,46,"Time"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.getExecutionTime()),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(73,48,"Duration"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.getDurationAsMs()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(80,50,"Parameters"),":"),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(t.getFormattedParameters()),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(86,52,"CustomData")),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(92,54,"None"),":"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.auditLog.customData),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(96,56,"ErrorState")),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",!t.auditLog.exception),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.auditLog.exception),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(105,58,"Close")," ")}}const j=function(){return{backdrop:"static"}};let k=(()=>{class i extends v.c{constructor(t,n){super(t),this._dateTimeService=n,this.active=!1}getExecutionTime(){return this._dateTimeService.fromNow(this.auditLog.executionTime)+" ("+this._dateTimeService.formatDate(this.auditLog.executionTime,"yyyy-LL-dd HH:mm:ss")+")"}getDurationAsMs(){return this.l("Xms",this.auditLog.executionDuration)}getFormattedParameters(){const t=this;try{const n=JSON.parse(t.auditLog.parameters);return JSON.stringify(n,null,4)}catch{return t.auditLog.parameters}}show(t){const n=this;n.active=!0,n.auditLog=t,n.modal.show()}close(){this.active=!1,this.modal.hide()}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(y.C))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["auditLogDetailModal"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(N,7),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.modal=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","auditLogDetailModal","aria-hidden","true",1,"modal","fade",3,"config"],["auditLogDetailModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[4,"ngIf"],["roleForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"mb-5","row"],[1,"col-lg-3","col-form-label"],[1,"col-lg-9"],["class","mb-5 row",4,"ngIf"],[1,"col-lg-9","alert","alert-warning"],["lang","js"],["class","col-lg-9 alert alert-warning",4,"ngIf"],["class","col-lg-12 col-form-label",4,"ngIf"],["class","col-lg-12 alert alert-warning",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"click"],[1,"col-lg-9","text-warning"],[1,"col-lg-12","col-form-label"],[1,"bi","bi-check2-circle","text-success"],[1,"col-lg-12","alert","alert-warning"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,V,106,60,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction0(2,j)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.active))},dependencies:[h.O5,m.\u0275NgNoValidate,m.NgControlStatusGroup,m.NgForm,z.Z,T.F],encapsulation:2}),i})();var U=r(80659);const Q=["auditLogDetailModal"],W=["entityChangeDetailModal"],$=["dataTableAuditLogs"],K=["dataTableEntityChanges"],G=["paginatorAuditLogs"],J=["paginatorEntityChanges"];function Z(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",50)(1,"div",15)(2,"div",16)(3,"label",51),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"input",52),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.serviceName=o)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(7,"div",15)(8,"label",53),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",54)(12,"input",55),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.minExecutionDuration=o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"span",56),e.\u0275\u0275text(14,"---"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"input",57),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.maxExecutionDuration=o)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(16,"div",15)(17,"div",16)(18,"label",58),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"input",59),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.methodName=o)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"div",15)(23,"div",16)(24,"label",60),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"select",61),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.hasException=o)}),e.\u0275\u0275elementStart(28,"option",62),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"option",63),e.\u0275\u0275text(32),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"option",64),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(37,"div",15)(38,"div",16)(39,"label",65),e.\u0275\u0275text(40),e.\u0275\u0275pipe(41,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"input",66),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const d=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(d.browserInfo=o)}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(43,"div",15),e.\u0275\u0275element(44,"div",16),e.\u0275\u0275elementEnd()()}if(2&i){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,14,"Service")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.serviceName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,16,"Duration")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.minExecutionDuration),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.maxExecutionDuration),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,18,"Action")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.methodName),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(26,20,"ErrorState")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.hasException),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(30,22,"All")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(33,24,"Success")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(36,26,"HasError")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(41,28,"Browser")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.browserInfo)}}function X(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",67),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.advancedFiltersAreShown=!o.advancedFiltersAreShown)}),e.\u0275\u0275element(1,"i",68),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"ShowAdvancedFilters")," "))}function Y(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"span",67),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.advancedFiltersAreShown=!o.advancedFiltersAreShown)}),e.\u0275\u0275element(1,"i",69),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&i&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"HideAdvancedFilters")," "))}function q(i,p){1&i&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275element(1,"th",70)(2,"th",70),e.\u0275\u0275elementStart(3,"th",71),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275element(6,"p-sortIcon",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"th",73),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"th",73),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"th",74),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275element(16,"p-sortIcon",75),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"th",76),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th",76),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"th",76),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"th",77),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275element(29,"p-sortIcon",78),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,8,"UserName")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,10,"Service")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,12,"Action")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,14,"Duration")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,16,"IpAddress")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(22,18,"Client")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,20,"Browser")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,22,"Time")," "))}function ee(i,p){1&i&&e.\u0275\u0275element(0,"i",86)}function te(i,p){1&i&&e.\u0275\u0275element(0,"i",87)}function ne(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",70)(2,"div",79)(3,"button",80),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.showAuditLogDetails(d))}),e.\u0275\u0275element(4,"i",81),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"td",70)(6,"div",79),e.\u0275\u0275template(7,ee,1,0,"i",82),e.\u0275\u0275template(8,te,1,0,"i",83),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"td",76)(10,"span",84),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td",73)(15,"span",84),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(18),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"td",73)(20,"span",84),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"td",85),e.\u0275\u0275text(25),e.\u0275\u0275elementStart(26,"span",84),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"td",76)(30,"span",84),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"td",76)(35,"span",84),e.\u0275\u0275text(36),e.\u0275\u0275pipe(37,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(38),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"td",76)(40,"span",84),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"span",0),e.\u0275\u0275text(44),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"td",76)(46,"span",84),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(49),e.\u0275\u0275pipe(50,"luxonFormat"),e.\u0275\u0275elementEnd()()}if(2&i){const t=p.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",n.l("Search")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.exception),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.exception),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,20,"UserName")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.userName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(17,22,"Service")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.serviceName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(22,24,"Action")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.methodName," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.executionDuration,"ms "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(28,26,"Duration")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,28,"IpAddress")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.clientIpAddress," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(37,30,"Client")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.clientName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(42,32,"Browser")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.browserInfo),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.truncateStringWithPostfix(t.browserInfo,20)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(48,34,"Time")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(50,36,t.executionTime,"F")," ")}}function ae(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}function ie(i,p){if(1&i&&(e.\u0275\u0275elementStart(0,"option",89),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&i){const t=p.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function oe(i,p){1&i&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275element(1,"th",90),e.\u0275\u0275elementStart(2,"th",76),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",73),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",71),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275element(11,"p-sortIcon",72),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th",91),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275element(15,"p-sortIcon",92),e.\u0275\u0275elementEnd()()),2&i&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,4,"Action")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,6,"Object")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,8,"UserName")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(14,10,"Time")," "))}function le(i,p){if(1&i){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",90)(2,"div",79)(3,"button",80),e.\u0275\u0275listener("click",function(){const d=e.\u0275\u0275restoreView(t).$implicit,I=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(I.showEntityChangeDetails(d))}),e.\u0275\u0275element(4,"i",81),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(5,"td",76)(6,"span",84),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"span",0),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"td",73)(12,"span",84),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"td",76)(17,"span",84),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(20),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"td",76)(22,"span",84),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"luxonFormat"),e.\u0275\u0275elementEnd()()}if(2&i){const t=p.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",n.l("Search")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,10,"Action")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",t.changeTypeName),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.l(t.changeTypeName)," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,12,"Object")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.entityTypeFullName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(19,14,"UserName")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.userName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,16,"Time")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(26,18,t.changeTime,"yyyy-LL-dd HH:mm:ss")," ")}}function re(i,p){1&i&&(e.\u0275\u0275elementStart(0,"div",88),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&i&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const A=function(){return{"min-width":"50rem"}},de=[{path:"",component:(()=>{class i extends v.c{constructor(t,n,o,d){super(t),this._auditLogService=n,this._fileDownloadService=o,this._dateTimeService=d,this.dateRange=[this._dateTimeService.getStartOfDay(),this._dateTimeService.getEndOfDay()],this.hasException=void 0,this.primengTableHelperAuditLogs=new _.f,this.primengTableHelperEntityChanges=new _.f,this.advancedFiltersAreShown=!1}ngAfterViewInit(){this.primengTableHelper.adjustScroll(this.dataTableAuditLogs),this.primengTableHelper.adjustScroll(this.dataTableEntityChanges)}showAuditLogDetails(t){this.auditLogDetailModal.show(t)}showEntityChangeDetails(t){this.entityChangeDetailModal.show(t)}getAuditLogs(t){this.primengTableHelperAuditLogs.shouldResetPaging(t)&&(this.paginatorAuditLogs.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelperAuditLogs.showLoadingIndicator(),this._auditLogService.getAuditLogs(this._dateTimeService.getStartOfDayForDate(this.dateRange[0]),this._dateTimeService.getEndOfDayForDate(this.dateRange[1]),this.usernameAuditLog,this.serviceName,this.methodName,this.browserInfo,this.hasException,this.minExecutionDuration,this.maxExecutionDuration,this.primengTableHelperAuditLogs.getSorting(this.dataTableAuditLogs),this.primengTableHelperAuditLogs.getMaxResultCount(this.paginatorAuditLogs,t),this.primengTableHelperAuditLogs.getSkipCount(this.paginatorAuditLogs,t)).subscribe(n=>{this.primengTableHelperAuditLogs.totalRecordsCount=n.totalCount,this.primengTableHelperAuditLogs.records=n.items,this.primengTableHelperAuditLogs.hideLoadingIndicator()}))}getEntityChanges(t){this._auditLogService.getEntityHistoryObjectTypes().subscribe(n=>{this.objectTypes=n}),!(this.primengTableHelperEntityChanges.shouldResetPaging(t)&&(this.paginatorEntityChanges.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0))&&(this.primengTableHelperEntityChanges.showLoadingIndicator(),this._auditLogService.getEntityChanges(this._dateTimeService.getStartOfDayForDate(this.dateRange[0]),this._dateTimeService.getEndOfDayForDate(this.dateRange[1]),this.usernameEntityChange,this.entityTypeFullName,this.primengTableHelperEntityChanges.getSorting(this.dataTableEntityChanges),this.primengTableHelperEntityChanges.getMaxResultCount(this.paginatorEntityChanges,t),this.primengTableHelperEntityChanges.getSkipCount(this.paginatorEntityChanges,t)).subscribe(n=>{this.primengTableHelperEntityChanges.totalRecordsCount=n.totalCount,this.primengTableHelperEntityChanges.records=n.items,this.primengTableHelperEntityChanges.hideLoadingIndicator()}))}exportToExcelAuditLogs(){const t=this;t._auditLogService.getAuditLogsToExcel(this._dateTimeService.getStartOfDayForDate(t.dateRange[0]),this._dateTimeService.getEndOfDayForDate(t.dateRange[1]),t.usernameAuditLog,t.serviceName,t.methodName,t.browserInfo,t.hasException,t.minExecutionDuration,t.maxExecutionDuration,void 0,1,0).subscribe(n=>{t._fileDownloadService.downloadTempFile(n)})}exportToExcelEntityChanges(){const t=this;t._auditLogService.getEntityChangesToExcel(this._dateTimeService.getStartOfDayForDate(t.dateRange[0]),t._dateTimeService.getEndOfDayForDate(t.dateRange[1]),t.usernameEntityChange,t.entityTypeFullName,void 0,1,0).subscribe(n=>{t._fileDownloadService.downloadTempFile(n)})}truncateStringWithPostfix(t,n){return abp.utils.truncateStringWithPostfix(t,n)}}return i.\u0275fac=function(t){return new(t||i)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(b.xWy),e.\u0275\u0275directiveInject(S._),e.\u0275\u0275directiveInject(y.C))},i.\u0275cmp=e.\u0275\u0275defineComponent({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Q,7),e.\u0275\u0275viewQuery(W,7),e.\u0275\u0275viewQuery($,7),e.\u0275\u0275viewQuery(K,7),e.\u0275\u0275viewQuery(G,7),e.\u0275\u0275viewQuery(J,7)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.auditLogDetailModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.entityChangeDetailModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.dataTableAuditLogs=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.dataTableEntityChanges=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.paginatorAuditLogs=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(n.paginatorEntityChanges=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:110,vars:83,consts:[[3,"title"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[3,"heading"],[1,"row","m-2","mt-5"],[1,"col-sm-12","text-end"],["type","button",1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-sync","btn-md-icon"],[1,"d-none","d-md-inline-block"],["type","button",1,"btn","btn-success","float-end","me-1",3,"click"],[1,"far","fa-file-excel","btn-md-icon"],[1,"form"],[3,"ngSubmit"],["auditFilterForm","ngForm"],[1,"row","align-items-center","mb-2"],[1,"col-md-6"],[1,"mb-5"],["for","StartEndRange",1,"form-label"],["id","StartEndRange","name","StartEndRange","readonly","readonly","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drp","bsDaterangepicker"],["for","UsernameAuditLog",1,"form-label"],["id","UsernameAuditLog","type","text","name","UsernameAuditLog",1,"form-control",3,"ngModel","ngModelChange"],["class","row",4,"ngIf"],[1,"row","mb-2"],[1,"col-sm-6"],["class","clickable-item text-muted",3,"click",4,"ngIf"],[1,"row","align-items-center"],[1,"primeng-datatable-container",3,"busyIf"],["sortMode","multiple","scrollable","true","ScrollWidth","100%","resizableColumns","primengTableHelperAuditLogs.resizableColumns",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTableAuditLogs",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginatorAuditLogs",""],["entityChangeFilterForm","ngForm"],["for","StartEndRangeEntityChange",1,"form-label"],["id","StartEndRangeEntityChange","name","StartEndRangeEntityChange","readonly","readonly","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["for","UserNameEntityChange",1,"form-label"],["id","UserNameEntityChange","type","text","name","UserNameEntityChange",1,"form-control",3,"ngModel","ngModelChange"],["for","EntityTypeFullName",1,"form-label"],["id","EntityTypeFullName","name","EntityTypeFullName",1,"form-control",3,"ngModel","ngModelChange"],["value","undefined","selected","selected"],[3,"value",4,"ngFor","ngForOf"],["sortMode","multiple","scrollable","true","ScrollWidth","100%","resizableColumns","primengTableHelperEntityChanges.resizableColumns",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTableEntityChanges",""],["paginatorEntityChanges",""],["auditLogDetailModal",""],["entityChangeDetailModal",""],[1,"row"],["for","ServiceName",1,"form-label"],["id","ServiceName","name","ServiceName","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-label","d-block"],[1,"input-group",2,"width","250px !important"],["type","text","name","MinExecutionDuration","only-number","","min","0","max","86400000","ng-minlength","0","ng-maxlength","8",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-text"],["type","text","name","MaxExecutionDuration","only-number","","min","0","max","86400000","ng-minlength","0","ng-maxlength","8",1,"form-control",3,"ngModel","ngModelChange"],["for","MethodName",1,"form-label"],["id","MethodName","type","text","name","MethodName",1,"form-control",3,"ngModel","ngModelChange"],["for","HasException",1,"form-label"],["id","HasException","name","HasException",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","false"],["value","true"],["for","BrowserInfo",1,"form-label"],["id","BrowserInfo","type","text","name","BrowserInfo",1,"form-control",3,"ngModel","ngModelChange"],[1,"clickable-item","text-muted",3,"click"],[1,"fa","fa-angle-down"],[1,"fa","fa-angle-up"],[2,"width","75px"],["pSortableColumn","userName",2,"width","150px"],["field","userName"],[2,"width","250px"],["pSortableColumn","executionDuration",2,"width","100px"],["field","executionDuration"],[2,"width","150px"],["pSortableColumn","executionTime",2,"width","150px"],["field","executionTime"],[1,"text-center"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"la","la-search"],["class","fa fa-exclamation-triangle text-warning",4,"ngIf"],["class","bi bi-check2-circle text-success",4,"ngIf"],[1,"p-column-title"],[2,"width","100px"],[1,"fa","fa-exclamation-triangle","text-warning"],[1,"bi","bi-check2-circle","text-success"],[1,"primeng-no-data"],[3,"value"],[2,"width","40px"],["pSortableColumn","changeTime",2,"width","150px"],["field","changeTime"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div")(4,"div",1)(5,"div",2)(6,"tabset")(7,"tab",3),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementStart(9,"div",4)(10,"div",5)(11,"button",6),e.\u0275\u0275listener("click",function(){return n.getAuditLogs()}),e.\u0275\u0275element(12,"i",7),e.\u0275\u0275elementStart(13,"span",8),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(16,"button",9),e.\u0275\u0275listener("click",function(){return n.exportToExcelAuditLogs()}),e.\u0275\u0275element(17,"i",10),e.\u0275\u0275elementStart(18,"span",8),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(21,"div",11)(22,"form",12,13),e.\u0275\u0275listener("ngSubmit",function(){return n.getAuditLogs()}),e.\u0275\u0275elementStart(24,"div",14)(25,"div",15)(26,"div",16)(27,"label",17),e.\u0275\u0275text(28),e.\u0275\u0275pipe(29,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"input",18,19),e.\u0275\u0275listener("dateChange",function(d){return n.dateRange=d}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(32,"div",15)(33,"div",16)(34,"label",20),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"input",21),e.\u0275\u0275listener("ngModelChange",function(d){return n.usernameAuditLog=d}),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275template(38,Z,45,30,"div",22),e.\u0275\u0275elementStart(39,"div",23)(40,"div",24),e.\u0275\u0275template(41,X,4,3,"span",25),e.\u0275\u0275template(42,Y,4,3,"span",25),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(43,"div",26)(44,"div",27)(45,"p-table",28,29),e.\u0275\u0275listener("onLazyLoad",function(d){return n.getAuditLogs(d)}),e.\u0275\u0275template(47,q,30,24,"ng-template",30),e.\u0275\u0275template(48,ne,51,39,"ng-template",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(49,ae,3,3,"div",32),e.\u0275\u0275elementStart(50,"div",33)(51,"p-paginator",34,35),e.\u0275\u0275listener("onPageChange",function(d){return n.getAuditLogs(d)}),e.\u0275\u0275pipe(53,"localize"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(54,"tab",3),e.\u0275\u0275pipe(55,"localize"),e.\u0275\u0275elementStart(56,"div",4)(57,"div",5)(58,"button",6),e.\u0275\u0275listener("click",function(){return n.getEntityChanges()}),e.\u0275\u0275element(59,"i",7),e.\u0275\u0275elementStart(60,"span",8),e.\u0275\u0275text(61),e.\u0275\u0275pipe(62,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(63,"button",9),e.\u0275\u0275listener("click",function(){return n.exportToExcelEntityChanges()}),e.\u0275\u0275element(64,"i",10),e.\u0275\u0275elementStart(65,"span",8),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"localize"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(68,"div",11)(69,"form",12,36),e.\u0275\u0275listener("ngSubmit",function(){return n.getEntityChanges()}),e.\u0275\u0275elementStart(71,"div",14)(72,"div",15)(73,"div",16)(74,"label",37),e.\u0275\u0275text(75),e.\u0275\u0275pipe(76,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(77,"input",38,19),e.\u0275\u0275listener("dateChange",function(d){return n.dateRange=d}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(79,"div",15)(80,"div",16)(81,"label",39),e.\u0275\u0275text(82),e.\u0275\u0275pipe(83,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(84,"input",40),e.\u0275\u0275listener("ngModelChange",function(d){return n.usernameEntityChange=d}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(85,"div",15)(86,"div",16)(87,"label",41),e.\u0275\u0275text(88),e.\u0275\u0275pipe(89,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(90,"select",42),e.\u0275\u0275listener("ngModelChange",function(d){return n.entityTypeFullName=d}),e.\u0275\u0275elementStart(91,"option",43),e.\u0275\u0275text(92),e.\u0275\u0275pipe(93,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(94,ie,2,2,"option",44),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(95,"div",26)(96,"div",27)(97,"p-table",45,46),e.\u0275\u0275listener("onLazyLoad",function(d){return n.getEntityChanges(d)}),e.\u0275\u0275template(99,oe,16,12,"ng-template",30),e.\u0275\u0275template(100,le,27,21,"ng-template",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(101,re,3,3,"div",32),e.\u0275\u0275elementStart(102,"div",33)(103,"p-paginator",34,47),e.\u0275\u0275listener("onPageChange",function(d){return n.getEntityChanges(d)}),e.\u0275\u0275pipe(105,"localize"),e.\u0275\u0275elementEnd()()()()()()()()(),e.\u0275\u0275element(106,"auditLogDetailModal",null,48)(108,"entityChangeDetailModal",null,49),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,49,"AuditLogs")),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(n.containerClass),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(8,51,"OperationLogs")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(15,53,"Refresh")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(20,55,"ExportToExcel")," "),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(29,57,"DateRange")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("date",n.dateRange),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(36,59,"UserName")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.usernameAuditLog),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.advancedFiltersAreShown),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.advancedFiltersAreShown),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.advancedFiltersAreShown),e.\u0275\u0275advance(2),e.\u0275\u0275property("busyIf",n.primengTableHelperAuditLogs.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",n.primengTableHelperAuditLogs.defaultRecordsCountPerPage),e.\u0275\u0275property("value",n.primengTableHelperAuditLogs.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(81,A)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==n.primengTableHelperAuditLogs.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",n.primengTableHelperAuditLogs.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelperAuditLogs.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelperAuditLogs.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(53,61,"TotalRecordsCount",n.primengTableHelperAuditLogs.totalRecordsCount)),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(55,64,"ChangeLogs")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(62,66,"Refresh")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(67,68,"ExportToExcel")," "),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(76,70,"DateRange")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("date",n.dateRange),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(83,72,"UserName")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.usernameEntityChange),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(89,74,"Object")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.entityTypeFullName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(93,76,"All")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.objectTypes),e.\u0275\u0275advance(2),e.\u0275\u0275property("busyIf",n.primengTableHelperEntityChanges.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",n.primengTableHelperEntityChanges.defaultRecordsCountPerPage),e.\u0275\u0275property("value",n.primengTableHelperEntityChanges.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(82,A)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==n.primengTableHelperEntityChanges.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",n.primengTableHelperEntityChanges.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelperEntityChanges.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelperEntityChanges.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(105,78,"TotalRecordsCount",n.primengTableHelperEntityChanges.totalRecordsCount)))},dependencies:[h.sg,h.O5,m.\u0275NgNoValidate,m.NgSelectOption,m.\u0275NgSelectMultipleOption,m.DefaultValueAccessor,m.SelectControlValueAccessor,m.NgControlStatus,m.NgControlStatusGroup,m.NgModel,m.NgForm,c.wW,c.AH,u.FR,u.TB,l.S,s.U,g.t,L.iA,D.jx,L.lQ,L.fz,w.D,B.$,k,U.n,T.F],styles:[".audit-log-detail-view h3.form-section{margin-top:5px}.audit-log-detail-view .form-group{margin-bottom:0}.audit-log-detail-view .form-group p.form-control-static{margin:0}.audit-log-detail-view .form-group .control-label{font-weight:700}\n"],encapsulation:2,data:{animation:[(0,E.MH)()]}}),i})(),pathMatch:"full"}];let pe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.Bz.forChild(de),f.Bz]}),i})(),se=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.\u0275\u0275defineNgModule({type:i}),i.\u0275inj=e.\u0275\u0275defineInjector({imports:[a.o,C.g,pe]}),i})()},95216:(M,x,r)=>{r.d(x,{S:()=>m});var C=r(58127),a=r(41571),f=r(37857),E=r(49927),v=r(36895),_=r(438),e=r(73565);const b=["entityChangeDetailModal"];function S(c,u){if(1&c){const l=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",9)(1,"h4",10)(2,"span"),a.\u0275\u0275text(3),a.\u0275\u0275pipe(4,"localize"),a.\u0275\u0275pipe(5,"localize"),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"br")(7,"small",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(8,"button",12),a.\u0275\u0275listener("click",function(){a.\u0275\u0275restoreView(l);const g=a.\u0275\u0275nextContext();return a.\u0275\u0275resetView(g.close())}),a.\u0275\u0275elementEnd()()}if(2&c){const l=a.\u0275\u0275nextContext();a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate2("",a.\u0275\u0275pipeBind1(4,4,"Detail")," - ",a.\u0275\u0275pipeBind1(5,6,l.entityChange.entityTypeFullName),""),a.\u0275\u0275advance(4),a.\u0275\u0275property("innerHTML",l.l("CreatedAtByUser",l.entityChange.changeTime,l.entityChange.userName),a.\u0275\u0275sanitizeHtml),a.\u0275\u0275advance(1),a.\u0275\u0275attribute("aria-label",l.l("Close"))}}function y(c,u){if(1&c&&(a.\u0275\u0275elementStart(0,"div",13)(1,"div",14)(2,"h3",15)(3,"span",16),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd()()(),a.\u0275\u0275elementStart(5,"div",17)(6,"div",18)(7,"div",19)(8,"div",20),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"localize"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"div",21),a.\u0275\u0275text(12),a.\u0275\u0275elementEnd()(),a.\u0275\u0275elementStart(13,"div",22)(14,"div",20),a.\u0275\u0275text(15),a.\u0275\u0275pipe(16,"localize"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(17,"div",21),a.\u0275\u0275text(18),a.\u0275\u0275elementEnd()()()()()),2&c){const l=u.$implicit,s=a.\u0275\u0275nextContext();a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(l.propertyName),a.\u0275\u0275advance(5),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(10,5,"OriginalValue")," "),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",s.getPropertyChangeValue(l.originalValue,l.propertyTypeFullName)," "),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate(a.\u0275\u0275pipeBind1(16,7,"NewValue")),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",s.getPropertyChangeValue(l.newValue,l.propertyTypeFullName)," ")}}const h=function(){return{backdrop:"static"}};let m=(()=>{class c extends C.c{constructor(l,s,g){super(l),this._auditLogService=s,this._dateTimeService=g,this.active=!1}getPropertyChangeValue(l,s){return l&&(l=l.replace(/^['"]+/g,"").replace(/['"]+$/g,""),this.isDate(l,s)?this._dateTimeService.formatDate(this._dateTimeService.fromISODateString(l),"yyyy-LL-dd HH:mm:ss"):"null"===l?"":l)}isDate(l,s){return s.includes("DateTime")&&!isNaN(Date.parse(l).valueOf())}show(l){const s=this;s.active=!0,s.entityChange=l,this._auditLogService.getEntityPropertyChanges(l.id).subscribe(g=>{s.entityPropertyChanges=g}),s.modal.show()}close(){this.active=!1,this.modal.hide()}}return c.\u0275fac=function(l){return new(l||c)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(f.xWy),a.\u0275\u0275directiveInject(E.C))},c.\u0275cmp=a.\u0275\u0275defineComponent({type:c,selectors:[["entityChangeDetailModal"]],viewQuery:function(l,s){if(1&l&&a.\u0275\u0275viewQuery(b,7),2&l){let g;a.\u0275\u0275queryRefresh(g=a.\u0275\u0275loadQuery())&&(s.modal=g.first)}},features:[a.\u0275\u0275InheritDefinitionFeature],decls:11,vars:7,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","entityChangeDetailModal","aria-hidden","true",1,"modal","fade",3,"config"],["entityChangeDetailModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["class","modal-header",4,"ngIf"],[1,"modal-body"],["class","card card-custom gutter-b",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"click"],[1,"modal-header"],[1,"modal-title"],[3,"innerHTML"],["type","button",1,"btn-close",3,"click"],[1,"card","card-custom","gutter-b"],[1,"card-header","py-5"],[1,"card-title"],[1,"card-label"],[1,"card-body","py-0"],[1,"row","m-0"],[1,"col","px-8","py-6","me-8"],[1,"fs-sm","text-muted","fw-bold"],[1,"fw-bolder"],[1,"col","px-8","py-6"]],template:function(l,s){1&l&&(a.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3),a.\u0275\u0275template(4,S,9,8,"div",4),a.\u0275\u0275elementStart(5,"div",5),a.\u0275\u0275template(6,y,19,9,"div",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"div",7)(8,"button",8),a.\u0275\u0275listener("click",function(){return s.close()}),a.\u0275\u0275text(9),a.\u0275\u0275pipe(10,"localize"),a.\u0275\u0275elementEnd()()()()()),2&l&&(a.\u0275\u0275property("config",a.\u0275\u0275pureFunction0(6,h)),a.\u0275\u0275advance(4),a.\u0275\u0275property("ngIf",s.entityChange),a.\u0275\u0275advance(2),a.\u0275\u0275property("ngForOf",s.entityPropertyChanges),a.\u0275\u0275advance(3),a.\u0275\u0275textInterpolate1(" ",a.\u0275\u0275pipeBind1(10,4,"Close")," "))},dependencies:[v.sg,v.O5,_.Z,e.F],encapsulation:2}),c})()}}]);