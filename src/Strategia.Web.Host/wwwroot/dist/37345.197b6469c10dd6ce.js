"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[37345],{37345:(Ge,T,l)=>{l.r(T),l.d(T,{OrganizationUnitsModule:()=>$e});var U=l(91170),w=l(64369),u=l(58127),e=l(41571),c=l(36895),M=l(59241),E=l(55317),m=l(37857),S=l(55397),x=l(8736),N=l(62843),A=l(70262),P=l(42469),H=l(43381),D=l(91851),f=l(10805),B=l(14323),F=l(34076),b=l(28746),d=l(24006),y=l(61228),Q=l(97433),C=l(438),g=l(73565);const L=["createOrEditModal"],V=["organizationUnitDisplayName"];function k(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(2,2,"Edit"),": ",t.organizationUnit.displayName," ")}}function j(a,o){1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"NewOrganizationUnit")))}const W=function(a){return{edited:a}};function Z(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h5",8),e.\u0275\u0275template(4,k,3,4,"span",9),e.\u0275\u0275template(5,j,3,3,"span",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",11)(8,"div",12)(9,"label",13),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"input",14,15),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.organizationUnit.displayName=i)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"validation-messages",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",17)(16,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"button",19),e.\u0275\u0275element(20,"i",20),e.\u0275\u0275elementStart(21,"span"),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275reference(1),n=e.\u0275\u0275reference(13),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.organizationUnit.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.organizationUnit.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",i.saving),e.\u0275\u0275attribute("aria-label",i.l("Close")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(11,14,"Name")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(20,W,i.organizationUnit.displayName))("ngModel",i.organizationUnit.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",n),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,16,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.form.valid)("buttonBusy",i.saving)("busyText",i.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,18,"Save"))}}const $=function(a){return{backdrop:"static",keyboard:a}};let G=(()=>{class a extends u.c{constructor(t,n,i){super(t),this._organizationUnitService=n,this._changeDetector=i,this.unitCreated=new e.EventEmitter,this.unitUpdated=new e.EventEmitter,this.active=!1,this.saving=!1,this.organizationUnit={}}onShown(){document.getElementById("OrganizationUnitDisplayName").focus()}show(t){this.organizationUnit=t,this.active=!0,this.modal.show(),this._changeDetector.detectChanges()}save(){this.organizationUnit.id?this.updateUnit():this.createUnit()}createUnit(){const t=new m.DIt;t.parentId=this.organizationUnit.parentId,t.displayName=this.organizationUnit.displayName,this.saving=!0,this._organizationUnitService.createOrganizationUnit(t).pipe((0,b.x)(()=>this.saving=!1)).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.unitCreated.emit(n)})}updateUnit(){const t=new m.cOS;t.id=this.organizationUnit.id,t.displayName=this.organizationUnit.displayName,this.saving=!0,this._organizationUnitService.updateOrganizationUnit(t).pipe((0,b.x)(()=>this.saving=!1)).subscribe(n=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.unitUpdated.emit(n)})}close(){this.modal.hide(),this.active=!1}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.OAl),e.\u0275\u0275directiveInject(e.ChangeDetectorRef))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["createOrEditOrganizationUnitModal"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(L,7),e.\u0275\u0275viewQuery(V,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.modal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.organizationUnitDisplayNameInput=i.first)}},outputs:{unitCreated:"unitCreated",unitUpdated:"unitUpdated"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],["novalidate","",3,"ngSubmit"],["editForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5","form-md-line-input","form-md-floating-label","no-hint"],["for","OrganizationUnitDisplayName",1,"form-label"],["id","OrganizationUnitDisplayName","type","text","name","displayName","required","","maxlength","128",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["organizationUnitDisplayName","ngModel"],[3,"formCtrl"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return n.onShown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,Z,24,22,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,$,!n.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.active))},dependencies:[c.mk,c.O5,d.\u0275NgNoValidate,d.DefaultValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.RequiredValidator,d.MaxLengthValidator,d.NgModel,d.NgForm,y.L,Q.s,C.Z,g.F],encapsulation:2}),a})();var z=l(34201);const Y=["createOrEditOrganizationUnitModal"],K=["entityTypeHistoryModal"];function J(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",15),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addUnit(null))}),e.\u0275\u0275element(1,"i",16),e.\u0275\u0275elementStart(2,"span",17),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"AddRootUnit")," "))}function X(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"span"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"small",18),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()()),2&a){const t=o.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.label," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate4(" ",t.memberCount," ",e.\u0275\u0275pipeBind1(5,5,"Members"),", ",t.roleCount," ",e.\u0275\u0275pipeBind1(6,7,"Roles")," ")}}function q(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",19),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoOrganizationUnitDefinedYet")," "))}let ee=(()=>{class a extends u.c{constructor(t,n,i,r){super(t),this._organizationUnitService=n,this._arrayToTreeConverterService=i,this._treeDataHelperService=r,this.ouSelected=new e.EventEmitter,this.canManageOrganizationUnits=!1,this.totalUnitCount=0,this._entityTypeFullName="Abp.Organizations.OrganizationUnit"}ngOnInit(){this.canManageOrganizationUnits=this.isGranted("Pages.Administration.OrganizationUnits.ManageOrganizationTree"),this.ouContextMenuItems=this.getContextMenuItems(),this.getTreeDataFromServer()}nodeSelect(t){this.ouSelected.emit({id:t.node.data.id,displayName:t.node.data.displayName})}isDroppingBetweenTwoNodes(t){return"LI"===t.originalEvent.target.nodeName}nodeDrop(t){const n=new m.u6;n.id=t.dragNode.data.id;let i="";this.isDroppingBetweenTwoNodes(t)?(n.newParentId=t.dropNode.parent?t.dropNode.parent.data.id:null,i=t.dropNode.parent?t.dropNode.parent.data.displayName:this.l("Root")):(n.newParentId=t.dropNode.data.id,i=t.dropNode.data.displayName),this.message.confirm(this.l("OrganizationUnitMoveConfirmMessage",t.dragNode.data.displayName,i),this.l("AreYouSure"),r=>{r?this._organizationUnitService.moveOrganizationUnit(n).pipe((0,A.K)(s=>(this.revertDragDrop(),(0,N._)(s)))).subscribe(()=>{this.notify.success(this.l("SuccessfullyMoved")),this.reload()}):this.revertDragDrop()})}revertDragDrop(){this.reload()}reload(){this.getTreeDataFromServer()}addUnit(t){this.createOrEditOrganizationUnitModal.show({parentId:t})}unitCreated(t){if(t.parentId){let n=this._treeDataHelperService.findNode(this.treeData,{data:{id:t.parentId}});if(!n)return;n.children.push({label:t.displayName,expandedIcon:"fa fa-folder-open text-warning",collapsedIcon:"fa fa-folder text-warning",selected:!0,children:[],data:t,memberCount:t.memberCount,roleCount:t.roleCount})}else this.treeData.push({label:t.displayName,expandedIcon:"fa fa-folder-open text-warning",collapsedIcon:"fa fa-folder text-warning",selected:!0,children:[],data:t,memberCount:t.memberCount,roleCount:t.roleCount});this.totalUnitCount+=1}deleteUnit(t){let n=this._treeDataHelperService.findNode(this.treeData,{data:{id:t}});if(!n)return;n.data.parentId||(0,S.Z)(this.treeData,{data:{id:t}});let i=this._treeDataHelperService.findNode(this.treeData,{data:{id:n.data.parentId}});!i||(0,S.Z)(i.children,{data:{id:t}})}unitUpdated(t){let n=this._treeDataHelperService.findNode(this.treeData,{data:{id:t.id}});!n||(n.data.displayName=t.displayName,n.label=t.displayName,n.memberCount=t.memberCount,n.roleCount=t.roleCount)}membersAdded(t){this.incrementMemberCount(t.ouId,t.userIds.length)}memberRemoved(t){this.incrementMemberCount(t.ouId,-1)}incrementMemberCount(t,n){let i=this._treeDataHelperService.findNode(this.treeData,{data:{id:t}});i.data.memberCount+=n,i.memberCount=i.data.memberCount}rolesAdded(t){this.incrementRoleCount(t.ouId,t.roleIds.length)}roleRemoved(t){this.incrementRoleCount(t.ouId,-1)}incrementRoleCount(t,n){let i=this._treeDataHelperService.findNode(this.treeData,{data:{id:t}});i.data.roleCount+=n,i.roleCount=i.data.roleCount}getTreeDataFromServer(){this._organizationUnitService.getOrganizationUnits().subscribe(n=>{this.totalUnitCount=n.items.length,this.treeData=this._arrayToTreeConverterService.createTree(n.items,"parentId","id",null,"children",[{target:"label",targetFunction:i=>i.displayName},{target:"expandedIcon",value:"fa fa-folder-open text-warning"},{target:"collapsedIcon",value:"fa fa-folder text-warning"},{target:"selectable",value:!0},{target:"memberCount",targetFunction:i=>i.memberCount},{target:"roleCount",targetFunction:i=>i.roleCount}])})}isEntityHistoryEnabled(){let t=abp.custom;return t.EntityHistory&&t.EntityHistory.isEnabled&&1===(0,x.Z)(t.EntityHistory.enabledEntities,n=>n===this._entityTypeFullName).length}getContextMenuItems(){const t=this.isGranted("Pages.Administration.OrganizationUnits.ManageOrganizationTree");let n=[{label:this.l("Edit"),disabled:!t,command:i=>{this.createOrEditOrganizationUnitModal.show({id:this.selectedOu.data.id,displayName:this.selectedOu.data.displayName})}},{label:this.l("AddSubUnit"),disabled:!t,command:()=>{this.addUnit(this.selectedOu.data.id)}},{label:this.l("Delete"),disabled:!t,command:()=>{this.message.confirm(this.l("OrganizationUnitDeleteWarningMessage",this.selectedOu.data.displayName),this.l("AreYouSure"),i=>{i&&this._organizationUnitService.deleteOrganizationUnit(this.selectedOu.data.id).subscribe(()=>{this.deleteUnit(this.selectedOu.data.id),this.notify.success(this.l("SuccessfullyDeleted")),this.selectedOu=null,this.reload(),this.ouSelected.emit(null)})})}}];return this.isEntityHistoryEnabled()&&n.push({label:this.l("History"),disabled:!1,command:i=>{this.entityTypeHistoryModal.show({entityId:this.selectedOu.data.id.toString(),entityTypeFullName:this._entityTypeFullName,entityTypeDescription:this.selectedOu.data.displayName})}}),n}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.OAl),e.\u0275\u0275directiveInject(P.V),e.\u0275\u0275directiveInject(H.j))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["organization-tree"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Y,7),e.\u0275\u0275viewQuery(K,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.createOrEditOrganizationUnitModal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.entityTypeHistoryModal=i.first)}},outputs:{ouSelected:"ouSelected"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:19,vars:13,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card-body"],["selectionMode","single",3,"value","selection","contextMenu","draggableNodes","droppableNodes","selectionChange","onNodeSelect","onNodeDrop"],["pTemplate","default"],["appendTo","body","baseZIndex","99999",3,"model"],["ouContextMenu",""],["class","text-muted",4,"ngIf"],[3,"unitCreated","unitUpdated"],["createOrEditOrganizationUnitModal",""],["entityTypeHistoryModal",""],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg","fs-3","btn-md-icon"],[1,"d-none","d-md-inline-block"],[2,"font-size","0.82em","opacity","0.5"],[1,"text-muted"]],template:function(t,n){if(1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",4),e.\u0275\u0275template(7,J,5,3,"button",5),e.\u0275\u0275pipe(8,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",6)(10,"p-tree",7),e.\u0275\u0275listener("selectionChange",function(r){return n.selectedOu=r})("onNodeSelect",function(r){return n.nodeSelect(r)})("onNodeDrop",function(r){return n.nodeDrop(r)}),e.\u0275\u0275template(11,X,7,9,"ng-template",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(12,"p-contextMenu",9,10),e.\u0275\u0275template(14,q,3,3,"div",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"createOrEditOrganizationUnitModal",12,13),e.\u0275\u0275listener("unitCreated",function(r){return n.unitCreated(r)})("unitUpdated",function(r){return n.unitUpdated(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(17,"entityTypeHistoryModal",null,14)),2&t){const i=e.\u0275\u0275reference(13);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,9,"OrganizationTree")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,11,"Pages.Administration.OrganizationUnits.ManageOrganizationTree")),e.\u0275\u0275advance(3),e.\u0275\u0275property("value",n.treeData)("selection",n.selectedOu)("contextMenu",i)("draggableNodes",n.canManageOrganizationUnits)("droppableNodes",n.canManageOrganizationUnits),e.\u0275\u0275advance(2),e.\u0275\u0275property("model",n.ouContextMenuItems),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.totalUnitCount)}},dependencies:[c.O5,D.A,f.jx,B.mp,F.xV,G,g.F,z.a],encapsulation:2}),a})();var _=l(17806),p=l(7318),v=l(1997),I=l(22957),R=l(82659);const te=["modal"],ne=["dataTable"],ie=["paginator"];function ae(a,o){1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",27),e.\u0275\u0275element(2,"p-tableHeaderCheckbox"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"th"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,1,"Name")," "))}function oe(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"tr",28)(1,"td",27)(2,"p-tableCheckbox",29),e.\u0275\u0275listener("click",function(n){return n.stopPropagation()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"td")(4,"span",30),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()),2&a){const t=o.$implicit;e.\u0275\u0275property("pSelectableRow",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,"Name")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function re(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const le=function(a){return{backdrop:"static",keyboard:a}},de=function(){return{"min-width":"25rem"}};let se=(()=>{class a extends u.c{constructor(t,n){super(t),this._organizationUnitService=n,this.membersAdded=new e.EventEmitter,this.isShown=!1,this.filterText="",this.saving=!1}show(){this.modal.show()}refreshTable(){this.paginator.changePage(this.paginator.getPage())}close(){this.modal.hide()}shown(){this.isShown=!0,this.getRecordsIfNeeds(null)}getRecordsIfNeeds(t){!this.isShown||this.getRecords(t)}getRecords(t){if(this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0))return;this.primengTableHelper.showLoadingIndicator();const n=new m.ht;n.organizationUnitId=this.organizationUnitId,n.filter=this.filterText,n.skipCount=this.primengTableHelper.getSkipCount(this.paginator,t),n.maxResultCount=this.primengTableHelper.getMaxResultCount(this.paginator,t),this._organizationUnitService.findUsers(n).pipe((0,b.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(i=>{this.primengTableHelper.totalRecordsCount=i.totalCount,this.primengTableHelper.records=i.items,this.primengTableHelper.hideLoadingIndicator()})}addUsersToOrganizationUnit(){const t=new m.o5;t.organizationUnitId=this.organizationUnitId,t.userIds=(0,I.Z)(this.selectedMembers,n=>Number(n.value)),this.saving=!0,this._organizationUnitService.addUsersToOrganizationUnit(t).subscribe(()=>{this.notify.success(this.l("SuccessfullyAdded")),this.membersAdded.emit({userIds:t.userIds,ouId:t.organizationUnitId}),this.saving=!1,this.close(),this.selectedMembers=[]})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.OAl))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["addMemberModal"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(te,7),e.\u0275\u0275viewQuery(ne,7),e.\u0275\u0275viewQuery(ie,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.modal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dataTable=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},outputs:{membersAdded:"membersAdded"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:37,vars:40,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","modal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["modal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],["novalidate","","autocomplete","new-password",3,"ngSubmit"],[1,"input-group","mb-2"],["autoFocus","","name","filterText","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"bi","bi-search","fs-3"],[1,"primeng-datatable-container",3,"busyIf"],["selectionMode","multiple",3,"value","rows","paginator","lazy","tableStyle","selection","onLazyLoad","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],[1,"btn","btn-primary","fw-bold",3,"buttonBusy","busyText","disabled","click"],[1,"fa","fa-save"],[2,"width","38px"],[3,"pSelectableRow"],[3,"value","click"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return n.shown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"button",6),e.\u0275\u0275listener("click",function(){return n.close()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7)(11,"form",8),e.\u0275\u0275listener("ngSubmit",function(){return n.refreshTable()}),e.\u0275\u0275elementStart(12,"div",9)(13,"input",10),e.\u0275\u0275listener("ngModelChange",function(r){return n.filterText=r}),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",11)(16,"button",12),e.\u0275\u0275element(17,"i",13),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"div",14)(19,"p-table",15,16),e.\u0275\u0275listener("onLazyLoad",function(r){return n.getRecordsIfNeeds(r)})("selectionChange",function(r){return n.selectedMembers=r}),e.\u0275\u0275template(21,ae,6,3,"ng-template",17),e.\u0275\u0275template(22,oe,8,6,"ng-template",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,re,3,3,"div",19),e.\u0275\u0275elementStart(24,"div",20)(25,"p-paginator",21,22),e.\u0275\u0275listener("onPageChange",function(r){return n.getRecordsIfNeeds(r)}),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(28,"div",23)(29,"button",24),e.\u0275\u0275listener("click",function(){return n.close()}),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",25),e.\u0275\u0275listener("click",function(){return n.addUsersToOrganizationUnit()}),e.\u0275\u0275element(33,"i",26),e.\u0275\u0275elementStart(34,"span"),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"localize"),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(37,le,!n.saving)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,26,"SelectUsers")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275attribute("aria-label",n.l("Close")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(14,28,"SearchWithThreeDot")),e.\u0275\u0275property("ngModel",n.filterText),e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",n.l("Search")),e.\u0275\u0275advance(1),e.\u0275\u0275property("busyIf",n.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",n.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(39,de))("selection",n.selectedMembers),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==n.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",n.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(27,30,"TotalRecordsCount",n.primengTableHelper.totalRecordsCount)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,33,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("buttonBusy",n.saving)("busyText",n.l("SavingWithThreeDot"))("disabled",!(null!=n.selectedMembers&&n.selectedMembers.length)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(36,35,"Save")))},dependencies:[c.O5,d.\u0275NgNoValidate,d.DefaultValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.NgModel,d.NgForm,y.L,R.h,_.U,p.iA,f.jx,p.Ei,p.UA,p.Mo,v.D,C.Z,g.F],encapsulation:2}),a})();var O=l(80659);const pe=["addMemberModal"],me=["dataTable"],ce=["paginator"];function ue(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openAddMemberModal())}),e.\u0275\u0275element(1,"i",18),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AddMember")," "))}function ge(a,o){1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",19),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",20),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275element(8,"p-sortIcon",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th",22),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275element(12,"p-sortIcon",23),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,4,"Pages.Administration.OrganizationUnits.ManageMembers")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"Delete")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,"UserName")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,10,"AddedTime")," "))}function he(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",24),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275elementStart(3,"button",25),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.removeMember(r))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275element(5,"i",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td")(7,"span",27),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td")(12,"span",27),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"luxonFormat"),e.\u0275\u0275elementEnd()()}if(2&a){const t=o.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,7,"Pages.Administration.OrganizationUnits.ManageMembers")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(4,9,"Delete")),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",n.l("Delete")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"UserName")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.userName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,13,"AddedTime")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(16,15,t.addedTime,"F")," ")}}function be(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",28),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}function fe(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"SelectAnOrganizationUnitToSeeMembers"),"\n"))}const _e=function(){return{"min-width":"25rem"}};let ve=(()=>{class a extends u.c{constructor(t,n){super(t),this._organizationUnitService=n,this.memberRemoved=new e.EventEmitter,this.membersAdded=new e.EventEmitter,this._organizationUnit=null}get organizationUnit(){return this._organizationUnit}set organizationUnit(t){t?this._organizationUnit!==t&&(this._organizationUnit=t,this.addMemberModal.organizationUnitId=t.id,t&&this.refreshMembers()):this._organizationUnit=null}ngOnInit(){}getOrganizationUnitUsers(t){!this._organizationUnit||this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._organizationUnitService.getOrganizationUnitUsers(this._organizationUnit.id,this.primengTableHelper.getSorting(this.dataTable),this.primengTableHelper.getMaxResultCount(this.paginator,t),this.primengTableHelper.getSkipCount(this.paginator,t)).pipe((0,b.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(n=>{this.primengTableHelper.totalRecordsCount=n.totalCount,this.primengTableHelper.records=n.items,this.primengTableHelper.hideLoadingIndicator()}))}reloadPage(){this.getOrganizationUnitUsers(null),this.paginator.changePage(this.paginator.getPage())}refreshMembers(){this.reloadPage()}openAddMemberModal(){this.addMemberModal.show()}removeMember(t){this.message.confirm(this.l("RemoveUserFromOuWarningMessage",t.userName,this.organizationUnit.displayName),this.l("AreYouSure"),n=>{n&&this._organizationUnitService.removeUserFromOrganizationUnit(t.id,this.organizationUnit.id).subscribe(()=>{this.notify.success(this.l("SuccessfullyRemoved")),this.memberRemoved.emit({userId:t.id,ouId:this.organizationUnit.id}),this.refreshMembers()})})}addMembers(t){this.membersAdded.emit({userIds:t.userIds,ouId:t.ouId}),this.refreshMembers()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.OAl))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["organization-unit-members"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(pe,7),e.\u0275\u0275viewQuery(me,7),e.\u0275\u0275viewQuery(ce,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addMemberModal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dataTable=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},outputs:{memberRemoved:"memberRemoved",membersAdded:"membersAdded"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:19,vars:21,consts:[[1,"row"],[1,"col-12","p-3"],["class","btn btn-primary float-end mb-3",3,"click",4,"ngIf"],[1,"col-12"],["id","OuMembersTable"],[1,"primeng-datatable-container",3,"busyIf","hidden"],["sortMode","multiple",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],["class","text-muted",4,"ngIf"],[3,"membersAdded"],["addMemberModal",""],[1,"btn","btn-primary","float-end","mb-3",3,"click"],[1,"bi","bi-plus-lg","fs-3"],[2,"width","15%",3,"hidden"],["pSortableColumn","userName"],["field","userName"],["pSortableColumn","addedTime"],["field","addedTime"],[3,"hidden"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm",3,"title","click"],[1,"fa","fa-times"],[1,"p-column-title"],[1,"primeng-no-data"],[1,"text-muted"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,ue,4,3,"button",2),e.\u0275\u0275pipe(3,"permission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"div",5)(7,"p-table",6,7),e.\u0275\u0275listener("onLazyLoad",function(r){return n.getOrganizationUnitUsers(r)}),e.\u0275\u0275template(9,ge,13,12,"ng-template",8),e.\u0275\u0275template(10,he,17,18,"ng-template",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,be,3,3,"div",10),e.\u0275\u0275elementStart(12,"div",11)(13,"p-paginator",12,13),e.\u0275\u0275listener("onPageChange",function(r){return n.getOrganizationUnitUsers(r)}),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(16,fe,3,3,"div",14),e.\u0275\u0275elementStart(17,"addMemberModal",15,16),e.\u0275\u0275listener("membersAdded",function(r){return n.addMembers(r)}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,15,"Pages.Administration.OrganizationUnits.ManageMembers")&&n.organizationUnit),e.\u0275\u0275advance(4),e.\u0275\u0275property("busyIf",n.primengTableHelper.isLoading)("hidden",!n.organizationUnit),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",n.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(20,_e)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==n.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",n.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(15,17,"TotalRecordsCount",n.primengTableHelper.totalRecordsCount)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.organizationUnit))},dependencies:[c.O5,_.U,p.iA,f.jx,p.lQ,p.fz,v.D,se,O.n,g.F,z.a],encapsulation:2}),a})();const ye=["modal"],Ce=["dataTable"],ze=["paginator"];function Te(a,o){1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",27),e.\u0275\u0275element(2,"p-tableHeaderCheckbox"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"th"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(5,1,"Name")," "))}function Ue(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"tr",28)(1,"td",27)(2,"p-tableCheckbox",29),e.\u0275\u0275listener("click",function(n){return n.stopPropagation()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"td")(4,"span",30),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()),2&a){const t=o.$implicit;e.\u0275\u0275property("pSelectableRow",t),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",t),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,4,"Name")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," ")}}function Me(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",31),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const Se=function(a){return{backdrop:"static",keyboard:a}},Ie=function(){return{"min-width":"25rem"}};let Re=(()=>{class a extends u.c{constructor(t,n){super(t),this._organizationUnitService=n,this.rolesAdded=new e.EventEmitter,this.isShown=!1,this.filterText="",this.saving=!1}show(){this.modal.show()}refreshTable(){this.paginator.changePage(this.paginator.getPage())}close(){this.modal.hide()}shown(){this.isShown=!0,this.getRecordsIfNeeds(null)}getRecordsIfNeeds(t){!this.isShown||this.getRecords(t)}getRecords(t){if(this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0))return;this.primengTableHelper.showLoadingIndicator();const n=new m.eQS;n.organizationUnitId=this.organizationUnitId,n.filter=this.filterText,n.skipCount=this.primengTableHelper.getSkipCount(this.paginator,t),n.maxResultCount=this.primengTableHelper.getMaxResultCount(this.paginator,t),this._organizationUnitService.findRoles(n).pipe((0,b.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(i=>{this.primengTableHelper.totalRecordsCount=i.totalCount,this.primengTableHelper.records=i.items,this.primengTableHelper.hideLoadingIndicator()})}addRolesToOrganizationUnit(){const t=new m.r96;t.organizationUnitId=this.organizationUnitId,t.roleIds=(0,I.Z)(this.selectedRoles,n=>Number(n.value)),this.saving=!0,this._organizationUnitService.addRolesToOrganizationUnit(t).subscribe(()=>{this.notify.success(this.l("SuccessfullyAdded")),this.rolesAdded.emit({roleIds:t.roleIds,ouId:t.organizationUnitId}),this.saving=!1,this.close(),this.selectedRoles=[]})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(m.OAl))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["addRoleModal"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(ye,7),e.\u0275\u0275viewQuery(Ce,7),e.\u0275\u0275viewQuery(ze,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.modal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dataTable=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},outputs:{rolesAdded:"rolesAdded"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:37,vars:40,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","modal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["modal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],["novalidate","","autocomplete","new-password",3,"ngSubmit"],[1,"input-group","mb-2"],["autoFocus","","name","filterText","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"input-group-append"],["type","submit",1,"btn","btn-primary"],[1,"bi","bi-search","fs-3"],[1,"primeng-datatable-container",3,"busyIf"],["selectionMode","multiple",3,"value","rows","paginator","lazy","tableStyle","selection","onLazyLoad","selectionChange"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],[1,"btn","btn-primary","fw-bold",3,"buttonBusy","busyText","disabled","click"],[1,"fa","fa-save"],[2,"width","38px"],[3,"pSelectableRow"],[3,"value","click"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return n.shown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"button",6),e.\u0275\u0275listener("click",function(){return n.close()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",7)(11,"form",8),e.\u0275\u0275listener("ngSubmit",function(){return n.refreshTable()}),e.\u0275\u0275elementStart(12,"div",9)(13,"input",10),e.\u0275\u0275listener("ngModelChange",function(r){return n.filterText=r}),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"div",11)(16,"button",12),e.\u0275\u0275element(17,"i",13),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(18,"div",14)(19,"p-table",15,16),e.\u0275\u0275listener("onLazyLoad",function(r){return n.getRecordsIfNeeds(r)})("selectionChange",function(r){return n.selectedRoles=r}),e.\u0275\u0275template(21,Te,6,3,"ng-template",17),e.\u0275\u0275template(22,Ue,8,6,"ng-template",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(23,Me,3,3,"div",19),e.\u0275\u0275elementStart(24,"div",20)(25,"p-paginator",21,22),e.\u0275\u0275listener("onPageChange",function(r){return n.getRecordsIfNeeds(r)}),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(28,"div",23)(29,"button",24),e.\u0275\u0275listener("click",function(){return n.close()}),e.\u0275\u0275text(30),e.\u0275\u0275pipe(31,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"button",25),e.\u0275\u0275listener("click",function(){return n.addRolesToOrganizationUnit()}),e.\u0275\u0275element(33,"i",26),e.\u0275\u0275elementStart(34,"span"),e.\u0275\u0275text(35),e.\u0275\u0275pipe(36,"localize"),e.\u0275\u0275elementEnd()()()()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(37,Se,!n.saving)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,26,"SelectRoles")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275attribute("aria-label",n.l("Close")),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(14,28,"SearchWithThreeDot")),e.\u0275\u0275property("ngModel",n.filterText),e.\u0275\u0275advance(4),e.\u0275\u0275attribute("aria-label",n.l("Search")),e.\u0275\u0275advance(1),e.\u0275\u0275property("busyIf",n.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",n.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(39,Ie))("selection",n.selectedRoles),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==n.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",n.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(27,30,"TotalRecordsCount",n.primengTableHelper.totalRecordsCount)),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(31,33,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("buttonBusy",n.saving)("busyText",n.l("SavingWithThreeDot"))("disabled",!(null!=n.selectedRoles&&n.selectedRoles.length)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(36,35,"Save")))},dependencies:[c.O5,d.\u0275NgNoValidate,d.DefaultValueAccessor,d.NgControlStatus,d.NgControlStatusGroup,d.NgModel,d.NgForm,y.L,R.h,_.U,p.iA,f.jx,p.Ei,p.UA,p.Mo,v.D,C.Z,g.F],encapsulation:2}),a})();const Oe=["addRoleModal"],we=["dataTable"],Ee=["paginator"];function xe(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openAddRoleModal())}),e.\u0275\u0275element(1,"i",18),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"AddRole")," "))}function Ne(a,o){1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",19),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th",20),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275element(8,"p-sortIcon",21),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"th",22),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275element(12,"p-sortIcon",23),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,4,"Pages.Administration.OrganizationUnits.ManageRoles")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,6,"Delete")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,8,"Role")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,10,"AddedTime")," "))}function Ae(a,o){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td",24),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275elementStart(3,"button",25),e.\u0275\u0275listener("click",function(){const r=e.\u0275\u0275restoreView(t).$implicit,s=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(s.removeRole(r))}),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275element(5,"i",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"td")(7,"span",27),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td")(12,"span",27),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"luxonFormat"),e.\u0275\u0275elementEnd()()}if(2&a){const t=o.$implicit,n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!e.\u0275\u0275pipeBind1(2,7,"Pages.Administration.OrganizationUnits.ManageRoles")),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(4,9,"Delete")),e.\u0275\u0275advance(2),e.\u0275\u0275attribute("aria-label",n.l("Delete")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(9,11,"Role")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.displayName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,13,"AddedTime")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(16,15,t.addedTime,"F")," ")}}function Pe(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",28),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}function He(a,o){1&a&&(e.\u0275\u0275elementStart(0,"div",29),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"SelectAnOrganizationUnitToSeeRoles"),"\n"))}const De=function(){return{"min-width":"25rem"}};let Be=(()=>{class a extends u.c{constructor(t,n,i){super(t),this._changeDetector=n,this._organizationUnitService=i,this.roleRemoved=new e.EventEmitter,this.rolesAdded=new e.EventEmitter,this._organizationUnit=null}get organizationUnit(){return this._organizationUnit}set organizationUnit(t){t?this._organizationUnit!==t&&(this._organizationUnit=t,this.addRoleModal.organizationUnitId=t.id,t&&this.refreshRoles()):this._organizationUnit=null}ngOnInit(){}getOrganizationUnitRoles(t){!this._organizationUnit||this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._organizationUnitService.getOrganizationUnitRoles(this._organizationUnit.id,this.primengTableHelper.getSorting(this.dataTable),this.primengTableHelper.getMaxResultCount(this.paginator,t),this.primengTableHelper.getSkipCount(this.paginator,t)).pipe((0,b.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(n=>{this.primengTableHelper.totalRecordsCount=n.totalCount,this.primengTableHelper.records=n.items,this.primengTableHelper.hideLoadingIndicator()}))}reloadPage(){this.getOrganizationUnitRoles(null),this.paginator.changePage(this.paginator.getPage())}refreshRoles(){this.reloadPage()}openAddRoleModal(){this.addRoleModal.show()}removeRole(t){this.message.confirm(this.l("RemoveRoleFromOuWarningMessage",t.displayName,this.organizationUnit.displayName),this.l("AreYouSure"),n=>{n&&this._organizationUnitService.removeRoleFromOrganizationUnit(t.id,this.organizationUnit.id).subscribe(()=>{this.notify.success(this.l("SuccessfullyRemoved")),this.roleRemoved.emit({roleId:t.id,ouId:this.organizationUnit.id}),this.refreshRoles()})})}addRoles(t){this.rolesAdded.emit({roleIds:t.roleIds,ouId:t.ouId}),this.refreshRoles()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(m.OAl))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["organization-unit-roles"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Oe,7),e.\u0275\u0275viewQuery(we,7),e.\u0275\u0275viewQuery(Ee,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.addRoleModal=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.dataTable=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.paginator=i.first)}},outputs:{roleRemoved:"roleRemoved",rolesAdded:"rolesAdded"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:19,vars:21,consts:[[1,"row"],[1,"col-12","p-3"],["class","btn btn-primary float-end mb-3",3,"click",4,"ngIf"],[1,"col-12"],["id","OuRolesTable"],[1,"primeng-datatable-container",3,"busyIf","hidden"],["sortMode","multiple",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],["class","text-muted",4,"ngIf"],[3,"rolesAdded"],["addRoleModal",""],[1,"btn","btn-primary","float-end","mb-3",3,"click"],[1,"bi","bi-plus-lg","fs-3"],[2,"width","15%",3,"hidden"],["pSortableColumn","displayName"],["field","displayName"],["pSortableColumn","addedTime"],["field","addedTime"],[3,"hidden"],[1,"btn","btn-icon","btn-bg-light","btn-active-color-danger","btn-sm",3,"title","click"],[1,"fa","fa-times"],[1,"p-column-title"],[1,"primeng-no-data"],[1,"text-muted"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,xe,4,3,"button",2),e.\u0275\u0275pipe(3,"permission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"div",5)(7,"p-table",6,7),e.\u0275\u0275listener("onLazyLoad",function(r){return n.getOrganizationUnitRoles(r)}),e.\u0275\u0275template(9,Ne,13,12,"ng-template",8),e.\u0275\u0275template(10,Ae,17,18,"ng-template",9),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(11,Pe,3,3,"div",10),e.\u0275\u0275elementStart(12,"div",11)(13,"p-paginator",12,13),e.\u0275\u0275listener("onPageChange",function(r){return n.getOrganizationUnitRoles(r)}),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275template(16,He,3,3,"div",14),e.\u0275\u0275elementStart(17,"addRoleModal",15,16),e.\u0275\u0275listener("rolesAdded",function(r){return n.addRoles(r)}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,15,"Pages.Administration.OrganizationUnits.ManageRoles")&&n.organizationUnit),e.\u0275\u0275advance(4),e.\u0275\u0275property("busyIf",n.primengTableHelper.isLoading)("hidden",!n.organizationUnit),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",n.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",n.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(20,De)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==n.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",n.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",n.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",n.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(15,17,"TotalRecordsCount",n.primengTableHelper.totalRecordsCount)),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!n.organizationUnit))},dependencies:[c.O5,_.U,p.iA,f.jx,p.lQ,p.fz,v.D,Re,O.n,g.F,z.a],encapsulation:2}),a})();const Fe=["ouMembers"],Qe=["ouRoles"],Le=["ouTree"];function Ve(a,o){if(1&a&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.organizationUnit.displayName)}}const ke=[{path:"",component:(()=>{class a extends u.c{constructor(t){super(t),this.organizationUnit=null}ouSelected(t){this.organizationUnit=t,this.ouMembers.organizationUnit=t,this.ouRoles.organizationUnit=t}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Fe,7),e.\u0275\u0275viewQuery(Qe,7),e.\u0275\u0275viewQuery(Le,7)),2&t){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.ouMembers=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.ouRoles=i.first),e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(n.ouTree=i.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:25,vars:17,consts:[[3,"title","description"],[1,"row"],[1,"col-6"],[3,"ouSelected"],["ouTree",""],[1,"card","card-custom","gutter-b"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[4,"ngIf"],[1,"card-body"],[1,"tab-container"],[3,"heading","active"],[3,"membersAdded","memberRemoved"],["ouMembers",""],[3,"heading"],[3,"rolesAdded","roleRemoved"],["ouRoles",""]],template:function(t,n){if(1&t){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"div")(5,"div",1)(6,"div",2)(7,"organization-tree",3,4),e.\u0275\u0275listener("ouSelected",function(s){return n.ouSelected(s)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"div",2)(10,"div",5)(11,"div",6)(12,"h3",7)(13,"span",8),e.\u0275\u0275template(14,Ve,2,1,"span",9),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(15,"div",10)(16,"tabset",11)(17,"tab",12),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementStart(19,"organization-unit-members",13,14),e.\u0275\u0275listener("membersAdded",function(s){e.\u0275\u0275restoreView(i);const h=e.\u0275\u0275reference(8);return e.\u0275\u0275resetView(h.membersAdded(s))})("memberRemoved",function(s){e.\u0275\u0275restoreView(i);const h=e.\u0275\u0275reference(8);return e.\u0275\u0275resetView(h.memberRemoved(s))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"tab",15),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementStart(23,"organization-unit-roles",16,17),e.\u0275\u0275listener("rolesAdded",function(s){e.\u0275\u0275restoreView(i);const h=e.\u0275\u0275reference(8);return e.\u0275\u0275resetView(h.rolesAdded(s))})("roleRemoved",function(s){e.\u0275\u0275restoreView(i);const h=e.\u0275\u0275reference(8);return e.\u0275\u0275resetView(h.roleRemoved(s))}),e.\u0275\u0275elementEnd()()()()()()()()()}2&t&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,9,"OrganizationUnits"))("description",e.\u0275\u0275pipeBind1(3,11,"OrganizationUnitsHeaderInfo")),e.\u0275\u0275advance(3),e.\u0275\u0275classMap(n.containerClass),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",n.organizationUnit),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(18,13,"Members")),e.\u0275\u0275property("active",!0),e.\u0275\u0275advance(4),e.\u0275\u0275propertyInterpolate("heading",e.\u0275\u0275pipeBind1(22,15,"Roles")))},dependencies:[c.O5,M.wW,M.AH,E.$,ee,ve,Be,g.F],encapsulation:2,data:{animation:[(0,w.MH)()]}}),a})(),pathMatch:"full"}];let je=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[U.Bz.forChild(ke),U.Bz]}),a})();var We=l(75603),Ze=l(60263);let $e=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[Ze.o,We.g,je]}),a})()}}]);