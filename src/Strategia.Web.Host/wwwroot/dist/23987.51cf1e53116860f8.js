"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[23987],{23987:(V,g,i)=>{i.r(g),i.d(g,{RegisterTenantModule:()=>H});var f=i(60263),x=i(12749),s=i(91170),C=i(64369),S=i(58127),p=i(37857);class I extends p.KLe{}var R=i(28746),e=i(41571),T=i(91363),M=i(15260),h=i(36895),l=i(24006),w=i(8297),q=i(98218),b=i(61228),E=i(82659),P=i(97433),v=i(73425),_=i(73565);function z(n,d){if(1&n&&(e.\u0275\u0275elementStart(0,"div",31)(1,"div",32)(2,"span",33),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"h3",34),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",35)(8,"button",36),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()()),2&n){const r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,4,"Edition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",r.model.edition.displayName," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",r.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,6,"Back")," ")}}function N(n,d){1&n&&(e.\u0275\u0275elementStart(0,"div")(1,"span",37),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"TenantName_Regex_Description")))}function L(n,d){if(1&n&&(e.\u0275\u0275elementStart(0,"ul",19)(1,"li",38),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li",38),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",38),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",38),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li",38),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()),2&n){const r=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(44);e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!t.errors.requireDigit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requireLowercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requireUppercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requireNonAlphanumeric),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requiredLength),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,18,"PasswordComplexity_RequiredLength_Hint",r.passwordComplexitySetting.requiredLength)," ")}}function B(n,d){if(1&n&&(e.\u0275\u0275elementStart(0,"ul",19)(1,"li",38),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li",38),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",38),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",38),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li",38),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"li",38),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()),2&n){const r=e.\u0275\u0275nextContext(),t=e.\u0275\u0275reference(50);e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!t.errors.requireDigit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requireLowercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requireUppercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requireNonAlphanumeric),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.errors.requiredLength),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,20,"PasswordComplexity_RequiredLength_Hint",r.passwordComplexitySetting.requiredLength)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",t.valid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,23,"PasswordsDontMatch"))}}const y=function(n){return{edited:n}},A=[{path:"",component:(()=>{class n extends S.c{constructor(r,t,a,o,m,c,u){super(r),this._tenantRegistrationService=t,this._router=a,this._profileService=o,this._tenantRegistrationHelper=m,this._activatedRoute=c,this._recaptchaWrapperService=u,this.model=new I,this.passwordComplexitySetting=new p.qSp,this.subscriptionStartType=p.gPM,this.paymentPeriodType=p.dw4,this.selectedPaymentPeriodType=p.dw4.Monthly,this.subscriptionPaymentGateway=p.UWJ,this.paymentId="",this.saving=!1}ngOnInit(){this.model.editionId=this._activatedRoute.snapshot.queryParams.editionId,this.editionPaymentType=this._activatedRoute.snapshot.queryParams.editionPaymentType,this.model.editionId&&(this.model.subscriptionStartType=this._activatedRoute.snapshot.queryParams.subscriptionStartType),null==this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe(r=>{this.passwordComplexitySetting=r.setting}):this._router.navigate(["account/login"])}ngAfterViewInit(){this.model.editionId&&this._tenantRegistrationService.getEdition(this.model.editionId).subscribe(r=>{this.model.edition=r}),this._recaptchaWrapperService.setCaptchaVisibilityOnRegister()}save(){let r=t=>{this.saving=!0,this.model.captchaResponse=t,this._tenantRegistrationService.registerTenant(this.model).pipe((0,R.x)(()=>{this.saving=!1})).subscribe(a=>{this.notify.success(this.l("SuccessfullyRegistered")),this._tenantRegistrationHelper.registrationResult=a,parseInt(this.model.subscriptionStartType.toString())===p.gPM.Paid?this._router.navigate(["account/buy"],{queryParams:{tenantId:a.tenantId,editionId:this.model.editionId,subscriptionStartType:this.model.subscriptionStartType,editionPaymentType:this.editionPaymentType}}):this._router.navigate(["account/register-tenant-result"])})};this._recaptchaWrapperService.useCaptchaOnRegister()?this._recaptchaWrapperService.getService().execute("register_tenant").subscribe(t=>r(t)):r(null)}}return n.\u0275fac=function(r){return new(r||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(p.Zr1),e.\u0275\u0275directiveInject(s.F0),e.\u0275\u0275directiveInject(p.qAB),e.\u0275\u0275directiveInject(T.K),e.\u0275\u0275directiveInject(s.gz),e.\u0275\u0275directiveInject(M.o))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:59,vars:74,consts:[[1,"login-form"],[1,"pb-13","pt-lg-0","pt-5"],[1,"fw-bolder","text-dark","fs-h4","fs-h1-lg"],["class","row",4,"ngIf"],[1,"separator","separator-border-dashed"],["role","form","novalidate","",1,"login-form","form","mt-2",3,"submit"],["registerForm","ngForm"],[1,"mt-2"],[1,"mb-5"],["autoFocus","","type","text","name","tenancyName","required","","maxlength","64","pattern","^[a-zA-Z][a-zA-Z0-9_-]{1,}$",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["tenancyName","ngModel"],[4,"ngIf"],["type","text","name","Name","required","","maxlength","128",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["id","AdminName","type","text","name","AdminName","required","","maxlength","64",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngClass","ngModelChange"],["adminNameInput","ngModel"],["id","AdminSurname","type","text","name","AdminSurname","required","","maxlength","64",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngClass","ngModelChange"],["adminSurnameInput","ngModel"],[1,"form-text","text-danger"],["type","email","name","adminEmailAddress","required","","maxlength","256","email","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["adminEmailAddressInput","ngModel"],["type","password","name","Password","validateEqual","PasswordRepeat","reverse","true","required","","pPassword","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","promptLabel","weakLabel","mediumLabel","strongLabel","ngModelChange"],["Password","ngModel"],[1,"mb-5",3,"hidden"],["class","form-text text-danger",4,"ngIf"],["type","password","name","PasswordRepeat","validateEqual","Password","reverse","false","required","",1,"form-control","form-control-solid","h-auto","py-7","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength"],["PasswordRepeat","ngModel"],[1,"pb-lg-0","pb-5"],["type","submit",1,"btn","w-100","btn-primary","fw-bolder","fs-h6","px-8","py-4","mb-5",3,"disabled","buttonBusy","busyText"],[1,"bi","bi-check2","fs-3"],[1,"row"],[1,"col-sm-12","col-md-8"],[1,"d-block","text-muted","pt-2","fs-sm"],[1,"pb-10"],[1,"col-sm-12","col-md-4","text-end"],["routerLink","/account/login","type","button",1,"btn","btn-light-primary","btn-elevate","fw-bolder",3,"disabled"],[1,"form-text","text-danger","text-left"],[3,"hidden"]],template:function(r,t){if(1&r&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3",2),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(5,z,11,8,"div",3),e.\u0275\u0275element(6,"div",4),e.\u0275\u0275elementStart(7,"form",5,6),e.\u0275\u0275listener("submit",function(){return t.save()}),e.\u0275\u0275elementStart(9,"h5",7),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",8)(13,"input",9,10),e.\u0275\u0275listener("ngModelChange",function(o){return t.model.tenancyName=o}),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,N,4,3,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div",8)(18,"input",12,13),e.\u0275\u0275listener("ngModelChange",function(o){return t.model.name=o}),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"validation-messages",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"h5",7),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",8)(26,"input",15,16),e.\u0275\u0275listener("ngModelChange",function(o){return t.model.adminName=o}),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(29,"validation-messages",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(30,"div",8)(31,"input",17,18),e.\u0275\u0275listener("ngModelChange",function(o){return t.model.adminSurname=o}),e.\u0275\u0275pipe(33,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"span",19),e.\u0275\u0275element(35,"validation-messages",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(36,"div",8)(37,"input",20,21),e.\u0275\u0275listener("ngModelChange",function(o){return t.model.adminEmailAddress=o}),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"span",19),e.\u0275\u0275element(41,"validation-messages",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(42,"div",8)(43,"input",22,23),e.\u0275\u0275listener("ngModelChange",function(o){return t.model.adminPassword=o}),e.\u0275\u0275pipe(45,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",24),e.\u0275\u0275template(47,L,16,21,"ul",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(48,"div",8),e.\u0275\u0275element(49,"input",26,27),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementStart(52,"div",24),e.\u0275\u0275template(53,B,19,25,"ul",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(54,"div",28)(55,"button",29),e.\u0275\u0275element(56,"i",30),e.\u0275\u0275text(57),e.\u0275\u0275pipe(58,"localize"),e.\u0275\u0275elementEnd()()()()),2&r){const a=e.\u0275\u0275reference(8),o=e.\u0275\u0275reference(14),m=e.\u0275\u0275reference(19),c=e.\u0275\u0275reference(27),u=e.\u0275\u0275reference(32),j=e.\u0275\u0275reference(38),F=e.\u0275\u0275reference(44),U=e.\u0275\u0275reference(50);e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,48,"TenantSignUp")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.model.edition),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(11,50,"TenantInformations")," "),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(15,52,"TenancyName")," *"),e.\u0275\u0275property("ngModel",t.model.tenancyName),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",!o.valid&&!o.pristine),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(20,54,"TenantName")," *"),e.\u0275\u0275property("ngModel",t.model.name),e.\u0275\u0275advance(3),e.\u0275\u0275property("formCtrl",m),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(24,56,"AccountSettings")," "),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(28,58,"AdminName")," *"),e.\u0275\u0275property("ngModel",t.model.adminName)("ngClass",e.\u0275\u0275pureFunction1(70,y,t.model.adminName)),e.\u0275\u0275advance(3),e.\u0275\u0275property("formCtrl",c),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(33,60,"AdminSurname")," *"),e.\u0275\u0275property("ngModel",t.model.adminSurname)("ngClass",e.\u0275\u0275pureFunction1(72,y,t.model.adminSurname)),e.\u0275\u0275advance(4),e.\u0275\u0275property("formCtrl",u),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate1("placeholder","",e.\u0275\u0275pipeBind1(39,62,"AdminEmailAddress")," *"),e.\u0275\u0275property("ngModel",t.model.adminEmailAddress),e.\u0275\u0275advance(4),e.\u0275\u0275property("formCtrl",j),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(45,64,"AdminPassword")),e.\u0275\u0275property("ngModel",t.model.adminPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)("promptLabel",t.l("PleaseEnterYourNewPassword"))("weakLabel",t.l("weak"))("mediumLabel",t.l("medium"))("strongLabel",t.l("strong")),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",a.form.valid||a.form.pristine),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",F.errors),e.\u0275\u0275advance(2),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(51,66,"PasswordRepeat")),e.\u0275\u0275property("ngModel",t.model.passwordRepeat)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength),e.\u0275\u0275advance(3),e.\u0275\u0275property("hidden",a.form.valid||a.form.pristine),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",U.errors),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!a.form.valid)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(58,68,"Submit")," ")}},dependencies:[h.mk,h.O5,l.\u0275NgNoValidate,l.DefaultValueAccessor,l.NgControlStatus,l.NgControlStatusGroup,l.RequiredValidator,l.MaxLengthValidator,l.PatternValidator,l.EmailValidator,l.NgModel,l.NgForm,s.rH,w.z,q.J,b.L,E.h,P.s,v.QK,_.F],encapsulation:2,data:{animation:[(0,C.RP)()]}}),n})(),pathMatch:"full"}];let D=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[s.Bz.forChild(A),s.Bz]}),n})(),H=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.o,x.y,D,v.gz]}),n})()}}]);