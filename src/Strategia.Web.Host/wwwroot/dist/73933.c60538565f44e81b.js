"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[73933],{1737:(z,I,p)=>{p.r(I),p.d(I,{DynamicPropertiesModule:()=>Ve});var S=p(75603),E=p(60263),b=p(91170),r=p(58127),v=p(64369),e=p(41571),g=p(37857),O=p(19161),x=p(36895),w=p(59241),D=p(59245),T=p(17806),P=p(7318),V=p(10805),s=p(55317),c=p(24006),l=p(438),m=p(73565),h=p(34201);const d=["createOrEditModal"];function y(n,a){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"AddNewDynamicPropertyValue")," "))}function f(n,a){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"EditDynamicPropertyValue")," "))}function C(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.createDynamicPropertyValue())}),e.\u0275\u0275element(1,"i",24),e.\u0275\u0275elementEnd()}}function _(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",25)(1,"div",26)(2,"label",27),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",28)(6,"input",29),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.dynamicPropertyValue.value=o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"div",30)(8,"button",31),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.save())}),e.\u0275\u0275text(9,"Save"),e.\u0275\u0275elementEnd()()()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(4,2,"Value")," *"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",t.dynamicPropertyValue.value)}}function M(n,a){1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"th"),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"th",32)(5,"th",32),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,"Values")))}function B(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",35),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext().$implicit,u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.editDynamicPropertyValue(o.id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Edit")," "))}function A(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext().$implicit,u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.deleteDynamicPropertyValue(o.id))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Delete")," "))}function k(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275template(4,B,3,3,"button",33),e.\u0275\u0275pipe(5,"permission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275template(7,A,3,3,"button",34),e.\u0275\u0275pipe(8,"permission"),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.value," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,3,"Pages.Administration.DynamicPropertyValue.Edit")),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,5,"Pages.Administration.DynamicPropertyValue.Delete"))}}function N(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",37),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const F=function(){return{"min-width":"50rem"}};function L(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"div",12)(2,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.getDynamicProperties())}),e.\u0275\u0275element(3,"i",14),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,C,2,0,"button",15),e.\u0275\u0275pipe(5,"permission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,_,10,4,"div",16),e.\u0275\u0275elementStart(7,"div",17)(8,"div",18)(9,"p-table",19,20),e.\u0275\u0275listener("onLazyLoad",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.getDynamicProperties())}),e.\u0275\u0275template(11,M,6,3,"ng-template",21),e.\u0275\u0275template(12,k,9,7,"ng-template",22),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,N,3,3,"div",23),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(5,9,"Pages.Administration.DynamicPropertyValue.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.createOrEditValueEnabled),e.\u0275\u0275advance(2),e.\u0275\u0275property("busyIf",t.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",t.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",t.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(11,F)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==t.primengTableHelper.totalRecordsCount)}}const j=function(n){return{backdrop:"static",keyboard:n}};let H=(()=>{class n extends r.c{constructor(t,i){super(t),this._dynamicPropertyValueAppService=i,this.createOrEditValueEnabled=!1,this.saving=!1}getDynamicProperties(){this.showMainSpinner(),this._dynamicPropertyValueAppService.getAllValuesOfDynamicProperty(this.dynamicPropertyId).subscribe(t=>{this.primengTableHelper.totalRecordsCount=t.items.length,this.primengTableHelper.records=t.items,this.primengTableHelper.hideLoadingIndicator(),this.hideMainSpinner()},t=>{this.hideMainSpinner()})}editDynamicPropertyValue(t){this._dynamicPropertyValueAppService.get(t).subscribe(i=>{this.dynamicPropertyValue=i,this.createOrEditValueEnabled=!0,this.hideMainSpinner()},i=>{this.hideMainSpinner()})}deleteDynamicPropertyValue(t){this.message.confirm(this.l("DeleteDynamicPropertyValueMessage"),this.l("AreYouSure"),i=>{i&&this._dynamicPropertyValueAppService.delete(t).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.getDynamicProperties()})})}createDynamicPropertyValue(){this.dynamicPropertyValue=new g.YNq,this.dynamicPropertyValue.dynamicPropertyId=this.dynamicPropertyId,this.createOrEditValueEnabled=!0}show(t){this.dynamicPropertyValue=new g.YNq,this.dynamicPropertyValue.dynamicPropertyId=t,this.dynamicPropertyId=t,this.getDynamicProperties(),this.modal.show()}save(){let t;this.saving=!0,this.showMainSpinner(),t=this.dynamicPropertyValue.id?this._dynamicPropertyValueAppService.update(this.dynamicPropertyValue):this._dynamicPropertyValueAppService.add(this.dynamicPropertyValue),t.subscribe(()=>{this.getDynamicProperties(),this.notify.info(this.l("SavedSuccessfully")),this.hideMainSpinner(),this.saving=!1,this.createOrEditValueEnabled=!1},i=>{this.hideMainSpinner(),this.saving=!1,this.createOrEditValueEnabled=!1})}close(){this.modal.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.Fn))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["dynamic-property-value-modal"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(d,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.modal=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:14,vars:12,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade",3,"config"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],[1,"modal-body"],[1,"row","justify-content-end","px-5"],[1,"btn","btn-outline-brand","btn-sm","btn-icon","btn-icon-md",3,"click"],[1,"flaticon2-refresh"],["class","btn btn-outline-brand btn-sm btn-icon btn-icon-md",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"flaticon2-plus"],[1,"row"],[1,"mb-5","col"],["for","Name"],[1,"input-group"],["type","text","name","Name","required","",1,"form-control","col",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],[2,"width","100px"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"primeng-no-data"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.\u0275\u0275template(6,y,3,3,"span",6),e.\u0275\u0275template(7,f,3,3,"span",6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"button",7),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,L,14,12,"div",8),e.\u0275\u0275elementStart(10,"div",9)(11,"button",10),e.\u0275\u0275listener("click",function(){return i.close()}),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()()()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(10,j,!i.saving)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.dynamicPropertyValue&&!i.dynamicPropertyValue.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.dynamicPropertyValue&&i.dynamicPropertyValue.id),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",i.saving),e.\u0275\u0275attribute("aria-label",i.l("Close")),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.dynamicPropertyValue),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",i.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(13,8,"Close")," "))},dependencies:[x.O5,c.DefaultValueAccessor,c.NgControlStatus,c.RequiredValidator,c.NgModel,T.U,P.iA,V.jx,l.Z,m.F,h.a],encapsulation:2}),n})();var Q=p(61228),R=p(59259);const $=["createOrEditModal"],Z=["permissionFilterTreeModal"];function U(n,a){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind1(2,2,"Edit")," ",e.\u0275\u0275pipeBind1(3,4,"DynamicProperty")," "))}function Y(n,a){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(2,1,"AddNewDynamicProperty")))}function G(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function K(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",8)(2,"h4",9),e.\u0275\u0275template(3,U,4,6,"span",7),e.\u0275\u0275template(4,Y,3,3,"span",7),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"button",10),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"div",11)(7,"div",12)(8,"div",13)(9,"label",14),e.\u0275\u0275text(10),e.\u0275\u0275pipe(11,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"input",15),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.dynamicProperty.propertyName=o)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(13,"div",13)(14,"label",14),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"input",15),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.dynamicProperty.displayName=o)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",13)(19,"label",14),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"select",16),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.dynamicProperty.inputType=o)}),e.\u0275\u0275template(23,G,2,2,"option",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"div",13)(25,"label",14),e.\u0275\u0275text(26),e.\u0275\u0275pipe(27,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"div",18),e.\u0275\u0275element(29,"input",19),e.\u0275\u0275elementStart(30,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.openPermissionTreeModal())}),e.\u0275\u0275element(31,"i",21),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(32,"div",22)(33,"button",23),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.save())}),e.\u0275\u0275element(37,"i",25),e.\u0275\u0275elementStart(38,"span"),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.dynamicPropertyId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.dynamicPropertyId),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",t.saving),e.\u0275\u0275attribute("aria-label",t.l("Close")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(11,19,"PropertyName")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.dynamicProperty.propertyName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,21,"DisplayName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.dynamicProperty.displayName),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(21,23,"InputType")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.dynamicProperty.inputType),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.allIputTypes),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(27,25,"Permission")),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("value",t.dynamicProperty.permission),e.\u0275\u0275advance(4),e.\u0275\u0275property("disabled",t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(35,27,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!t.dynamicProperty.propertyName||!t.dynamicProperty.inputType)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(40,29,"Save"))}}const W=function(n){return{backdrop:"static",keyboard:n}};function X(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",3,4)(2,"div",5)(3,"div",6),e.\u0275\u0275template(4,K,41,31,"div",7),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,W,!t.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.active)}}let J=(()=>{class n extends r.c{constructor(t,i,o){super(t),this._dynamicPropertyService=i,this._dynamicEntityPropertyDefinitionServiceProxy=o,this.modalSave=new e.EventEmitter,this.loading=!0,this.saving=!1}show(t){if(this.dynamicPropertyId=t,!t)return this.dynamicProperty=new g.jDf,this.active=!0,void this.modal.show();this.showMainSpinner(),this._dynamicPropertyService.get(t).subscribe(i=>{this.dynamicProperty=i,this.active=!0,this.modal.show(),this.hideMainSpinner()},i=>{this.hideMainSpinner()})}save(){let t;this.saving=!0,t=this.dynamicProperty.id?this._dynamicPropertyService.update(this.dynamicProperty):this._dynamicPropertyService.add(this.dynamicProperty),this.showMainSpinner(),t.subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.hideMainSpinner(),this.modalSave.emit(null),this.modal.hide(),this.saving=!1},i=>{this.hideMainSpinner(),this.saving=!1})}ngOnInit(){this._dynamicEntityPropertyDefinitionServiceProxy.getAllAllowedInputTypeNames().subscribe(t=>{this.allIputTypes=t,this.loading=!1})}close(){this.modal.hide()}openPermissionTreeModal(){this.permissionFilterTreeModal.openPermissionTreeModal()}onPermissionSelected(t){this.dynamicProperty.permission=t[0]}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.ddT),e.\u0275\u0275directiveInject(g._5w))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["create-or-edit-dynamic-property-modal"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery($,5),e.\u0275\u0275viewQuery(Z,7)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.modal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.permissionFilterTreeModal=o.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[["appBsModal","","class","modal fade","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",3,"config",4,"ngIf"],[3,"singleSelect","dontAddOpenerButton","onModalclose"],["permissionFilterTreeModal",""],["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade",3,"config"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5","col-12"],[1,"mb-5"],[1,"form-label"],["type","text","name","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group"],["type","text","disabled","disabled",1,"form-control",3,"value"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-hand-pointer"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","button",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText","click"],[1,"fa","fa-save"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,X,5,4,"div",0),e.\u0275\u0275elementStart(1,"permission-tree-modal",1,2),e.\u0275\u0275listener("onModalclose",function(u){return i.onPermissionSelected(u)}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("ngIf",!i.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("singleSelect",!0)("dontAddOpenerButton",!0))},dependencies:[x.sg,x.O5,c.NgSelectOption,c.\u0275NgSelectMultipleOption,c.DefaultValueAccessor,c.SelectControlValueAccessor,c.NgControlStatus,c.RequiredValidator,c.NgModel,Q.L,l.Z,R.Z,m.F],encapsulation:2}),n})();var q=p(17799),ee=p(4128);const te=["createModal"];function ne(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",20),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("value",t),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t)}}function ie(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",6)(2,"h4",7)(3,"span"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(6,"button",8),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",9)(8,"div",10)(9,"div",11)(10,"label",12),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"select",13),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const u=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(u.entityFullName=o)}),e.\u0275\u0275elementStart(14,"option",14),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,ne,2,2,"option",15),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(18,"div",16)(19,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.save())}),e.\u0275\u0275element(23,"i",19),e.\u0275\u0275elementStart(24,"span"),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,8,"SelectAnEntity")),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(12,10,"Entity")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.entityFullName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,12,"SelectAnEntity")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.allEntities),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,14,"Cancel")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,16,"Save"))}}function oe(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",3)(1,"div",4),e.\u0275\u0275template(2,ie,27,18,"div",5),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.initialized)}}const ae=function(){return{backdrop:"static"}};let re=(()=>{class n extends r.c{constructor(t,i,o){super(t),this._dynamicEntityPropertyService=i,this._dynamicEntityPropertyDefinitionService=o,this.modalSave=new e.EventEmitter,this.initialized=!1,this.saving=!1}show(){this.initialize(),this.modal.show()}save(){this.saving=!0,this.showMainSpinner(),this.modalSave.emit(this.entityFullName),this.modal.hide()}close(){this.modal.hide()}initialize(){if(this.initialized)return;this.showMainSpinner();let t=this._dynamicEntityPropertyDefinitionService.getAllEntities(),i=this._dynamicEntityPropertyService.getAllEntitiesHasDynamicProperty();(0,ee.D)([t,i]).subscribe(([o,u])=>{this.allEntities=o.filter(function(we){return-1===u.items.map(Oe=>Oe.entityFullName).indexOf(we)}),this.hideMainSpinner(),this.initialized=!0},o=>{this.hideMainSpinner()})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.kvd),e.\u0275\u0275directiveInject(g._5w))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["select-and-entity-modal"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(te,5),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.modal=o.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createModal","aria-hidden","true",1,"modal","fade",3,"config"],["createModal","bs-modal"],["class","modal-dialog modal-lg",4,"ngIf"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-5","col-12"],[1,"mb-5"],["for","Name",1,"form-label"],["required","",1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","button",1,"btn","btn-primary","fw-bold",3,"click"],[1,"fa","fa-save"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275template(2,oe,3,1,"div",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction0(2,ae)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",i.initialized))},dependencies:[x.sg,x.O5,c.NgSelectOption,c.\u0275NgSelectMultipleOption,c.SelectControlValueAccessor,c.NgControlStatus,c.RequiredValidator,c.NgModel,l.Z,m.F],encapsulation:2}),n})();const le=["selectAnEntityModal"],pe=["manageDynamicEntityPropertyModalComponent"];function ce(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addNewDynamicEntityProperty())}),e.\u0275\u0275element(1,"i",15),e.\u0275\u0275elementStart(2,"span",16),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"AddNewDynamicEntityProperty")," "))}function de(n,a){1&n&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275element(1,"th",17),e.\u0275\u0275elementStart(2,"th"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,1,"EntityFullName")))}function se(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext().$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.gotoEdit(o.entityFullName))}),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()}2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Detail")," "))}function me(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275template(2,se,3,3,"button",18),e.\u0275\u0275pipe(3,"permission"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"td"),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,2,"Pages.Administration.DynamicEntityProperties.Edit")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.entityFullName," ")}}function ue(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",20),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const ye=function(){return{"min-width":"50rem"}};let _e=(()=>{class n extends r.c{constructor(t,i,o){super(t),this._dynamicEntityPropertyService=i,this._router=o}ngOnInit(){this.getDynamicEntityProperties()}getDynamicEntityProperties(){this.showMainSpinner(),this._dynamicEntityPropertyService.getAllEntitiesHasDynamicProperty().subscribe(t=>{this.primengTableHelper.totalRecordsCount=t.items.length,this.primengTableHelper.records=t.items,this.primengTableHelper.hideLoadingIndicator(),this.hideMainSpinner()},t=>{this.hideMainSpinner()})}addNewDynamicEntityProperty(){this.selectAnEntityModal.show()}gotoEdit(t){this.manageDynamicEntityPropertyModalComponent.show(t)}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.kvd),e.\u0275\u0275directiveInject(b.F0))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["dynamic-entity-property-list"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(le,5),e.\u0275\u0275viewQuery(pe,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.selectAnEntityModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.manageDynamicEntityPropertyModalComponent=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:15,vars:11,consts:[[1,"row","justify-content-end"],[1,"col"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[3,"modalSave"],["selectAnEntityModal",""],[3,"onPropertyChange"],["manageDynamicEntityPropertyModalComponent",""],[1,"btn","btn-primary","float-end",3,"click"],[1,"bi","bi-plus-lg","fs-3","btn-md-icon"],[1,"d-none","d-md-inline-block"],[2,"width","100px"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"primeng-no-data"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1),e.\u0275\u0275template(2,ce,5,3,"button",2),e.\u0275\u0275pipe(3,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"p-table",5,6),e.\u0275\u0275listener("onLazyLoad",function(){return i.getDynamicEntityProperties()}),e.\u0275\u0275template(8,de,5,3,"ng-template",7),e.\u0275\u0275template(9,me,6,4,"ng-template",8),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(10,ue,3,3,"div",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(11,"select-and-entity-modal",10,11),e.\u0275\u0275listener("modalSave",function(u){return i.gotoEdit(u)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"manage-dynamic-entity-property-modal",12,13),e.\u0275\u0275listener("onPropertyChange",function(){return i.getDynamicEntityProperties()}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(3,8,"Pages.Administration.DynamicEntityProperties.Create")),e.\u0275\u0275advance(3),e.\u0275\u0275property("busyIf",i.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",i.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",i.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(10,ye)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==i.primengTableHelper.totalRecordsCount))},dependencies:[x.O5,T.U,P.iA,V.jx,q.E,re,m.F,h.a],encapsulation:2}),n})();const fe=["createOrEditDynamicProperty"],ve=["dynamicPropertyValueModal"];function ge(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addNewDynamicProperty())}),e.\u0275\u0275element(1,"i",18),e.\u0275\u0275elementStart(2,"span",19),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"AddNewDynamicProperty")," "))}function he(n,a){1&n&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275element(1,"th",20),e.\u0275\u0275elementStart(2,"th"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"th"),e.\u0275\u0275text(12),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,4,"PropertyName")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,6,"DisplayName")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,8,"InputType")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(13,10,"Permission")))}function be(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",28)(1,"a",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.editDynamicProperty(o.id))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Edit")," "))}function Ce(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",28)(1,"a",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.deleteDynamicProperty(o.id))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Delete")," "))}function xe(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",28)(1,"a",29),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2).$implicit,u=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(u.editValues(o))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"EditValues")," "))}function Pe(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"ul",26),e.\u0275\u0275template(1,be,4,3,"li",27),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275template(3,Ce,4,3,"li",27),e.\u0275\u0275pipe(4,"permission"),e.\u0275\u0275template(5,xe,4,3,"li",27),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,3,"Pages.Administration.DynamicProperties.Edit")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,5,"Pages.Administration.DynamicProperties.Delete")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,7,"Pages.Administration.DynamicPropertyValue.Edit")&&i.hasValues(t.inputType))}}function Se(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"div",21)(3,"button",22),e.\u0275\u0275element(4,"i",23)(5,"span",24),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,Pe,7,9,"ul",25),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"td"),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"td"),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit;e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,5,"Actions")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",t.propertyName," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.displayName," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.inputType," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.permission," ")}}function Ee(n,a){1&n&&(e.\u0275\u0275elementStart(0,"div",30),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const Ie=function(){return{"min-width":"50rem"}},Me=[{path:"",component:(()=>{class n extends r.c{constructor(t,i,o,u){super(t),this._dynamicPropertyService=i,this._router=o,this._inputTypeConfigurationService=u}getDynamicProperties(){this.showMainSpinner(),this._dynamicPropertyService.getAll().subscribe(t=>{this.primengTableHelper.totalRecordsCount=t.items.length,this.primengTableHelper.records=t.items,this.primengTableHelper.hideLoadingIndicator(),this.hideMainSpinner()},t=>{this.hideMainSpinner()})}addNewDynamicProperty(){this.createOrEditDynamicPropertyModal.show()}editDynamicProperty(t){this.createOrEditDynamicPropertyModal.show(t)}deleteDynamicProperty(t){this.message.confirm(this.l("DeleteDynamicPropertyMessage"),this.l("AreYouSure"),i=>{i&&this._dynamicPropertyService.delete(t).subscribe(()=>{abp.notify.success(this.l("SuccessfullyDeleted")),this.getDynamicProperties()})})}editValues(t){this.dynamicPropertyValueModal.show(t.id)}hasValues(t){return this._inputTypeConfigurationService.getByName(t).hasValues}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(g.ddT),e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(O.R))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(fe,7),e.\u0275\u0275viewQuery(ve,7)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.createOrEditDynamicPropertyModal=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.dynamicPropertyValueModal=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:27,vars:23,consts:[[3,"title"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"row","align-items-center"],[1,"p-5",3,"heading"],[1,"row","justify-content-end","px-5","pb-5"],[1,"col"],["class","btn btn-primary float-end",3,"click",4,"ngIf"],[1,"primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],["dynamicPropertyValueModal",""],[3,"modalSave"],["createOrEditDynamicProperty",""],[1,"btn","btn-primary","float-end",3,"click"],[1,"bi","bi-plus-lg","fs-3","btn-md-icon"],[1,"d-none","d-md-inline-block"],[2,"width","130px"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"bi","bi-gear-fill"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["role","menuitem",4,"ngIf"],["role","menuitem"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"primeng-no-data"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275element(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementStart(3,"div")(4,"div",1)(5,"div",2)(6,"div",3)(7,"tabset")(8,"tab",4),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementStart(10,"div",5)(11,"div",6),e.\u0275\u0275template(12,ge,5,3,"button",7),e.\u0275\u0275pipe(13,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"div",8)(15,"p-table",9,10),e.\u0275\u0275listener("onLazyLoad",function(){return i.getDynamicProperties()}),e.\u0275\u0275template(17,he,14,12,"ng-template",11),e.\u0275\u0275template(18,Se,17,7,"ng-template",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(19,Ee,3,3,"div",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"tab",4),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275element(22,"dynamic-entity-property-list"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275element(23,"dynamic-property-value-modal",null,14),e.\u0275\u0275elementStart(25,"create-or-edit-dynamic-property-modal",15,16),e.\u0275\u0275listener("modalSave",function(){return i.getDynamicProperties()}),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,14,"DynamicPropertyManagement")),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(i.containerClass),e.\u0275\u0275advance(5),e.\u0275\u0275propertyInterpolate1("heading"," ",e.\u0275\u0275pipeBind1(9,16,"DynamicProperties"),""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(13,18,"Pages.Administration.DynamicProperties.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275property("busyIf",i.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",i.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",i.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(22,Ie)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==i.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate1("heading"," ",e.\u0275\u0275pipeBind1(21,20,"DynamicEntityProperties"),""))},dependencies:[x.O5,w.wW,w.AH,D.Hz,D.Mq,D.TO,T.U,P.iA,V.jx,s.$,H,J,_e,m.F,h.a],encapsulation:2,data:{animation:[(0,v.MH)()]}}),n})(),pathMatch:"full"}];let De=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[b.Bz.forChild(Me),b.Bz]}),n})();var Te=p(46162);let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[E.o,S.g,De,Te.DynamicEntityPropertiesModule]}),n})()},50216:(z,I,p)=>{p.d(I,{Ql:()=>r,TH:()=>b,cT:()=>E});var S=p(41571);const E=new S.InjectionToken("selectedValues"),b=new S.InjectionToken("allValues"),r=new S.InjectionToken("componentInstance")},19161:(z,I,p)=>{p.d(I,{R:()=>V});var S=p(58127),E=p(50216);class b extends S.c{constructor(c){super(c),this.selectedValues=c.get(E.cT),this.allValues=c.get(E.TH),c.get(E.Ql)(this)}}var r=p(41571),v=p(24006);let e=(()=>{class s extends b{constructor(l){super(l)}getSelectedValues(){return this.selectedValue?[this.selectedValue]:[]}ngOnInit(){this.selectedValue=this.selectedValues[0]}}return s.\u0275fac=function(l){return new(l||s)(r.\u0275\u0275directiveInject(r.Injector))},s.\u0275cmp=r.\u0275\u0275defineComponent({type:s,selectors:[["app-single-line-string-input-type"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["type","text",1,"form-control",3,"ngModel","ngModelChange"]],template:function(l,m){1&l&&(r.\u0275\u0275elementStart(0,"input",0),r.\u0275\u0275listener("ngModelChange",function(d){return m.selectedValue=d}),r.\u0275\u0275elementEnd()),2&l&&r.\u0275\u0275property("ngModel",m.selectedValue)},dependencies:[v.DefaultValueAccessor,v.NgControlStatus,v.NgModel]}),s})(),g=(()=>{class s extends b{constructor(l){super(l)}ngOnInit(){this.checked=this.selectedValues&&this.selectedValues[0]&&"true"===this.selectedValues[0]}getSelectedValues(){return[this.checked.toString()]}}return s.\u0275fac=function(l){return new(l||s)(r.\u0275\u0275directiveInject(r.Injector))},s.\u0275cmp=r.\u0275\u0275defineComponent({type:s,selectors:[["app-checkbox-input-type"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:4,vars:1,consts:[[1,"checkbox-inline"],[1,"checkbox","checkbox-solid"],["type","checkbox","value","true",3,"ngModel","ngModelChange"]],template:function(l,m){1&l&&(r.\u0275\u0275elementStart(0,"div",0)(1,"label",1)(2,"input",2),r.\u0275\u0275listener("ngModelChange",function(d){return m.checked=d}),r.\u0275\u0275elementEnd(),r.\u0275\u0275element(3,"span"),r.\u0275\u0275elementEnd()()),2&l&&(r.\u0275\u0275advance(2),r.\u0275\u0275property("ngModel",m.checked))},dependencies:[v.CheckboxControlValueAccessor,v.NgControlStatus,v.NgModel]}),s})();var O=p(36895);function x(s,c){if(1&s&&(r.\u0275\u0275elementStart(0,"option",3),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&s){const l=c.$implicit;r.\u0275\u0275property("value",l),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate(l)}}let w=(()=>{class s extends b{constructor(l){super(l)}ngOnInit(){this.selectedValue=this.selectedValues[0]}getSelectedValues(){return this.selectedValue?[this.selectedValue]:[]}}return s.\u0275fac=function(l){return new(l||s)(r.\u0275\u0275directiveInject(r.Injector))},s.\u0275cmp=r.\u0275\u0275defineComponent({type:s,selectors:[["app-combobox-input-type"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(l,m){1&l&&(r.\u0275\u0275elementStart(0,"select",0),r.\u0275\u0275listener("ngModelChange",function(d){return m.selectedValue=d}),r.\u0275\u0275element(1,"option",1),r.\u0275\u0275template(2,x,2,2,"option",2),r.\u0275\u0275elementEnd()),2&l&&(r.\u0275\u0275property("ngModel",m.selectedValue),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",m.allValues))},dependencies:[O.sg,v.NgSelectOption,v.\u0275NgSelectMultipleOption,v.SelectControlValueAccessor,v.NgControlStatus,v.NgModel]}),s})();var D=p(3631);let T=(()=>{class s extends b{constructor(l){super(l)}ngOnInit(){this.filteredValues=this.allValues}getSelectedValues(){return this.selectedValues?this.selectedValues:[]}filter(l){this.filteredValues=this.allValues.filter(m=>m.toLowerCase().includes(l.query.toLowerCase()))}}return s.\u0275fac=function(l){return new(l||s)(r.\u0275\u0275directiveInject(r.Injector))},s.\u0275cmp=r.\u0275\u0275defineComponent({type:s,selectors:[["app-multiple-select-input-type"]],features:[r.\u0275\u0275InheritDefinitionFeature],decls:1,vars:4,consts:[["inputStyleClass","form-control","styleClass","width-percent-100",3,"ngModel","suggestions","minLength","multiple","ngModelChange","completeMethod"]],template:function(l,m){1&l&&(r.\u0275\u0275elementStart(0,"p-autoComplete",0),r.\u0275\u0275listener("ngModelChange",function(d){return m.selectedValues=d})("completeMethod",function(d){return m.filter(d)}),r.\u0275\u0275elementEnd()),2&l&&r.\u0275\u0275property("ngModel",m.selectedValues)("suggestions",m.filteredValues)("minLength",1)("multiple",!0)},dependencies:[v.NgControlStatus,v.NgModel,D.Qc],encapsulation:2}),s})();class P{constructor(c,l,m){this.name=c,this.component=l,this.hasValues=m}}let V=(()=>{class s{constructor(){this.initialize()}getByName(l){let m=this.InputTypeConfigurationDefinitions.filter(h=>h.name===l);return m&&1===m.length?m[0]:null}getByInputType(l){return this.getByName(l.name)}initialize(){let l=new P("SINGLE_LINE_STRING",e,!1),m=new P("CHECKBOX",g,!1),h=new P("COMBOBOX",w,!0),d=new P("MULTISELECTCOMBOBOX",T,!0);this.InputTypeConfigurationDefinitions=[],this.InputTypeConfigurationDefinitions.push(l),this.InputTypeConfigurationDefinitions.push(m),this.InputTypeConfigurationDefinitions.push(h),this.InputTypeConfigurationDefinitions.push(d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=r.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},55397:(z,I,p)=>{p.d(I,{Z:()=>h});var S=p(25736),E=p(25575);var v=p(97298);const x=function O(d,y){return y.length<2?d:(0,v.Z)(d,function e(d,y,f){var C=-1,_=d.length;y<0&&(y=-y>_?0:_+y),(f=f>_?_:f)<0&&(f+=_),_=y>f?0:f-y>>>0,y>>>=0;for(var M=Array(_);++C<_;)M[C]=d[C+y];return M}(y,0,-1))};var w=p(62168);const T=function D(d,y){return y=(0,E.Z)(y,d),null==(d=x(d,y))||delete d[(0,w.Z)(function b(d){var y=null==d?0:d.length;return y?d[y-1]:void 0}(y))]};var P=p(56667),s=Array.prototype.splice;const h=function m(d,y){var f=[];if(!d||!d.length)return f;var C=-1,_=[],M=d.length;for(y=(0,S.Z)(y,3);++C<M;){var B=d[C];y(B,C,d)&&(f.push(B),_.push(C))}return function c(d,y){for(var f=d?y.length:0,C=f-1;f--;){var _=y[f];if(f==C||_!==M){var M=_;(0,P.Z)(_)?s.call(d,_,1):T(d,_)}}}(d,_),f}}}]);