"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[43370],{43370:(Ye,M,d)=>{d.r(M),d.d(M,{TenantsModule:()=>We});var D=d(75603),F=d(60263),C=d(91170),V=d(64369),_=d(58127),p=d(37857),h=d(8736),f=d(28746),e=d(41571),R=d(7623),b=d(49927),m=d(36895),l=d(24006),x=d(59245),g=d(78288),P=d(99819),A=d(91851),N=d(17806),B=d(99609),y=d(7318),U=d(10805),k=d(1997);const z=["EditionCombobox"];function L(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"option",3),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=r.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.displayText)}}let q=(()=>{class a extends _.c{constructor(t,i){super(i),this._editionService=t,this.selectedEdition=void 0,this.selectedEditionChange=new e.EventEmitter,this.editions=[]}ngOnInit(){this._editionService.getEditionComboboxItems(0,!0,!1).subscribe(t=>{this.editions=t})}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(p.GnT),e.\u0275\u0275directiveInject(e.Injector))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["edition-combo"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(z,7),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.editionComboboxElement=n.first)}},inputs:{selectedEdition:"selectedEdition"},outputs:{selectedEditionChange:"selectedEditionChange"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],["EditionCombobox",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"select",0,1),e.\u0275\u0275listener("ngModelChange",function(o){return i.selectedEdition=o})("ngModelChange",function(o){return i.selectedEditionChange.emit(o)}),e.\u0275\u0275template(2,L,2,2,"option",2),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("ngModel",i.selectedEdition),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",i.editions))},dependencies:[m.sg,l.NgSelectOption,l.\u0275NgSelectMultipleOption,l.SelectControlValueAccessor,l.NgControlStatus,l.NgModel],encapsulation:2}),a})();var H=d(55317),O=d(8297),Q=d(98218),T=d(61228),I=d(97433),w=d(79651),S=d(438),v=d(73565);const j=["createModal"];function $(a,r){1&a&&(e.\u0275\u0275elementStart(0,"span",53),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"TenantName_Regex_Description")," "))}const u=function(a){return{edited:a}};function Z(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"label",54),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",55,56),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.tenant.connectionString=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"validation-messages",15),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,4,"DatabaseConnectionString")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",i.tenant.connectionString)("ngClass",e.\u0275\u0275pureFunction1(6,u,i.tenant.connectionString)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",t)}}function W(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"label",57),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",58,59),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.tenant.adminPassword=n)}),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"AdminPassword")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",t.tenant.adminPassword)("ngClass",e.\u0275\u0275pureFunction1(11,u,t.tenant.adminPassword))("required",!t.setRandomPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)}}function G(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"ul",60)(1,"li",34),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li",34),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",34),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",34),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li",34),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd()()),2&a){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(1),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!t.controls.adminPassword.errors.requireDigit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPassword.errors.requireLowercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPassword.errors.requireUppercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPassword.errors.requireNonAlphanumeric),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPassword.errors.requiredLength),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,18,"PasswordComplexity_RequiredLength_Hint",i.passwordComplexitySetting.requiredLength)," ")}}function Y(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"label",61),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",62,63),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.tenantAdminPasswordRepeat=n)}),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,9,"AdminPasswordRepeat")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",i.tenantAdminPasswordRepeat)("ngClass",e.\u0275\u0275pureFunction1(11,u,t))("required",!i.setRandomPassword)("requireDigit",i.passwordComplexitySetting.requireDigit)("requireLowercase",i.passwordComplexitySetting.requireLowercase)("requireUppercase",i.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",i.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",i.passwordComplexitySetting.requiredLength)}}function J(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"ul",60)(1,"li",34),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"li",34),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"li",34),e.\u0275\u0275text(8),e.\u0275\u0275pipe(9,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"li",34),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"li",34),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"li",34),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd()()),2&a){e.\u0275\u0275nextContext();const t=e.\u0275\u0275reference(1),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!t.controls.adminPasswordRepeat.errors.requireDigit),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPasswordRepeat.errors.requireLowercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPasswordRepeat.errors.requireUppercase),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPasswordRepeat.errors.requireNonAlphanumeric),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",!t.controls.adminPasswordRepeat.errors.requiredLength),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,20,"PasswordComplexity_RequiredLength_Hint",i.passwordComplexitySetting.requiredLength)," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",t.controls.adminPasswordRepeat.valid),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(18,23,"PasswordsDontMatch")," ")}}function K(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"option",64),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=r.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayText," ")}}const X=function(a){return{"has-error":a}},ee=function(){return{adaptivePosition:!0}};function te(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("submit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h5",8)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",10)(9,"div",11)(10,"label",12),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"input",13,14),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.tenancyName=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"validation-messages",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"div"),e.\u0275\u0275template(18,$,3,3,"span",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",11)(20,"label",17),e.\u0275\u0275text(21),e.\u0275\u0275pipe(22,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"input",18,19),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.name=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(25,"validation-messages",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"label",20)(27,"input",21),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.useHostDb=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(28,"span",22),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(31,Z,7,8,"div",23),e.\u0275\u0275elementStart(32,"div",11)(33,"label",24),e.\u0275\u0275text(34),e.\u0275\u0275pipe(35,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"input",25,26),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.adminName=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"validation-messages",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"div",11)(40,"label",27),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"input",28,29),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.adminSurname=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(45,"validation-messages",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"div",11)(47,"label",30),e.\u0275\u0275text(48),e.\u0275\u0275pipe(49,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"input",31,32),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.adminEmailAddress=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(52,"validation-messages",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"label",20)(54,"input",33),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.setRandomPassword=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"span",22),e.\u0275\u0275text(56),e.\u0275\u0275pipe(57,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(58,W,6,13,"div",23),e.\u0275\u0275elementStart(59,"div",34),e.\u0275\u0275template(60,G,16,21,"ul",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(61,Y,6,13,"div",23),e.\u0275\u0275elementStart(62,"div",34),e.\u0275\u0275template(63,J,19,25,"ul",35),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(64,"div",11)(65,"label",36),e.\u0275\u0275text(66),e.\u0275\u0275pipe(67,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(68,"select",37),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.editionId=n)})("change",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onEditionChange())}),e.\u0275\u0275template(69,K,2,2,"option",38),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(70,"label",39)(71,"input",40),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.isUnlimited=n)})("change",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onIsUnlimitedChange())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(72,"span",22),e.\u0275\u0275text(73),e.\u0275\u0275pipe(74,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(75,"div",41)(76,"label",42),e.\u0275\u0275text(77),e.\u0275\u0275pipe(78,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(79,"input",43,44),e.\u0275\u0275listener("dateChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.subscriptionEndDateUtc=n)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(81,"label",39)(82,"input",45),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.isInTrialPeriod=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"span",22),e.\u0275\u0275text(84),e.\u0275\u0275pipe(85,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(86,"label",20)(87,"input",46),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.shouldChangePasswordOnNextLogin=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(88,"span",22),e.\u0275\u0275text(89),e.\u0275\u0275pipe(90,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(91,"label",20)(92,"input",47),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.sendActivationEmail=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(93,"span",22),e.\u0275\u0275text(94),e.\u0275\u0275pipe(95,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(96,"label",20)(97,"input",48),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.isActive=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(98,"span",22),e.\u0275\u0275text(99),e.\u0275\u0275pipe(100,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(101,"div",49)(102,"button",50),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275text(103),e.\u0275\u0275pipe(104,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(105,"button",51),e.\u0275\u0275element(106,"i",52),e.\u0275\u0275elementStart(107,"span"),e.\u0275\u0275text(108),e.\u0275\u0275pipe(109,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275reference(1),i=e.\u0275\u0275reference(14),n=e.\u0275\u0275reference(15),o=e.\u0275\u0275reference(24),c=e.\u0275\u0275reference(37),E=e.\u0275\u0275reference(44),Ge=e.\u0275\u0275reference(51),s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(6,62,"CreateNewTenant")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",s.saving),e.\u0275\u0275attribute("aria-label",s.l("Close")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(12,64,"TenancyName")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(96,u,s.tenant.tenancyName))("ngModel",s.tenant.tenancyName),e.\u0275\u0275advance(3),e.\u0275\u0275property("formCtrl",i),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!n.valid&&!n.pristine),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(22,66,"TenantName")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(98,u,s.tenant.name))("ngModel",s.tenant.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",o),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.useHostDb),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(30,68,"UseHostDatabase")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s.useHostDb),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(35,70,"AdminName")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.tenant.adminName)("ngClass",e.\u0275\u0275pureFunction1(100,u,s.tenant.adminName)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",c),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(42,72,"AdminSurname")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.tenant.adminSurname)("ngClass",e.\u0275\u0275pureFunction1(102,u,s.tenant.adminSurname)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",E),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(49,74,"AdminEmailAddress")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.tenant.adminEmailAddress)("ngClass",e.\u0275\u0275pureFunction1(104,u,s.tenant.adminEmailAddress)),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",Ge),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.setRandomPassword),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(57,76,"SetRandomPassword")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!s.setRandomPassword),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",t.form.valid||t.form.pristine),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.controls.adminPassword&&t.controls.adminPassword.errors),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!s.setRandomPassword),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",t.form.valid||t.form.pristine),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.controls.adminPasswordRepeat&&t.controls.adminPasswordRepeat.errors),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(67,78,"Edition")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",s.tenant.editionId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",s.editions),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!s.isSubscriptionFieldsVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",s.isUnlimited),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(74,80,"UnlimitedTimeSubscription")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",s.isUnlimited||!s.isSubscriptionFieldsVisible)("ngClass",e.\u0275\u0275pureFunction1(106,X,!s.subscriptionEndDateIsValid())),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(78,82,"SubscriptionEndDate")),e.\u0275\u0275advance(2),e.\u0275\u0275property("date",s.tenant.subscriptionEndDateUtc)("bsConfig",e.\u0275\u0275pureFunction0(108,ee)),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",s.isUnlimited||!s.isSubscriptionFieldsVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",s.tenant.isInTrialPeriod)("disabled",s.isSelectedEditionFree),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(85,84,"IsInTrialPeriod")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",s.tenant.shouldChangePasswordOnNextLogin),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(90,86,"ShouldChangePasswordOnNextLogin")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",s.tenant.sendActivationEmail),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(95,88,"SendActivationEmail")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",s.tenant.isActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(100,90,"Active")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",s.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(104,92,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("buttonBusy",s.saving)("busyText",s.l("SavingWithThreeDot"))("disabled",!t.form.valid||s.saving||!s.subscriptionEndDateIsValid()),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(109,94,"Save"))}}const ne=function(a){return{backdrop:"static",keyboard:a}};let ie=(()=>{class a extends _.c{constructor(t,i,n,o,c){super(t),this._tenantService=i,this._commonLookupService=n,this._profileService=o,this._dateTimeService=c,this.modalSave=new e.EventEmitter,this.active=!1,this.saving=!1,this.setRandomPassword=!0,this.useHostDb=!0,this.editions=[],this.passwordComplexitySetting=new p.qSp,this.isUnlimited=!1,this.isSubscriptionFieldsVisible=!1,this.isSelectedEditionFree=!1,this.tenantAdminPasswordRepeat=""}show(){this.active=!0,this.init(),this._profileService.getPasswordComplexitySetting().subscribe(t=>{this.passwordComplexitySetting=t.setting,this.modal.show()})}onShown(){document.getElementById("TenancyName").focus()}init(){this.tenant=new p.uNx,this.tenant.isActive=!0,this.tenant.shouldChangePasswordOnNextLogin=!0,this.tenant.sendActivationEmail=!0,this.tenant.editionId=0,this.tenant.isInTrialPeriod=!1,this._commonLookupService.getEditionsForCombobox(!1).subscribe(t=>{this.editions=t.items;let i=new p.EHF;i.value="",i.displayText=this.l("NotAssigned"),this.editions.unshift(i),this._commonLookupService.getDefaultEditionName().subscribe(n=>{let o=(0,h.Z)(this.editions,{displayText:n.name});o&&o[0]&&(this.tenant.editionId=parseInt(o[0].value),this.toggleSubscriptionFields())})})}getEditionValue(t){return parseInt(t.value)}selectedEditionIsFree(){let t=(0,h.Z)(this.editions,{value:this.tenant.editionId.toString()}).map(n=>Object.assign(new p.EHF,n));return 1!==t.length&&(this.isSelectedEditionFree=!0),this.isSelectedEditionFree=t[0].isFree,this.isSelectedEditionFree}subscriptionEndDateIsValid(){return!!(this.tenant.editionId<=0||this.isUnlimited)||!!this.tenant.subscriptionEndDateUtc&&void 0!==this.tenant.subscriptionEndDateUtc}save(){this.saving=!0,this.setRandomPassword&&(this.tenant.adminPassword=null),0===this.tenant.editionId&&(this.tenant.editionId=null),this.isUnlimited&&(this.tenant.isInTrialPeriod=!1),this.tenant.subscriptionEndDateUtc=this.isUnlimited||this.tenant.editionId<=0?null:this._dateTimeService.toUtcDate(this.tenant.subscriptionEndDateUtc),this._tenantService.createTenant(this.tenant).pipe((0,f.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.tenantAdminPasswordRepeat="",this.modal.hide()}onEditionChange(){this.tenant.isInTrialPeriod=this.tenant.editionId>0&&!this.selectedEditionIsFree(),this.toggleSubscriptionFields()}toggleSubscriptionFields(){this.isSelectedEditionFree=this.selectedEditionIsFree(),this.tenant.editionId<=0||this.isSelectedEditionFree?(this.isSubscriptionFieldsVisible=!1,this.isUnlimited=!!this.isSelectedEditionFree):this.isSubscriptionFieldsVisible=!0}onIsUnlimitedChange(){this.isUnlimited&&(this.tenant.isInTrialPeriod=!1)}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(p.ANv),e.\u0275\u0275directiveInject(p.P0Z),e.\u0275\u0275directiveInject(p.qAB),e.\u0275\u0275directiveInject(b.C))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["createTenantModal"]],viewQuery:function(t,i){if(1&t&&e.\u0275\u0275viewQuery(j,7),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.modal=n.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["createModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["role","form","novalidate","","class","form-validation",3,"submit",4,"ngIf"],["role","form","novalidate","",1,"form-validation",3,"submit"],["tenantCreateForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5"],["for","TenancyName"],["id","TenancyName","type","text","name","tenancyName","required","","maxlength","64","pattern","^[a-zA-Z][a-zA-Z0-9_-]{1,}$",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["tenancyNameInput","ngModel","tenancyName","ngModel"],[3,"formCtrl"],["class","form-control-feedback",4,"ngIf"],["for","Name"],["id","Name","type","text","name","Name","required","","maxlength","128",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["nameInput","ngModel"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","CreateTenant_UseHostDb","type","checkbox","name","UseHostDb",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","mb-5",4,"ngIf"],["for","AdminName"],["id","AdminName","type","text","name","AdminName","required","","maxlength","64",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adminNameInput","ngModel"],["for","AdminSurname"],["id","AdminSurname","type","text","name","AdminSurname","required","","maxlength","64",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adminSurnameInput","ngModel"],["for","AdminEmailAddress"],["id","AdminEmailAddress","type","email","name","AdminEmailAddress","required","","pattern","^\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$","maxlength","256",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adminEmailAddressInput","ngModel"],["id","CreateTenant_SetRandomPassword","type","checkbox","name","SetRandomPassword",1,"form-check-input",3,"ngModel","ngModelChange"],[3,"hidden"],["class","help-block text-danger",4,"ngIf"],["for","edition"],["id","edition","name","edition",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1",3,"hidden"],["id","CreateTenant_IsUnlimited","type","checkbox","name","IsUnlimited",1,"form-check-input",3,"ngModel","ngModelChange","change"],[1,"mb-5",3,"hidden","ngClass"],["for","SubscriptionEndDate"],["id","SubscriptionEndDate","type","text","name","SubscriptionEndDateUtc","bsDatepicker","","datePickerLuxonModifier","","autocomplete","new-password",1,"form-control",3,"date","bsConfig","dateChange"],["SubscriptionEndDateUtc",""],["id","CreateTenant_IsInTrialPeriod","type","checkbox","name","IsInTrialPeriod",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","CreateTenant_ShouldChangePasswordOnNextLogin","type","checkbox","name","ShouldChangePasswordOnNextLogin",1,"form-check-input",3,"ngModel","ngModelChange"],["id","CreateTenant_SendActivationEmail","type","checkbox","name","SendActivationEmail",1,"form-check-input",3,"ngModel","ngModelChange"],["id","CreateTenant_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"buttonBusy","busyText","disabled"],[1,"fa","fa-save"],[1,"form-control-feedback"],["for","DatabaseConnectionString"],["id","DatabaseConnectionString","type","text","name","ConnectionString","required","","maxlength","1024",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["connectionStringInput","ngModel"],["for","AdminPassword"],["id","AdminPassword","type","password","name","adminPassword","id","adminPassword","validateEqual","adminPasswordRepeat","reverse","true","maxlength","32",1,"form-control",3,"ngModel","ngClass","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["adminPassword","ngModel"],[1,"help-block","text-danger"],["for","AdminPasswordRepeat"],["id","AdminPasswordRepeat","type","password","name","adminPasswordRepeat","validateEqual","adminPassword","maxlength","32",1,"form-control",3,"ngModel","ngClass","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["adminPasswordRepeat","ngModel"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return i.onShown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,te,110,109,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,ne,!i.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.active))},dependencies:[m.mk,m.sg,m.O5,l.\u0275NgNoValidate,l.NgSelectOption,l.\u0275NgSelectMultipleOption,l.DefaultValueAccessor,l.CheckboxControlValueAccessor,l.SelectControlValueAccessor,l.NgControlStatus,l.NgControlStatusGroup,l.RequiredValidator,l.MaxLengthValidator,l.PatternValidator,l.NgModel,l.NgForm,g.Np,g.Y5,O.z,Q.J,T.L,I.s,w.s,S.Z,v.F],encapsulation:2}),a})();const ae=["nameInput"],oe=["editModal"],re=["SubscriptionEndDateUtc"];function le(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"label",35),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"input",36,37),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.tenant.connectionString=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(6,"validation-messages",15),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(3,3,"DatabaseConnectionString")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",i.tenant.connectionString),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",t)}}function se(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div")(1,"span",38),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"TenantDatabaseConnectionStringChangeWarningMessage")," "))}function de(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"option",39),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&a){const t=r.$implicit;e.\u0275\u0275property("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.displayText," ")}}const pe=function(a){return{edited:a}},ce=function(a){return{"has-error":a}},me=function(){return{adaptivePosition:!0}};function ue(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("submit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h5",8)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",10)(9,"div",11)(10,"label",12),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(13,"input",13,14),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.name=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(15,"validation-messages",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(16,le,7,5,"div",16),e.\u0275\u0275template(17,se,4,3,"div",17),e.\u0275\u0275elementStart(18,"div",11)(19,"label",18),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"select",19),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.editionId=n)})("change",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onEditionChange())}),e.\u0275\u0275template(23,de,2,2,"option",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(24,"label",21)(25,"input",22),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.isUnlimited=n)})("ngModelChange",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.onUnlimitedChange())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"span",23),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(29,"div",24)(30,"label",25),e.\u0275\u0275text(31),e.\u0275\u0275pipe(32,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"input",26,27),e.\u0275\u0275listener("dateChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.subscriptionEndDateChange(n))})("dateChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.subscriptionEndDateUtc=n)}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"label",21)(36,"input",28),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.isInTrialPeriod=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"span",23),e.\u0275\u0275text(38),e.\u0275\u0275pipe(39,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"label",29)(41,"input",30),e.\u0275\u0275listener("ngModelChange",function(n){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.tenant.isActive=n)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"span",23),e.\u0275\u0275text(43),e.\u0275\u0275pipe(44,"localize"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(45,"div",31)(46,"button",32),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275text(47),e.\u0275\u0275pipe(48,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"button",33),e.\u0275\u0275element(50,"i",34),e.\u0275\u0275elementStart(51,"span"),e.\u0275\u0275text(52),e.\u0275\u0275pipe(53,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275reference(1),i=e.\u0275\u0275reference(14),n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(6,35,"EditTenant"),": ",n.tenant.tenancyName,""),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275attribute("aria-label",n.l("Close")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1("",e.\u0275\u0275pipeBind1(12,37,"TenantName")," *"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(53,pe,n.tenant.name))("ngModel",n.tenant.name),e.\u0275\u0275advance(2),e.\u0275\u0275property("formCtrl",i),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentConnectionString),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",n.currentConnectionString),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(21,39,"Edition")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngModel",n.tenant.editionId),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",n.editions),e.\u0275\u0275advance(1),e.\u0275\u0275property("hidden",!n.isSubscriptionFieldsVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",n.isUnlimited),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,41,"UnlimitedTimeSubscription")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.isUnlimited||!n.isSubscriptionFieldsVisible)("ngClass",e.\u0275\u0275pureFunction1(55,ce,!n.subscriptionEndDateUtcIsValid)),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(32,43,"SubscriptionEndDateUtc")),e.\u0275\u0275advance(2),e.\u0275\u0275property("date",n.tenant.subscriptionEndDateUtc)("isUtc",!0)("bsConfig",e.\u0275\u0275pureFunction0(57,me))("required",!n.isUnlimited),e.\u0275\u0275advance(2),e.\u0275\u0275property("hidden",n.isUnlimited||!n.isSubscriptionFieldsVisible),e.\u0275\u0275advance(1),e.\u0275\u0275property("disabled",n.selectedEditionIsFree())("ngModel",n.tenant.isInTrialPeriod),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(39,45,"IsInTrialPeriod")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngModel",n.tenant.isActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(44,47,"Active")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",n.saving),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(48,49,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("buttonBusy",n.saving)("busyText",n.l("SavingWithThreeDot"))("disabled",!t.form.valid||n.saving||!n.subscriptionEndDateUtcIsValid),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(53,51,"Save"))}}const ge=function(a){return{backdrop:"static",keyboard:a}};let _e=(()=>{class a extends _.c{constructor(t,i,n,o){super(t),this._tenantService=i,this._commonLookupService=n,this._dateTimeService=o,this.modalSave=new e.EventEmitter,this.active=!1,this.saving=!1,this.isUnlimited=!1,this.subscriptionEndDateUtcIsValid=!1,this.tenant=void 0,this.editions=[],this.isSubscriptionFieldsVisible=!1}show(t){this.active=!0,this._commonLookupService.getEditionsForCombobox(!1).subscribe(i=>{this.editions=i.items;let n=new p.EHF;n.displayText=this.l("NotAssigned"),n.value="",this.editions.unshift(n),this._tenantService.getTenantForEdit(t).subscribe(o=>{this.tenant=o,this.currentConnectionString=o.connectionString,this.tenant.editionId=this.tenant.editionId||0,this.isUnlimited=!this.tenant.subscriptionEndDateUtc,this.subscriptionEndDateUtcIsValid=this.isUnlimited||void 0!==this.tenant.subscriptionEndDateUtc,this.modal.show(),this.toggleSubscriptionFields()})})}onShown(){document.getElementById("Name").focus()}subscriptionEndDateChange(t){this.subscriptionEndDateUtcIsValid=t&&!1!==t.date||this.isUnlimited}selectedEditionIsFree(){if(!this.tenant.editionId)return!0;let t=(0,h.Z)(this.editions,{value:this.tenant.editionId+""});return 1!==t.length||t[0].isFree}save(){this.saving=!0,0===this.tenant.editionId&&(this.tenant.editionId=null),this.isUnlimited&&(this.tenant.isInTrialPeriod=!1),this.tenant.subscriptionEndDateUtc=this.isUnlimited||!this.tenant.editionId?null:this.tenant.subscriptionEndDateUtc.toLocal(),this._tenantService.updateTenant(this.tenant).pipe((0,f.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.modal.hide()}onEditionChange(){this.selectedEditionIsFree()&&(this.tenant.isInTrialPeriod=!1),this.toggleSubscriptionFields()}onUnlimitedChange(){this.isUnlimited?(this.tenant.subscriptionEndDateUtc=null,this.subscriptionEndDateUtcIsValid=!0,this.tenant.isInTrialPeriod=!1):this.tenant.subscriptionEndDateUtc||(this.subscriptionEndDateUtcIsValid=!1)}toggleSubscriptionFields(){this.isSubscriptionFieldsVisible=this.tenant.editionId>0}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(p.ANv),e.\u0275\u0275directiveInject(p.P0Z),e.\u0275\u0275directiveInject(b.C))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["editTenantModal"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(ae,7),e.\u0275\u0275viewQuery(oe,7),e.\u0275\u0275viewQuery(re,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.nameInput=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.modal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.subscriptionEndDateUtc=n.first)}},outputs:{modalSave:"modalSave"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config","onShown"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["role","form","novalidate","","class","form-validation",3,"submit",4,"ngIf"],["role","form","novalidate","",1,"form-validation",3,"submit"],["tenantEditForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5"],["for","Name"],["id","Name","type","text","name","Name","required","","maxlength","128",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["class","mb-5",4,"ngIf"],[4,"ngIf"],["for","edition"],["id","edition","name","edition",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1",3,"hidden"],["id","CreateTenant_IsUnlimited","type","checkbox","name","IsUnlimited",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],[1,"mb-5",3,"hidden","ngClass"],["for","SubscriptionEndDateUtc"],["id","SubscriptionEndDateUtc","type","datetime","name","SubscriptionEndDateUtc","bsDatepicker","","datePickerLuxonModifier","",1,"form-control",3,"date","isUtc","bsConfig","required","dateChange"],["SubscriptionEndDateUtc",""],["id","CreateTenant_IsInTrialPeriod","type","checkbox","name","IsInTrialPeriod",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","EditTenant_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"buttonBusy","busyText","disabled"],[1,"fa","fa-save"],["for","DatabaseConnectionString"],["id","DatabaseConnectionString","type","text","name","ConnectionString","required","","maxlength","1024",1,"form-control",3,"ngModel","ngModelChange"],["connectionStringInput","ngModel"],[1,"help-block","text-warning"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1),e.\u0275\u0275listener("onShown",function(){return i.onShown()}),e.\u0275\u0275elementStart(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,ue,54,58,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction1(2,ge,!i.saving)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.tenant&&i.active))},dependencies:[m.mk,m.sg,m.O5,l.\u0275NgNoValidate,l.NgSelectOption,l.\u0275NgSelectMultipleOption,l.DefaultValueAccessor,l.CheckboxControlValueAccessor,l.SelectControlValueAccessor,l.NgControlStatus,l.NgControlStatusGroup,l.RequiredValidator,l.MaxLengthValidator,l.NgModel,l.NgForm,g.Np,g.Y5,T.L,I.s,w.s,S.Z,v.F],encapsulation:2}),a})();var fe=d(85566),he=d(32320);const ve=["tenantFeaturesModal"],Ce=["featureTree"];function be(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"form",5,6),e.\u0275\u0275listener("submit",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.save())}),e.\u0275\u0275elementStart(2,"div",7)(3,"h4",8)(4,"span"),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"button",9),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"div",10),e.\u0275\u0275element(9,"feature-tree",null,11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",12)(12,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.resetFeatures())}),e.\u0275\u0275pipe(13,"localize"),e.\u0275\u0275elementStart(14,"span"),e.\u0275\u0275text(15),e.\u0275\u0275pipe(16,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.close())}),e.\u0275\u0275text(18),e.\u0275\u0275pipe(19,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",15),e.\u0275\u0275element(21,"i",16),e.\u0275\u0275elementStart(22,"span"),e.\u0275\u0275text(23),e.\u0275\u0275pipe(24,"localize"),e.\u0275\u0275elementEnd()()()()}if(2&a){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate2("",e.\u0275\u0275pipeBind1(6,13,"Features")," - ",t.tenantName,""),e.\u0275\u0275advance(7),e.\u0275\u0275propertyInterpolate("tooltip",e.\u0275\u0275pipeBind1(13,15,"ResetFeaturesTooltip")),e.\u0275\u0275property("disabled",t.saving)("buttonBusy",t.resettingFeatures)("busyText",t.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(16,17,"ResetSpecialFeatures")),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.saving||t.resettingFeatures),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(19,19,"Cancel")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",t.resettingFeatures)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(24,21,"Save"))}}const xe=function(){return{backdrop:"static"}};let ye=(()=>{class a extends _.c{constructor(t,i){super(t),this._tenantService=i,this.active=!1,this.saving=!1,this.resettingFeatures=!1,this.featureEditData=null}show(t,i){this.tenantId=t,this.tenantName=i,this.active=!0,this.loadFeatures(),this.modal.show()}loadFeatures(){const t=this;t._tenantService.getTenantFeaturesForEdit(this.tenantId).subscribe(i=>{t.featureTree.editData=i})}save(){if(!this.featureTree.areAllValuesValid())return void this.message.warn(this.l("InvalidFeaturesWarning"));const t=new p.Qxy;t.id=this.tenantId,t.featureValues=this.featureTree.getGrantedFeatures(),this.saving=!0,this._tenantService.updateTenantFeatures(t).pipe((0,f.x)(()=>this.saving=!1)).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close()})}resetFeatures(){const t=new p.KAE;t.id=this.tenantId,this.resettingFeatures=!0,this._tenantService.resetTenantSpecificFeatures(t).pipe((0,f.x)(()=>this.resettingFeatures=!1)).subscribe(()=>{this.notify.info(this.l("ResetSuccessfully")),this.loadFeatures()})}close(){this.active=!1,this.modal.hide()}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(p.ANv))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["tenantFeaturesModal"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(ve,7),e.\u0275\u0275viewQuery(Ce,5)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.modal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.featureTree=n.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","tenantFeaturesModal","aria-hidden","true",1,"modal","fade",3,"config"],["tenantFeaturesModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["name","editTenantFeaturesForm","role","form","novalidate","","class","form-validation",3,"submit",4,"ngIf"],["name","editTenantFeaturesForm","role","form","novalidate","",1,"form-validation",3,"submit"],["editTenantFeaturesForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],["featureTree",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold","pull-left",3,"disabled","buttonBusy","busyText","tooltip","click"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3),e.\u0275\u0275template(4,be,25,23,"form",4),e.\u0275\u0275elementEnd()()()),2&t&&(e.\u0275\u0275property("config",e.\u0275\u0275pureFunction0(2,xe)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",i.active))},dependencies:[m.O5,l.\u0275NgNoValidate,l.NgControlStatusGroup,l.NgForm,T.L,S.Z,fe.y,he.i9,v.F],encapsulation:2}),a})();var Te=d(80659),Se=d(34201);const Ee=["impersonateUserLookupModal"],Me=["createTenantModal"],Ie=["editTenantModal"],we=["tenantFeaturesModal"],De=["dataTable"],Fe=["paginator"],Ve=["entityTypeHistoryModal"];function Re(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",46),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.createTenant())}),e.\u0275\u0275element(1,"i",47),e.\u0275\u0275elementStart(2,"span",28),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"CreateNewTenant")," "))}function Pe(a,r){1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"th",48),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"th",49),e.\u0275\u0275text(5),e.\u0275\u0275pipe(6,"localize"),e.\u0275\u0275element(7,"p-sortIcon",50),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th",51),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275element(11,"p-sortIcon",52),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"th"),e.\u0275\u0275text(13),e.\u0275\u0275pipe(14,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th",53),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275element(18,"p-sortIcon",54),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",55),e.\u0275\u0275text(20),e.\u0275\u0275pipe(21,"localize"),e.\u0275\u0275element(22,"p-sortIcon",56),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"th",57),e.\u0275\u0275text(24),e.\u0275\u0275pipe(25,"localize"),e.\u0275\u0275element(26,"p-sortIcon",58),e.\u0275\u0275elementEnd()()),2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,7,"Actions")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(6,9,"TenancyCodeName")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(10,11,"TenantName")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(14,13,"Edition")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,15,"SubscriptionEndDateUtc")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(21,17,"Active")," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(25,19,"CreationTime")," "))}function Ae(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",71)(1,"a",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(n.isActive&&o.showUserImpersonateLookUpModal(n))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}if(2&a){const t=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275classProp("disabled",!t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275classProp("disabled",!t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,5,"LoginAsThisTenant")," ")}}function Ne(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",71)(1,"a",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const o=e.\u0275\u0275reference(66);return e.\u0275\u0275resetView(o.show(n.id))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Edit")," "))}function Be(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",71)(1,"a",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit;e.\u0275\u0275nextContext();const o=e.\u0275\u0275reference(68);return e.\u0275\u0275resetView(o.show(n.id,n.name))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Features")," "))}function Ue(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",71)(1,"a",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.deleteTenant(n))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"Delete")," "))}function ke(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"li",71)(1,"a",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext(2).$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.showHistory(n))}),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementEnd()()}2&a&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(3,1,"History")," "))}function ze(a,r){if(1&a){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"ul",68),e.\u0275\u0275template(1,Ae,4,7,"li",69),e.\u0275\u0275pipe(2,"permission"),e.\u0275\u0275template(3,Ne,4,3,"li",70),e.\u0275\u0275pipe(4,"permission"),e.\u0275\u0275template(5,Be,4,3,"li",70),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275template(7,Ue,4,3,"li",70),e.\u0275\u0275pipe(8,"permission"),e.\u0275\u0275elementStart(9,"li",71)(10,"a",72),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const n=e.\u0275\u0275nextContext().$implicit,o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.unlockUser(n))}),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(13,ke,4,3,"li",70),e.\u0275\u0275elementEnd()}if(2&a){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(2,6,"Pages.Tenants.Impersonation")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(4,8,"Pages.Tenants.Edit")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,10,"Pages.Tenants.ChangeFeatures")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(8,12,"Pages.Tenants.Delete")),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(12,14,"Unlock")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.entityHistoryEnabled)}}function Le(a,r){1&a&&(e.\u0275\u0275element(0,"i",73),e.\u0275\u0275pipe(1,"localize")),2&a&&e.\u0275\u0275propertyInterpolate("title",e.\u0275\u0275pipeBind1(1,1,"HasOwnDatabase"))}function qe(a,r){1&a&&(e.\u0275\u0275elementStart(0,"span",74),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Yes")," "))}function He(a,r){1&a&&(e.\u0275\u0275elementStart(0,"span",75),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"No")," "))}function Oe(a,r){if(1&a&&(e.\u0275\u0275elementStart(0,"tr")(1,"td",48)(2,"div",59)(3,"button",60),e.\u0275\u0275element(4,"i",61)(5,"span",62),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,ze,14,16,"ul",63),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(9,"td")(10,"span",64),e.\u0275\u0275text(11),e.\u0275\u0275pipe(12,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(13,Le,2,3,"i",65),e.\u0275\u0275text(14),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"td")(16,"span",64),e.\u0275\u0275text(17),e.\u0275\u0275pipe(18,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(19),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td")(21,"span",64),e.\u0275\u0275text(22),e.\u0275\u0275pipe(23,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"td")(26,"span",64),e.\u0275\u0275text(27),e.\u0275\u0275pipe(28,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(29),e.\u0275\u0275pipe(30,"luxonFormat"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"td")(32,"span",64),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(35,qe,3,3,"span",66),e.\u0275\u0275template(36,He,3,3,"span",67),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"td")(38,"span",64),e.\u0275\u0275text(39),e.\u0275\u0275pipe(40,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"luxonFormat"),e.\u0275\u0275elementEnd()()),2&a){const t=r.$implicit;e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(7,15,"Actions")," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(12,17,"TenancyCodeName")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.connectionString),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.tenancyName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(18,19,"Name")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.name," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(23,21,"Edition")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.editionDisplayName," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(28,23,"SubscriptionEndDateUtc")," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",t.subscriptionEndDateUtc?e.\u0275\u0275pipeBind2(30,25,t.subscriptionEndDateUtc,"F"):"-"," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(34,28,"Active")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.isActive),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(40,30,"CreationTime")),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(42,32,t.creationTime,"F")," ")}}function Qe(a,r){1&a&&(e.\u0275\u0275elementStart(0,"div",76),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&a&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const je=function(){return{"min-width":"50rem"}},$e=[{path:"",component:(()=>{class a extends _.c{constructor(t,i,n,o,c,E){super(t),this._tenantService=i,this._activatedRoute=n,this._commonLookupService=o,this._impersonationService=c,this._dateTimeService=E,this.subscriptionDateRange=[this._dateTimeService.getStartOfDay(),this._dateTimeService.getEndOfDayPlusDays(30)],this.creationDateRange=[this._dateTimeService.getStartOfDay(),this._dateTimeService.getEndOfDay()],this._entityTypeFullName="Strategia.MultiTenancy.Tenant",this.entityHistoryEnabled=!1,this.filters={},this.setFiltersFromRoute()}setFiltersFromRoute(){null!=this._activatedRoute.snapshot.queryParams.subscriptionEndDateStart?(this.filters.subscriptionEndDateRangeActive=!0,this.subscriptionDateRange[0]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.subscriptionEndDateStart)):this.subscriptionDateRange[0]=this._dateTimeService.getStartOfDay(),null!=this._activatedRoute.snapshot.queryParams.subscriptionEndDateEnd?(this.filters.subscriptionEndDateRangeActive=!0,this.subscriptionDateRange[1]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.subscriptionEndDateEnd)):this.subscriptionDateRange[1]=this._dateTimeService.getEndOfDayPlusDays(30),null!=this._activatedRoute.snapshot.queryParams.creationDateStart?(this.filters.creationDateRangeActive=!0,this.creationDateRange[0]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.creationDateStart)):this.creationDateRange[0]=this._dateTimeService.getEndOfDayMinusDays(7),null!=this._activatedRoute.snapshot.queryParams.creationDateEnd?(this.filters.creationDateRangeActive=!0,this.creationDateRange[1]=this._dateTimeService.fromISODateString(this._activatedRoute.snapshot.queryParams.creationDateEnd)):this.creationDateRange[1]=this._dateTimeService.getEndOfDay(),null!=this._activatedRoute.snapshot.queryParams.editionId&&(this.filters.selectedEditionId=parseInt(this._activatedRoute.snapshot.queryParams.editionId))}ngOnInit(){this.filters.filterText=this._activatedRoute.snapshot.queryParams.filterText||"",this.setIsEntityHistoryEnabled(),this.impersonateUserLookupModal.configure({title:this.l("SelectAUser"),dataSource:(t,i,n,o)=>{let c=new p.MD_;return c.filter=n,c.maxResultCount=i,c.skipCount=t,c.tenantId=o,this._commonLookupService.findUsers(c)}})}getTenants(t){this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._tenantService.getTenants(this.filters.filterText,this.filters.subscriptionEndDateRangeActive?this.subscriptionDateRange[0]:void 0,this.filters.subscriptionEndDateRangeActive?this.subscriptionDateRange[1].endOf("day"):void 0,this.filters.creationDateRangeActive?this.creationDateRange[0]:void 0,this.filters.creationDateRangeActive?this.creationDateRange[1].endOf("day"):void 0,this.filters.selectedEditionId,void 0!==this.filters.selectedEditionId&&this.filters.selectedEditionId+""!="-1",this.primengTableHelper.getSorting(this.dataTable),this.primengTableHelper.getMaxResultCount(this.paginator,t),this.primengTableHelper.getSkipCount(this.paginator,t)).pipe((0,f.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(i=>{this.primengTableHelper.totalRecordsCount=i.totalCount,this.primengTableHelper.records=i.items,this.primengTableHelper.hideLoadingIndicator()}))}showUserImpersonateLookUpModal(t){abp.multiTenancy.getTenantIdCookie()?this.message.warn(this.l("YouAreNotLoggedInAsAHostUser")).then(()=>{document.location.reload()}):(this.impersonateUserLookupModal.tenantId=t.id,this.impersonateUserLookupModal.show())}unlockUser(t){this._tenantService.unlockTenantAdmin(new p.QJI({id:t.id})).subscribe(()=>{this.notify.success(this.l("UnlockedTenandAdmin",t.name))})}reloadPage(){this.paginator.changePage(this.paginator.getPage())}createTenant(){this.createTenantModal.show()}deleteTenant(t){this.message.confirm(this.l("TenantDeleteWarningMessage",t.tenancyName),this.l("AreYouSure"),i=>{i&&this._tenantService.deleteTenant(t.id).subscribe(()=>{this.reloadPage(),this.notify.success(this.l("SuccessfullyDeleted"))})})}showHistory(t){this.entityTypeHistoryModal.show({entityId:t.id.toString(),entityTypeFullName:this._entityTypeFullName,entityTypeDescription:t.tenancyName})}impersonateUser(t){this._impersonationService.impersonateTenant(parseInt(t.value),this.impersonateUserLookupModal.tenantId)}setIsEntityHistoryEnabled(){let t=abp.custom;this.entityHistoryEnabled=t.EntityHistory&&t.EntityHistory.isEnabled&&1===(0,h.Z)(t.EntityHistory.enabledEntities,i=>i===this._entityTypeFullName).length}}return a.\u0275fac=function(t){return new(t||a)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(p.ANv),e.\u0275\u0275directiveInject(C.gz),e.\u0275\u0275directiveInject(p.P0Z),e.\u0275\u0275directiveInject(R.h),e.\u0275\u0275directiveInject(b.C))},a.\u0275cmp=e.\u0275\u0275defineComponent({type:a,selectors:[["ng-component"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(Ee,7),e.\u0275\u0275viewQuery(Me,7),e.\u0275\u0275viewQuery(Ie,7),e.\u0275\u0275viewQuery(we,7),e.\u0275\u0275viewQuery(De,7),e.\u0275\u0275viewQuery(Fe,7),e.\u0275\u0275viewQuery(Ve,7)),2&t){let n;e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.impersonateUserLookupModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.createTenantModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.editTenantModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.tenantFeaturesModal=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.dataTable=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.paginator=n.first),e.\u0275\u0275queryRefresh(n=e.\u0275\u0275loadQuery())&&(i.entityTypeHistoryModal=n.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:73,vars:55,consts:[[3,"title","description"],["role","actions"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"form"],["autocomplete","new-password",3,"submit"],[1,"form-body"],[1,"row","mb-4"],[1,"col-xl-6"],["for","TenantNameOrTenancyCode",1,"form-label"],[1,"input-group"],["id","TenantNameOrTenancyCode","name","filterText","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"btn","btn-primary"],[1,"bi","bi-search","fs-3"],["for","EditionDropdown",1,"form-label"],[3,"selectedEdition","selectedEditionChange"],[1,"form-check","form-check-solid","form-label","py-1","mb-1"],["id","TenantsTable_SubscriptionEndDateRangeActive","type","checkbox","name","SubscriptionEndDateRangeActive","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["name","SubscriptionEndDateRange","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drpSubscriptionEndDateRange","bsDaterangepicker"],["id","TenantsTable_CreationDateRangeActive","type","checkbox","name","CreationDateRangeActive","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],["name","CreationDateRange","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drpCreationDateRange","bsDaterangepicker"],[1,"col-xl-12","text-end"],["name","RefreshButton",1,"btn","btn-primary"],[1,"fa","fa-sync","btn-md-icon"],[1,"d-none","d-md-inline-block"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],["sortMode","multiple",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[3,"modalSave"],["createTenantModal",""],["editTenantModal",""],["tenantFeaturesModal",""],[3,"itemSelected"],["impersonateUserLookupModal",""],["entityTypeHistoryModal",""],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg","fs-3","btn-md-icon"],[2,"width","130px"],["pSortableColumn","tenancyName"],["field","tenancyName"],["pSortableColumn","name"],["field","name"],["pSortableColumn","subscriptionEndDateUtc"],["field","subscriptionEndDateUtc"],["pSortableColumn","isActive"],["field","isActive"],["pSortableColumn","creationTime"],["field","creationTime"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"bi","bi-gear-fill"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"p-column-title"],["class","fa fa-database",3,"title",4,"ngIf"],["class","badge badge-success badge-inline",4,"ngIf"],["class","badge badge-dark badge-inline",4,"ngIf"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["role","menuitem",3,"disabled",4,"ngIf"],["role","menuitem",4,"ngIf"],["role","menuitem"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fa","fa-database",3,"title"],[1,"badge","badge-success","badge-inline"],[1,"badge","badge-dark","badge-inline"],[1,"primeng-no-data"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div")(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"div",1),e.\u0275\u0275template(5,Re,5,3,"button",2),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"div",3)(9,"div",4)(10,"div",5)(11,"form",6),e.\u0275\u0275listener("submit",function(){return i.getTenants()}),e.\u0275\u0275elementStart(12,"div",7)(13,"div",8)(14,"div",9)(15,"label",10),e.\u0275\u0275text(16),e.\u0275\u0275pipe(17,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",11)(19,"input",12),e.\u0275\u0275listener("ngModelChange",function(o){return i.filters.filterText=o}),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"button",13),e.\u0275\u0275element(22,"i",14),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(23,"div",9)(24,"label",15),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"edition-combo",16),e.\u0275\u0275listener("selectedEditionChange",function(o){return i.filters.selectedEditionId=o}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(28,"div",8)(29,"div",9)(30,"label",17)(31,"input",18),e.\u0275\u0275listener("ngModelChange",function(o){return i.filters.subscriptionEndDateRangeActive=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"span",19),e.\u0275\u0275text(33),e.\u0275\u0275pipe(34,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(35,"input",20,21),e.\u0275\u0275listener("dateChange",function(o){return i.subscriptionDateRange=o}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(37,"div",9)(38,"label",17)(39,"input",22),e.\u0275\u0275listener("ngModelChange",function(o){return i.filters.creationDateRangeActive=o}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"span",19),e.\u0275\u0275text(41),e.\u0275\u0275pipe(42,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(43,"input",23,24),e.\u0275\u0275listener("dateChange",function(o){return i.creationDateRange=o}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(45,"div",8)(46,"div",25)(47,"button",26),e.\u0275\u0275element(48,"i",27),e.\u0275\u0275elementStart(49,"span",28),e.\u0275\u0275text(50),e.\u0275\u0275pipe(51,"localize"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(52,"div",29)(53,"div",30)(54,"p-table",31,32),e.\u0275\u0275listener("onLazyLoad",function(o){return i.getTenants(o)}),e.\u0275\u0275template(56,Pe,27,21,"ng-template",33),e.\u0275\u0275template(57,Oe,43,35,"ng-template",34),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(58,Qe,3,3,"div",35),e.\u0275\u0275elementStart(59,"div",36)(60,"p-paginator",37,38),e.\u0275\u0275listener("onPageChange",function(o){return i.getTenants(o)}),e.\u0275\u0275pipe(62,"localize"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(63,"createTenantModal",39,40),e.\u0275\u0275listener("modalSave",function(){return i.getTenants()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"editTenantModal",39,41),e.\u0275\u0275listener("modalSave",function(){return i.getTenants()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(67,"tenantFeaturesModal",null,42),e.\u0275\u0275elementStart(69,"commonLookupModal",43,44),e.\u0275\u0275listener("itemSelected",function(o){return i.impersonateUser(o)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(71,"entityTypeHistoryModal",null,45),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,33,"Tenants"))("description",e.\u0275\u0275pipeBind1(3,35,"TenantsHeaderInfo")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,37,"Pages.Tenants.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(i.containerClass),e.\u0275\u0275advance(9),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(17,39,"TenantNameOrTenancyCode")," "),e.\u0275\u0275advance(3),e.\u0275\u0275propertyInterpolate("placeholder",e.\u0275\u0275pipeBind1(20,41,"SearchWithThreeDot")),e.\u0275\u0275property("ngModel",i.filters.filterText),e.\u0275\u0275advance(3),e.\u0275\u0275attribute("aria-label",i.l("Search")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(26,43,"Edition")),e.\u0275\u0275advance(2),e.\u0275\u0275property("selectedEdition",i.filters.selectedEditionId),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",i.filters.subscriptionEndDateRangeActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(34,45,"SubscriptionEndDate")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("date",i.subscriptionDateRange),e.\u0275\u0275attribute("disabled",i.filters.subscriptionEndDateRangeActive?null:"disabled"),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",i.filters.creationDateRangeActive),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(42,47,"CreationTime")," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("date",i.creationDateRange),e.\u0275\u0275attribute("disabled",i.filters.creationDateRangeActive?null:"disabled"),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(51,49,"Refresh")," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("busyIf",i.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",i.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",i.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(54,je)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==i.primengTableHelper.totalRecordsCount),e.\u0275\u0275advance(2),e.\u0275\u0275property("rows",i.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",i.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",i.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.\u0275\u0275pipeBind2(62,51,"TotalRecordsCount",i.primengTableHelper.totalRecordsCount)))},dependencies:[m.O5,l.\u0275NgNoValidate,l.DefaultValueAccessor,l.CheckboxControlValueAccessor,l.NgControlStatus,l.NgControlStatusGroup,l.NgModel,l.NgForm,x.Hz,x.Mq,x.TO,g.FR,g.TB,P.s,A.A,N.U,B.t,y.iA,U.jx,y.lQ,y.fz,k.D,q,H.$,ie,_e,ye,Te.n,v.F,Se.a],encapsulation:2,data:{animation:[(0,V.MH)()]}}),a})(),pathMatch:"full"}];let Ze=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[C.Bz.forChild($e),C.Bz]}),a})(),We=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=e.\u0275\u0275defineInjector({imports:[F.o,D.g,Ze]}),a})()}}]);