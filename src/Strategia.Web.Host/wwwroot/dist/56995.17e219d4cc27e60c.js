"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[56995],{80149:(L,k,a)=>{a.d(k,{s:()=>E});var t=a(41571),M=a(58127),S=a(37465),n=a(37857),x=a(36895),v=a(24006),e=a(20388),O=a(84908),I=a(61228),w=a(97433),W=a(3631),T=a(73565);const u=["headerKeyValueManager"],g=["createOrEditModal"];function p(r,d){1&r&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"localize"),t.\u0275\u0275elementEnd()),2&r&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"EditWebhookSubscription")))}function c(r,d){1&r&&(t.\u0275\u0275elementStart(0,"span"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"localize"),t.\u0275\u0275elementEnd()),2&r&&(t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,"AddNewWebhookSubscription")))}function f(r,d){if(1&r){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",5)(2,"h4",6),t.\u0275\u0275template(3,p,3,3,"span",4),t.\u0275\u0275template(4,c,3,3,"span",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",7),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.close())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",8)(7,"div",9)(8,"div",10)(9,"label",11),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"localize"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"input",12,13),t.\u0275\u0275listener("ngModelChange",function(l){t.\u0275\u0275restoreView(i);const h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.webhookSubscription.webhookUri=l)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(14,"validation-messages",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",10)(16,"label",11),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"localize"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"p-autoComplete",15),t.\u0275\u0275listener("ngModelChange",function(l){t.\u0275\u0275restoreView(i);const h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.webhooks=l)})("completeMethod",function(l){t.\u0275\u0275restoreView(i);const h=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(h.filterWebhooks(l))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(20,"div",16),t.\u0275\u0275element(21,"key-value-list-manager",17,18),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(23,"div",19)(24,"button",20),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.close())}),t.\u0275\u0275text(25),t.\u0275\u0275pipe(26,"localize"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"button",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const l=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(l.save())}),t.\u0275\u0275element(28,"i",22),t.\u0275\u0275elementStart(29,"span"),t.\u0275\u0275text(30),t.\u0275\u0275pipe(31,"localize"),t.\u0275\u0275elementEnd()()()()}if(2&r){const i=t.\u0275\u0275reference(13),o=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",o.webhookSubscriptionId),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!o.webhookSubscriptionId),t.\u0275\u0275advance(1),t.\u0275\u0275property("disabled",o.saving),t.\u0275\u0275attribute("aria-label",o.l("Close")),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(11,22,"WebhookEndpoint")," *"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",o.webhookSubscription.webhookUri),t.\u0275\u0275advance(2),t.\u0275\u0275property("formCtrl",i),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(18,24,"WebhookEvents")," *"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngModel",o.webhooks)("suggestions",o.filteredWebhooks)("minLength",1)("multiple",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("header",o.l("AdditionalWebhookHeaders"))("keyPlaceHolder",o.l("HeaderKey"))("valuePlaceHolder",o.l("HeaderValue"))("items",o.headers),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",o.saving),t.\u0275\u0275advance(1),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(26,26,"Cancel")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!o.webhookSubscription.webhookUri||!o.webhooks||0==o.webhooks.length)("buttonBusy",o.saving)("busyText",o.l("SavingWithThreeDot")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(31,28,"Save"))}}const y=function(r){return{backdrop:"static",keyboard:r}};let E=(()=>{class r extends M.c{constructor(i,o){super(i),this._webhookSubscriptionService=o,this.modalSave=new t.EventEmitter,this.objectKeys=Object.keys,this.webhookSubscription=new n.OUW,this.active=!1,this.saving=!1,this.webhooks=new Array,this.headers=[],this.getAllWebhooks()}show(i){if(this.resetValues(),this.webhookSubscriptionId=i,!i)return this.active=!0,void this.modal.show();this.showMainSpinner(),this._webhookSubscriptionService.getSubscription(i).subscribe(o=>{this.webhookSubscription=o,this.webhooks=this.webhookSubscription.webhooks.map(h=>new S.r({name:h,value:h}));let l=Object.keys(this.webhookSubscription.headers);this.webhookSubscription.headers&&l.length>0&&(this.headers=l.map(h=>({key:h,value:this.webhookSubscription.headers[h]}))),this.hideMainSpinner(),this.active=!0,this.modal.show()},o=>{this.hideMainSpinner()})}resetValues(){this.webhookSubscription=new n.OUW,this.webhooks=[],this.headers=[]}save(){let i;this.webhookSubscription.webhooks=this.webhooks.map(o=>o.value),this.webhookSubscription.headers={},this.headerKeyValueManager.getItems().forEach(o=>{this.webhookSubscription.headers[o.key]=o.value}),i=this.webhookSubscriptionId?this._webhookSubscriptionService.updateSubscription(this.webhookSubscription):this._webhookSubscriptionService.addSubscription(this.webhookSubscription),i.subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.hideMainSpinner(),this.modalSave.emit(null),this.close()},o=>{this.hideMainSpinner()})}getAllWebhooks(){this._webhookSubscriptionService.getAllAvailableWebhooks().subscribe(i=>{this.allWebhooks=i.items.map(o=>{var l;return new S.r({name:null!==(l=o.displayName)&&void 0!==l?l:o.name,value:o.name})})})}filterWebhooks(i){this.filteredWebhooks=this.allWebhooks.filter(o=>o.name.toLowerCase().includes(i.query.toLowerCase())||o.value.toLowerCase().includes(i.query.toLowerCase()))}close(){this.active=!1,this.modal.hide()}removeHeader(i){document.getElementById("additional-header-"+i).remove(),delete this.webhookSubscription.headers[i]}}return r.\u0275fac=function(i){return new(i||r)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(n.NpR))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["create-or-edit-webhook-subscription"]],viewQuery:function(i,o){if(1&i&&(t.\u0275\u0275viewQuery(u,5),t.\u0275\u0275viewQuery(g,7)),2&i){let l;t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(o.headerKeyValueManager=l.first),t.\u0275\u0275queryRefresh(l=t.\u0275\u0275loadQuery())&&(o.modal=l.first)}},outputs:{modalSave:"modalSave"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:4,consts:[["bsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade",3,"config"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[4,"ngIf"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"mb-5","col-12"],[1,"mb-5"],["for","Name",1,"form-label"],["id","WebhookEndpointURL","type","text","placeholder","https://example.com/postreceive","name","Name","required","","pattern","https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)",1,"form-control",3,"ngModel","ngModelChange"],["endPointUrl","ngModel"],[3,"formCtrl"],["field","name","name","MultiSelectInput","id","MultiSelectInput","inputStyleClass","form-control","styleClass","width-percent-100",3,"ngModel","suggestions","minLength","multiple","ngModelChange","completeMethod"],[1,"mb-2"],[3,"header","keyPlaceHolder","valuePlaceHolder","items"],["headerKeyValueManager",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline","btn-outline-primary","fw-bold",3,"disabled","click"],["type","button",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText","click"],[1,"fa","fa-save"]],template:function(i,o){1&i&&(t.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"div",3),t.\u0275\u0275template(4,f,32,30,"div",4),t.\u0275\u0275elementEnd()()()),2&i&&(t.\u0275\u0275property("config",t.\u0275\u0275pureFunction1(2,y,!o.saving)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",o.active))},dependencies:[x.O5,v.DefaultValueAccessor,v.NgControlStatus,v.RequiredValidator,v.PatternValidator,v.NgModel,e.oB,O.k,I.L,w.s,W.Qc,T.F],styles:["#additional-header-list[_ngcontent-%COMP%]{height:auto;overflow-y:auto;background-color:#e5e5e5;padding:5px;resize:vertical}#additional-header-list[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{overflow:auto}"]}),r})()},56995:(L,k,a)=>{a.r(k),a.d(k,{WebhookSubscriptionModule:()=>B});var t=a(75603),M=a(60263),S=a(91170),n=a(58127),x=a(28746),v=a(64369),e=a(41571),O=a(37857),I=a(36895),w=a(17806),W=a(7318),T=a(10805),u=a(55317),g=a(80149),p=a(73565),c=a(34201);const f=["createOrEditWebhookSubscriptionModal"];function y(s,b){if(1&s){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(m);const C=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(C.createSubscription())}),e.\u0275\u0275element(1,"i",23),e.\u0275\u0275elementStart(2,"span",24),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()()}2&s&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,1,"AddNewWebhookSubscription")," "))}function E(s,b){1&s&&(e.\u0275\u0275elementStart(0,"tr"),e.\u0275\u0275element(1,"th",25),e.\u0275\u0275elementStart(2,"th"),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"th"),e.\u0275\u0275text(6),e.\u0275\u0275pipe(7,"localize"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"th"),e.\u0275\u0275text(9),e.\u0275\u0275pipe(10,"localize"),e.\u0275\u0275elementEnd()()),2&s&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(4,3,"WebhookEndpoint")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(7,5,"WebhookEvents")),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(10,7,"IsActive")))}function r(s,b){if(1&s&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&s){const m=b.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",m," ")}}function d(s,b){if(1&s&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,r,2,1,"div",30),e.\u0275\u0275elementEnd()),2&s){const m=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",m.webhooks)}}function i(s,b){1&s&&(e.\u0275\u0275elementStart(0,"span",31),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&s&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"Yes")," "))}function o(s,b){1&s&&(e.\u0275\u0275elementStart(0,"span",32),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&s&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"No")," "))}function l(s,b){if(1&s){const m=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td")(2,"button",26),e.\u0275\u0275listener("click",function(){const K=e.\u0275\u0275restoreView(m).$implicit,P=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(P.goToSubscriptionDetail(K.id))}),e.\u0275\u0275text(3),e.\u0275\u0275pipe(4,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"td"),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"td"),e.\u0275\u0275template(8,d,2,1,"div",27),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"td"),e.\u0275\u0275template(10,i,3,3,"span",28),e.\u0275\u0275template(11,o,3,3,"span",29),e.\u0275\u0275elementEnd()()}if(2&s){const m=b.$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(4,5,"Details")," "),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",m.webhookUri," "),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.webhooks),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",m.isActive),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!m.isActive)}}function h(s,b){1&s&&(e.\u0275\u0275elementStart(0,"div",33),e.\u0275\u0275text(1),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275elementEnd()),2&s&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind1(2,1,"NoData")," "))}const V=function(){return{"min-width":"50rem"}},D=[{path:"",component:(()=>{class s extends n.c{constructor(m,_,C){super(m),this._webhookSubscriptionService=_,this._router=C}getSubscriptions(m){this.primengTableHelper.showLoadingIndicator(),this._webhookSubscriptionService.getAllSubscriptions().pipe((0,x.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(_=>{this.primengTableHelper.totalRecordsCount=_.items.length,this.primengTableHelper.records=_.items,this.primengTableHelper.hideLoadingIndicator()})}createSubscription(){this.createOrEditWebhookSubscriptionModal.show()}goToSubscriptionDetail(m){this._router.navigate(["app/admin/webhook-subscriptions-detail"],{queryParams:{id:m}})}}return s.\u0275fac=function(m){return new(m||s)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(O.NpR),e.\u0275\u0275directiveInject(S.F0))},s.\u0275cmp=e.\u0275\u0275defineComponent({type:s,selectors:[["ng-component"]],viewQuery:function(m,_){if(1&m&&e.\u0275\u0275viewQuery(f,7),2&m){let C;e.\u0275\u0275queryRefresh(C=e.\u0275\u0275loadQuery())&&(_.createOrEditWebhookSubscriptionModal=C.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:30,vars:23,consts:[[3,"title","description"],["role","actions"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-12"],["webhookAlertArea",""],[1,"alert","bg-light-primary","alert-dismissible","d-flex","align-items-center","p-5","mb-10"],[1,"svg-icon","svg-icon-2hx","svg-icon-primary","me-4"],["width","24","height","24","role","img","aria-label","Warning:",1,"flex-shrink-0","me-2"],[0,"xlink","href","#warning-icon"],[1,"d-flex","flex-column"],["type","button","data-bs-dismiss","alert",1,"btn-close","position-absolute","position-sm-relative","m-2","m-sm-0","top-0","end-0","btn","btn-icon","ms-sm-auto",3,"click"],[1,"col","primeng-datatable-container",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[3,"modalSave"],["createOrEditWebhookSubscriptionModal",""],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-lg","fs-3","btn-md-icon"],[1,"d-none","d-md-inline-block"],[2,"width","100px"],[1,"btn","btn-sm","btn-primary",3,"click"],[4,"ngIf"],["class","badge badge-success m-1",4,"ngIf"],["class","badge badge-dark m-1",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"badge","badge-success","m-1"],[1,"badge","badge-dark","m-1"],[1,"primeng-no-data"]],template:function(m,_){if(1&m){const C=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"sub-header",0),e.\u0275\u0275pipe(2,"localize"),e.\u0275\u0275pipe(3,"localize"),e.\u0275\u0275elementStart(4,"div",1),e.\u0275\u0275template(5,y,5,3,"button",2),e.\u0275\u0275pipe(6,"permission"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div")(8,"div",3)(9,"div",4)(10,"div",5)(11,"div",6,7)(13,"div",8)(14,"span",9),e.\u0275\u0275namespaceSVG(),e.\u0275\u0275elementStart(15,"svg",10),e.\u0275\u0275element(16,"use",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275namespaceHTML(),e.\u0275\u0275elementStart(17,"div",12)(18,"span"),e.\u0275\u0275text(19),e.\u0275\u0275pipe(20,"localize"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(C);const P=e.\u0275\u0275reference(12);return e.\u0275\u0275resetView(P.remove())}),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"div",14)(23,"p-table",15,16),e.\u0275\u0275listener("onLazyLoad",function(P){return _.getSubscriptions(P)}),e.\u0275\u0275template(25,E,11,9,"ng-template",17),e.\u0275\u0275template(26,l,12,7,"ng-template",18),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(27,h,3,3,"div",19),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(28,"create-or-edit-webhook-subscription",20,21),e.\u0275\u0275listener("modalSave",function(){return _.getSubscriptions()}),e.\u0275\u0275elementEnd()()()}2&m&&(e.\u0275\u0275property("@routerTransition",void 0),e.\u0275\u0275advance(1),e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(2,14,"WebhookSubscriptions"))("description",e.\u0275\u0275pipeBind1(3,16,"WebhookSubscriptionsInfo")),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(6,18,"Pages.Administration.WebhookSubscription.Create")),e.\u0275\u0275advance(2),e.\u0275\u0275classMap(_.containerClass),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(20,20,"WebhookPageInfo")),e.\u0275\u0275advance(3),e.\u0275\u0275property("busyIf",_.primengTableHelper.isLoading),e.\u0275\u0275advance(1),e.\u0275\u0275propertyInterpolate("rows",_.primengTableHelper.defaultRecordsCountPerPage),e.\u0275\u0275property("value",_.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.\u0275\u0275pureFunction0(22,V)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",0==_.primengTableHelper.totalRecordsCount))},dependencies:[I.sg,I.O5,w.U,W.iA,T.jx,u.$,g.s,p.F,c.a],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[(0,v.MH)()]}}),s})(),pathMatch:"full"}];let A=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[S.Bz.forChild(D),S.Bz]}),s})(),B=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=e.\u0275\u0275defineNgModule({type:s}),s.\u0275inj=e.\u0275\u0275defineInjector({imports:[M.o,t.g,A]}),s})()},84908:(L,k,a)=>{a.d(k,{k:()=>T});var t=a(58127),M=a(57997),S=a(55397),n=a(41571),x=a(36895),v=a(24006),e=a(73565);function O(u,g){1&u&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"localize"),n.\u0275\u0275elementEnd()),2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(2,1,"Add")))}function I(u,g){1&u&&(n.\u0275\u0275elementStart(0,"span"),n.\u0275\u0275text(1),n.\u0275\u0275pipe(2,"localize"),n.\u0275\u0275elementEnd()),2&u&&(n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate(n.\u0275\u0275pipeBind1(2,1,"Edit")))}function w(u,g){if(1&u){const p=n.\u0275\u0275getCurrentView();n.\u0275\u0275elementStart(0,"div",10),n.\u0275\u0275text(1),n.\u0275\u0275elementStart(2,"button",11)(3,"span",12),n.\u0275\u0275listener("click",function(){const y=n.\u0275\u0275restoreView(p).$implicit,E=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(E.removeItem(y))}),n.\u0275\u0275element(4,"i",13),n.\u0275\u0275elementEnd()(),n.\u0275\u0275elementStart(5,"button",14)(6,"span",12),n.\u0275\u0275listener("click",function(){const y=n.\u0275\u0275restoreView(p).$implicit,E=n.\u0275\u0275nextContext(2);return n.\u0275\u0275resetView(E.openItemEdit(y))}),n.\u0275\u0275element(7,"i",15),n.\u0275\u0275elementEnd()()()}if(2&u){const p=g.$implicit,c=n.\u0275\u0275nextContext(2);n.\u0275\u0275classProp("alert-white",c.addOrEditKey!==p.key)("alert-warning",c.addOrEditKey===p.key),n.\u0275\u0275advance(1),n.\u0275\u0275textInterpolate2(' "',p.key,'" : "',p.value,'" ')}}function W(u,g){if(1&u&&(n.\u0275\u0275elementStart(0,"div",8),n.\u0275\u0275template(1,w,8,6,"div",9),n.\u0275\u0275elementEnd()),2&u){const p=n.\u0275\u0275nextContext();n.\u0275\u0275advance(1),n.\u0275\u0275property("ngForOf",p.items)}}let T=(()=>{class u extends t.c{constructor(p){super(p),this.addOrEditKey="",this.addOrEditValue="",this.isEdit=!1,this.items||(this.items=[]),this.keyPlaceHolder||this.l("Key"),this.valuePlaceHolder||this.l("Value")}onKeyChange(){let p=(0,M.Z)(this.items,c=>c.key===this.addOrEditKey);this.isEdit=-1!==p,this.isEdit&&(this.addOrEditValue=this.items[p].value)}openItemEdit(p){this.addOrEditKey=p.key,this.addOrEditValue=p.value,this.isEdit=!0}removeItem(p){(0,S.Z)(this.items,c=>c.key===p.key),this.onKeyChange()}addOrEdit(){if(!this.addOrEditKey||!this.addOrEditValue)return;let p={key:this.addOrEditKey,value:this.addOrEditValue},c=(0,M.Z)(this.items,f=>f.key===p.key);-1!==c?this.items.splice(c,1,p):this.items.push(p),this.addOrEditKey="",this.addOrEditValue=""}getItems(){return this.items}}return u.\u0275fac=function(p){return new(p||u)(n.\u0275\u0275directiveInject(n.Injector))},u.\u0275cmp=n.\u0275\u0275defineComponent({type:u,selectors:[["key-value-list-manager"]],inputs:{header:"header",keyPlaceHolder:"keyPlaceHolder",valuePlaceHolder:"valuePlaceHolder",items:"items"},features:[n.\u0275\u0275InheritDefinitionFeature],decls:10,vars:8,consts:[[1,"mb-2"],[1,"form-label"],[1,"input-group"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange","change"],["type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","button",1,"btn","btn-primary",3,"click"],[4,"ngIf"],["class","key-value-items-list",4,"ngIf"],[1,"key-value-items-list"],["class","alert alert-custom alert-white alert-bold m-1 min-h-60px","role","alert",3,"alert-white","alert-warning",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-custom","alert-white","alert-bold","m-1","min-h-60px"],["type","button","data-dismiss","alert","aria-label","Close",1,"btn","btn-danger","float-end","btn-sm","m-0","p-3"],["aria-hidden","true",3,"click"],[1,"la","la-close","fa-1x","m-0","p-0"],["type","button",1,"btn","btn-primary","float-end","btn-sm","m-0","me-1","p-3"],[1,"la","la-edit","fa-1x","m-0","p-0"]],template:function(p,c){1&p&&(n.\u0275\u0275elementStart(0,"div",0)(1,"label",1),n.\u0275\u0275text(2),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(3,"div",2)(4,"input",3),n.\u0275\u0275listener("ngModelChange",function(y){return c.addOrEditKey=y})("change",function(){return c.onKeyChange()}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(5,"input",4),n.\u0275\u0275listener("ngModelChange",function(y){return c.addOrEditValue=y}),n.\u0275\u0275elementEnd(),n.\u0275\u0275elementStart(6,"button",5),n.\u0275\u0275listener("click",function(){return c.addOrEdit()}),n.\u0275\u0275template(7,O,3,3,"span",6),n.\u0275\u0275template(8,I,3,3,"span",6),n.\u0275\u0275elementEnd()(),n.\u0275\u0275template(9,W,2,1,"div",7),n.\u0275\u0275elementEnd()),2&p&&(n.\u0275\u0275advance(2),n.\u0275\u0275textInterpolate(c.header),n.\u0275\u0275advance(2),n.\u0275\u0275propertyInterpolate("placeholder",c.keyPlaceHolder),n.\u0275\u0275property("ngModel",c.addOrEditKey),n.\u0275\u0275advance(1),n.\u0275\u0275propertyInterpolate("placeholder",c.valuePlaceHolder),n.\u0275\u0275property("ngModel",c.addOrEditValue),n.\u0275\u0275advance(2),n.\u0275\u0275property("ngIf",!c.isEdit),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",c.isEdit),n.\u0275\u0275advance(1),n.\u0275\u0275property("ngIf",c.items))},dependencies:[x.sg,x.O5,v.DefaultValueAccessor,v.NgControlStatus,v.NgModel,e.F],styles:[".key-value-items-list[_ngcontent-%COMP%]{height:auto;overflow-y:auto;background-color:#e5e5e5;padding:5px;resize:vertical}.key-value-items-list[_ngcontent-%COMP%]   .alert-text[_ngcontent-%COMP%]{overflow:auto}.key-value-items-list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{line-height:30px}"]}),u})()},55397:(L,k,a)=>{a.d(k,{Z:()=>E});var t=a(25736),M=a(25575);var x=a(97298);const I=function O(r,d){return d.length<2?r:(0,x.Z)(r,function v(r,d,i){var o=-1,l=r.length;d<0&&(d=-d>l?0:l+d),(i=i>l?l:i)<0&&(i+=l),l=d>i?0:i-d>>>0,d>>>=0;for(var h=Array(l);++o<l;)h[o]=r[o+d];return h}(d,0,-1))};var w=a(62168);const T=function W(r,d){return d=(0,M.Z)(d,r),null==(r=I(r,d))||delete r[(0,w.Z)(function S(r){var d=null==r?0:r.length;return d?r[d-1]:void 0}(d))]};var u=a(56667),p=Array.prototype.splice;const E=function y(r,d){var i=[];if(!r||!r.length)return i;var o=-1,l=[],h=r.length;for(d=(0,t.Z)(d,3);++o<h;){var V=r[o];d(V,o,r)&&(i.push(V),l.push(o))}return function c(r,d){for(var i=r?d.length:0,o=i-1;i--;){var l=d[i];if(i==o||l!==h){var h=l;(0,u.Z)(l)?p.call(r,l,1):T(r,l)}}}(r,l),i}}}]);